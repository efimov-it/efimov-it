{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/pages/users.vue?20e2","webpack:///./src/pages/deal-pages/watcher/object-view.vue?0ec0","webpack:///./src/components/tab-view.vue?4a54","webpack:///./src/pages/login-page.vue?393a","webpack:///./src/config.js","webpack:///./src/components/form-input.vue?f59f","webpack:///src/components/form-input.vue","webpack:///./src/components/form-input.vue?df46","webpack:///./src/components/form-input.vue","webpack:///src/pages/login-page.vue","webpack:///./src/pages/login-page.vue?1663","webpack:///./src/pages/login-page.vue","webpack:///./src/pages/main-page.vue?4061","webpack:///./src/components/breadcrumbs.vue?0dc5","webpack:///src/components/breadcrumbs.vue","webpack:///./src/components/breadcrumbs.vue?674d","webpack:///./src/components/breadcrumbs.vue","webpack:///src/pages/main-page.vue","webpack:///./src/pages/main-page.vue?850f","webpack:///./src/pages/main-page.vue","webpack:///./src/pages/users.vue?a642","webpack:///./src/components/table-view.vue?ad56","webpack:///./src/components/row-view.vue?ae35","webpack:///./src/components/presentation.vue?1eb4","webpack:///src/components/presentation.vue","webpack:///./src/components/presentation.vue?a6d0","webpack:///./src/components/presentation.vue","webpack:///src/components/row-view.vue","webpack:///./src/components/row-view.vue?d85f","webpack:///./src/components/row-view.vue","webpack:///./src/components/more-tools.vue?b159","webpack:///src/components/more-tools.vue","webpack:///./src/components/more-tools.vue?1294","webpack:///./src/components/more-tools.vue","webpack:///src/components/table-view.vue","webpack:///./src/components/table-view.vue?f4f6","webpack:///./src/components/table-view.vue","webpack:///src/pages/users.vue","webpack:///./src/pages/users.vue?613f","webpack:///./src/pages/users.vue","webpack:///./src/pages/deals.vue?a391","webpack:///./src/pages/deal-view.vue?4efa","webpack:///./src/components/tab-view.vue?4c3e","webpack:///./src/components/tab.vue?e5e3","webpack:///src/components/tab.vue","webpack:///./src/components/tab.vue?4e6b","webpack:///./src/components/tab.vue","webpack:///src/components/tab-view.vue","webpack:///./src/components/tab-view.vue?646e","webpack:///./src/components/tab-view.vue","webpack:///src/pages/deal-view.vue","webpack:///./src/pages/deal-view.vue?2e84","webpack:///./src/pages/deal-view.vue","webpack:///src/pages/deals.vue","webpack:///./src/pages/deals.vue?f21f","webpack:///./src/pages/deals.vue","webpack:///./src/pages/watcher.vue?0cfa","webpack:///./src/components/tables-view.vue?53f7","webpack:///./src/components/presentation-form.vue?fbaf","webpack:///src/components/presentation-form.vue","webpack:///./src/components/presentation-form.vue?d20e","webpack:///./src/components/presentation-form.vue","webpack:///src/components/tables-view.vue","webpack:///./src/components/tables-view.vue?1172","webpack:///./src/components/tables-view.vue","webpack:///src/pages/watcher.vue","webpack:///./src/pages/watcher.vue?c948","webpack:///./src/pages/watcher.vue","webpack:///./src/pages/deal-pages/watcher/objects.vue?ac78","webpack:///src/pages/deal-pages/watcher/objects.vue","webpack:///./src/pages/deal-pages/watcher/objects.vue?e733","webpack:///./src/pages/deal-pages/watcher/objects.vue","webpack:///./src/pages/deal-pages/watcher/object-view.vue?2e2a","webpack:///src/pages/deal-pages/watcher/object-view.vue","webpack:///./src/pages/deal-pages/watcher/object-view.vue?1405","webpack:///./src/pages/deal-pages/watcher/object-view.vue","webpack:///./src/pages/deal-pages/ship-info.vue?481b","webpack:///src/pages/deal-pages/ship-info.vue","webpack:///./src/pages/deal-pages/ship-info.vue?183c","webpack:///./src/pages/deal-pages/ship-info.vue","webpack:///./src/pages/deal-pages/about/bank-guarantees.vue?e05d","webpack:///src/pages/deal-pages/about/bank-guarantees.vue","webpack:///./src/pages/deal-pages/about/bank-guarantees.vue?920c","webpack:///./src/pages/deal-pages/about/bank-guarantees.vue","webpack:///./src/pages/deal-pages/about/limit.vue?9c86","webpack:///./src/components/limit-view.vue?2d60","webpack:///src/components/limit-view.vue","webpack:///./src/components/limit-view.vue?6ce2","webpack:///./src/components/limit-view.vue","webpack:///src/pages/deal-pages/about/limit.vue","webpack:///./src/pages/deal-pages/about/limit.vue?6e3f","webpack:///./src/pages/deal-pages/about/limit.vue","webpack:///./src/pages/deal-pages/objects.vue?9a06","webpack:///src/pages/deal-pages/objects.vue","webpack:///./src/pages/deal-pages/objects.vue?b63c","webpack:///./src/pages/deal-pages/objects.vue","webpack:///./src/pages/deal-pages/objects/object-view.vue?a14f","webpack:///src/pages/deal-pages/objects/object-view.vue","webpack:///./src/pages/deal-pages/objects/object-view.vue?66ea","webpack:///./src/pages/deal-pages/objects/object-view.vue","webpack:///./src/pages/deal-pages/objects/about.vue?b7bd","webpack:///src/pages/deal-pages/objects/about.vue","webpack:///./src/pages/deal-pages/objects/about.vue?d9d7","webpack:///./src/pages/deal-pages/objects/about.vue","webpack:///./src/pages/deal-pages/objects/watchers.vue?f3b8","webpack:///src/pages/deal-pages/objects/watchers.vue","webpack:///./src/pages/deal-pages/objects/watchers.vue?3c70","webpack:///./src/pages/deal-pages/objects/watchers.vue","webpack:///./src/pages/deal-pages/objects/up.vue?e724","webpack:///src/pages/deal-pages/objects/up.vue","webpack:///./src/pages/deal-pages/objects/up.vue?f5f2","webpack:///./src/pages/deal-pages/objects/up.vue","webpack:///./src/pages/deal-pages/objects/ush.vue?d13e","webpack:///src/pages/deal-pages/objects/ush.vue","webpack:///./src/pages/deal-pages/objects/ush.vue?c4a9","webpack:///./src/pages/deal-pages/objects/ush.vue","webpack:///./src/pages/deal-pages/objects/uh.vue?f9c3","webpack:///src/pages/deal-pages/objects/uh.vue","webpack:///./src/pages/deal-pages/objects/uh.vue?eeb1","webpack:///./src/pages/deal-pages/objects/uh.vue","webpack:///./src/pages/deal-pages/payment-stages.vue?88a4","webpack:///src/pages/deal-pages/payment-stages.vue","webpack:///./src/pages/deal-pages/payment-stages.vue?dd4c","webpack:///./src/pages/deal-pages/payment-stages.vue","webpack:///./src/pages/deal-pages/key-events.vue?386b","webpack:///src/pages/deal-pages/key-events.vue","webpack:///./src/pages/deal-pages/key-events.vue?e08f","webpack:///./src/pages/deal-pages/key-events.vue","webpack:///./src/pages/deal-pages/claim-work/claim-work.vue?e196","webpack:///src/pages/deal-pages/claim-work/claim-work.vue","webpack:///./src/pages/deal-pages/claim-work/claim-work.vue?2951","webpack:///./src/pages/deal-pages/claim-work/claim-work.vue","webpack:///./src/pages/deal-pages/claim-work/judical-work.vue?77f1","webpack:///src/pages/deal-pages/claim-work/judical-work.vue","webpack:///./src/pages/deal-pages/claim-work/judical-work.vue?f28c","webpack:///./src/pages/deal-pages/claim-work/judical-work.vue","webpack:///./src/pages/deal-pages/cash-execution.vue?2e45","webpack:///src/pages/deal-pages/cash-execution.vue","webpack:///./src/pages/deal-pages/cash-execution.vue?6e02","webpack:///./src/pages/deal-pages/cash-execution.vue","webpack:///./src/router.js","webpack:///./src/App.vue?e171","webpack:///./src/components/app-header.vue?55b1","webpack:///src/components/app-header.vue","webpack:///./src/components/app-header.vue?2d34","webpack:///./src/components/app-header.vue","webpack:///./src/components/header-buttons.vue?693d","webpack:///src/components/header-buttons.vue","webpack:///./src/components/header-buttons.vue?72b2","webpack:///./src/components/header-buttons.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/components/table-view.vue?96d8","webpack:///./src/components/tables-view.vue?45bc","webpack:///./src/components/breadcrumbs.vue?047c","webpack:///./src/components/more-tools.vue?4543","webpack:///./src/components/presentation-form.vue?83b7","webpack:///./src/pages/deal-pages/objects/up.vue?e4b9","webpack:///./src/pages/login-page.vue?0c79","webpack:///./src/components/app-header.vue?31ac","webpack:///./src/pages/main-page.vue?60c5","webpack:///./src/components/tab.vue?9658","webpack:///./src/pages/deal-pages/about/limit.vue?0944","webpack:///./src/pages/deals.vue?ede9","webpack:///./src/pages/deal-pages/watcher/objects.vue?362b","webpack:///./src/components/row-view.vue?a61b","webpack:///./src/components/limit-view.vue?8f04","webpack:///./src/components/presentation.vue?277d","webpack:///./src/components/form-input.vue?ee34","webpack:///./src/components/header-buttons.vue?efa3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","on","login","staticRenderFns","host","_s","text","directives","rawName","expression","placeholder","domProps","Array","isArray","_i","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","_q","type","composing","component","breadCrumbs","updateLinks","goToMain","update","style","_l","item","index","goToLink","link","add","staticStyle","tableHeaders","sort","suppressScrollY","undefined","columns","headers","tableHeader","refInFor","class","noSort","_e","firstColumn","wheelPropagation","suppressScrollX","tableRow","id","alwaysUpdate","inRowAdd","keys","subTableColumns","checkboxChange","rowClick","addRow","addRowInSubTable","addInnerDate","manyQueries","loadNewData","role","rowDataBinding","isGrey","isEdit","columnsWidth","tableCell","$set","file","url","extension","parseFloat","replace","split","option","removeFile","loadFile","options","optionClick","rowData","subTable","subTableState","rows","presentation","Date","date","toLocaleDateString","note","line","state","customStyle","setClick","openDeal","tab","tabClick","selected","page","current","buttonClick","path","canImport","importExcel","exportExcel","isActive","title","close","addPresentation","notes","pres","deletePresentation","saveAndClose","infoHeaders","pages","addLimit","years","year","yearOption","addYear","row","cell","toLocaleString","limitOption","editLimit","modalWindowIsShow","modalEvent","yearUpdate","addColumn","userSelect","addGroupQuery","group","loadUP","groupTools","addRaport","Vue","use","VueRouter","base","process","routes","LoginPage","Users","Watcher","children","WatcherObjects","WatcherObjectView","UP","USh","UH","MainPage","Deals","DealView","ShipInfo","BankGuaratees","Limit","Objects","ObjectView","AboutObject","Whatchers","PaymentStages","KeyEvents","ClaimWork","JudicalWork","CashExecution","isAdmin","headerButtonsPressed","_t","admin","logOut","headerButtons","methods","sessionStorage","clear","router","mounted","getItem","location","pathname","indexOf","el","render","h","App"],"mappings":"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","file":"js/app.48a703f7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./object-view.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./object-view.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab-view.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab-view.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-form-wrapper\"},[_c('form',{staticClass:\"login-form\"},[_vm._m(0),_c('div',{staticClass:\"login-form_body\"},[_c('h3',{staticClass:\"form-header\"},[_vm._v(\"Авторизация\")]),_c('form-input',{ref:\"email\",attrs:{\"text\":\"E-mail\",\"placeholder\":\"you@example.com\",\"name\":\"email\",\"type\":\"email\",\"width\":\"291px\"}}),_c('form-input',{ref:\"password\",attrs:{\"text\":\"Пароль\",\"placeholder\":\"Введите ваш пароль\",\"name\":\"password\",\"type\":\"password\",\"width\":\"291px\"}}),_c('button',{staticClass:\"form-submit\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.login}},[_vm._v(\"Войти в систему\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"login-form_header\"},[_c('h2',{staticClass:\"login-form_header-text\"},[_vm._v(\" CLERC \")])])}]\n\nexport { render, staticRenderFns }","export default({\r\n    host: 'https://clercback.dgz.ru'\r\n});\r\n//http://192.168.0.144:8000\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"form-input\"},[_c('span',{staticClass:\"form-input_text\"},[_vm._v(_vm._s(_vm.text))]),((_vm.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-input_object\",attrs:{\"placeholder\":_vm.placeholder,\"name\":_vm.name,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.value)?_vm._i(_vm.value,null)>-1:(_vm.value)},on:{\"change\":function($event){var $$a=_vm.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.value=$$a.concat([$$v]))}else{$$i>-1&&(_vm.value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.value=$$c}}}}):((_vm.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-input_object\",attrs:{\"placeholder\":_vm.placeholder,\"name\":_vm.name,\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.value,null)},on:{\"change\":function($event){_vm.value=null}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-input_object\",attrs:{\"placeholder\":_vm.placeholder,\"name\":_vm.name,\"type\":_vm.type},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <label class=\"form-input\">\r\n        <span class=\"form-input_text\">{{text}}</span>\r\n        <input class=\"form-input_object\" :placeholder=\"placeholder\" :name=\"name\" :type=\"type\" v-model=\"value\"/>\r\n    </label>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['text',\r\n            'placeholder',\r\n            'name',\r\n            'type',\r\n            'width'],\r\n    data(){\r\n        return {\r\n            value: ''\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.form-input{\r\n    display: block;\r\n    text-align: left;\r\n\r\n    &_text{\r\n        font-size: 16px;\r\n        color: #2E2E2E;\r\n        font-weight: bold;\r\n        display: block;\r\n    }\r\n\r\n    &_object{\r\n        padding: 10px 0;\r\n        border: none;\r\n        border-bottom: 1px solid #DCDCE8;\r\n        color: #2E2E2E;\r\n        min-width: 290px;\r\n    }\r\n    &_object::placeholder{\r\n        color: #DCDCE8;\r\n        transition: opacity 0.3s;\r\n    }\r\n    &_object:focus::placeholder{\r\n        opacity: 0;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form-input.vue?vue&type=template&id=32f5ea5b&\"\nimport script from \"./form-input.vue?vue&type=script&lang=js&\"\nexport * from \"./form-input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./form-input.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"login-form-wrapper\">\r\n      <form class=\"login-form\">\r\n          <header class=\"login-form_header\">\r\n              <h2 class=\"login-form_header-text\">\r\n                  CLERC\r\n              </h2>\r\n          </header>\r\n          <div class=\"login-form_body\">\r\n            <h3 class=\"form-header\">Авторизация</h3>\r\n              \r\n            <form-input ref=\"email\" text=\"E-mail\" placeholder=\"you@example.com\" name=\"email\" type=\"email\" width=\"291px\" />\r\n            <form-input ref=\"password\" text=\"Пароль\" placeholder=\"Введите ваш пароль\" name=\"password\" type=\"password\" width=\"291px\" />\r\n\r\n            <button v-on:click=\"login\" class=\"form-submit\" type=\"submit\">Войти в систему</button>\r\n          </div>\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport config from '../config'\r\n\r\nimport router from '../router'\r\n\r\nimport FormInput from '../components/form-input.vue'\r\nVue.component('form-input', FormInput);\r\nexport default {\r\n    methods: {\r\n        login: function(event){\r\n            event.preventDefault();\r\n            if(this.$refs.email.value !== '' && this.$refs.password.value !== ''){\r\n                axios.post(config.host+'/oauth/token',\r\n                            \"username=\"+this.$refs.email.value+\r\n                            \"&password=\"+this.$refs.password.value+\r\n                            \"&client_id=1\"+\r\n                            \"&client_secret=c75IGwuqkjrO1RWCE4Ntn4zqpQdpgnEO2wGT9iMT\"+\r\n                            \"&grant_type=password\")\r\n                .then(resp=>{\r\n                    sessionStorage.setItem('access_token', resp.data.access_token);\r\n                    sessionStorage.setItem('expires_in', resp.data.expires_in);\r\n                    sessionStorage.setItem('refresh_token', resp.data.refresh_token);\r\n                    sessionStorage.setItem('token_type', resp.data.token_type);\r\n\r\n                    const AuthStr = (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token')); \r\n                    axios.get(config.host+'/api/profile', {headers: { Authorization: AuthStr } }).then(resp => {\r\n                        \r\n                        sessionStorage.setItem('role', resp.data.data.role);\r\n\r\n                        if(resp.data.data.role == 1){\r\n                            this.$emit('update', 'logIn');\r\n                            router.push('/main');\r\n                        }\r\n                        else{\r\n                            this.$emit('update', 'watcher');\r\n                            router.push('/watcher');\r\n                        }\r\n\r\n                    }).catch(error => {\r\n                        console.log(error);\r\n                    });\r\n                }).catch(()=>{\r\n                    alert('Неверный логин или пароль.');\r\n                });\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        if(sessionStorage.getItem('access_token')){\r\n            const AuthStr = (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token')); \r\n            axios.get(config.host+'/api/profile', {headers: { Authorization: AuthStr } }).then(resp => {\r\n                \r\n                sessionStorage.setItem('role', resp.data.data.role);\r\n\r\n                if(resp.data.data.role == 1){\r\n                    this.$emit('update', 'logIn');\r\n                    router.push('/main');\r\n                }\r\n                else{\r\n                    this.$emit('update', 'watcher');\r\n                    router.push('/watcher');\r\n                }\r\n\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.login-form-wrapper{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n.login-form{\r\n    background-color: #ffffff;\r\n    border-radius: 5px;\r\n    box-shadow: 0px 0px 16px #E7E7F0;\r\n    padding: 25px 30px 45px 30px;\r\n\r\n    &_header{\r\n        padding-bottom: 25px;\r\n\r\n        &-text{\r\n            color: #5361FF;\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            cursor: default;\r\n            user-select: none;\r\n        }\r\n    }\r\n\r\n    &_body{\r\n        padding: 0 100px;\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        & > *:not(:last-child){\r\n            margin-bottom: 30px;\r\n        }\r\n    }\r\n}\r\n.form-header{\r\n    font-size: 38px;\r\n    text-align: left;\r\n}\r\n.form-submit{\r\n    background-color: #5361FF;\r\n    color: #ffffff;\r\n    padding: 15px 0;\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 16px;\r\n    border: none;\r\n    border-radius: 5px;\r\n    margin: 20px 0 -10px 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login-page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login-page.vue?vue&type=template&id=59bc28b8&\"\nimport script from \"./login-page.vue?vue&type=script&lang=js&\"\nexport * from \"./login-page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login-page.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-page-wrapper\"},[_c('breadcrumbs',{attrs:{\"data\":_vm.breadCrumbs},on:{\"updateLinks\":_vm.updateLinks,\"goToMain\":_vm.goToMain}}),_c('div',{staticClass:\"main-page-content\"},[_c('router-view',{on:{\"update\":_vm.update}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breadcrumbs\"},[_c('a',{staticClass:\"back-link breadcrumbs_back-link\",style:('visibility: ' + [_vm.data.length > 1 ? 'visible' : 'hidden']),on:{\"click\":function($event){return _vm.goToMain()}}},[_vm._v(\"На главную\")]),_c('ul',{staticClass:\"breadcrumbs_list\"},_vm._l((_vm.data),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){index == 0 ? _vm.goToMain : (index < _vm.data.length - 1 ? _vm.goToLink(item.link, index) : '')}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"breadcrumbs\">\r\n        <a :style=\"'visibility: ' + [data.length > 1 ? 'visible' : 'hidden']\" v-on:click=\"goToMain()\" class=\"back-link breadcrumbs_back-link\">На главную</a>\r\n        <ul class=\"breadcrumbs_list\">\r\n            <li v-for=\"(item, index) in data\" :key=\"index\" @click=\"index == 0 ? goToMain : (index < data.length - 1 ? goToLink(item.link, index) : '')\">\r\n                {{item.name}}\r\n            </li>\r\n        </ul>\r\n    </div>    \r\n</template>\r\n\r\n<script>\r\nimport router from '../router'\r\nexport default {\r\n    props: ['data'],\r\n    data () {\r\n        return {\r\n            \r\n        }\r\n    },\r\n    methods: {\r\n        goToMain : function(){\r\n            this.$emit('goToMain');\r\n            if(sessionStorage.getItem('role')==1){\r\n                router.push('/main/');\r\n            }\r\n            else{\r\n                router.push('/watcher/objects/');\r\n            }\r\n        },\r\n        goToLink(link, index){\r\n            this.$emit('updateLinks', index);\r\n            router.push(link)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.breadcrumbs{\r\n    display: grid;\r\n    grid-template-rows: 20px auto;\r\n\r\n    &_back-link{\r\n        margin-bottom: 5px;\r\n        width: 150px;\r\n    }\r\n    &_list{\r\n        font-size: 28px;\r\n        color: #2E2E2E;\r\n        list-style: none;\r\n        display: flex;\r\n        flex-direction: row;\r\n\r\n        li{\r\n            font-weight: lighter;\r\n            display: flex;\r\n            align-items: center;\r\n            cursor: default;\r\n        }\r\n\r\n        li:not(:first-child)::before{\r\n            content: '';\r\n            width: 3px;\r\n            height: 3px;\r\n            border-radius: 1.5px;\r\n            background-color: #2E2E2E;\r\n            position: absolute;\r\n            margin-left: -10px;\r\n        }\r\n\r\n        li:not(:last-child){\r\n            margin-right: 23px;\r\n        }\r\n\r\n        li:first-child{\r\n            font-weight: bold;\r\n        }\r\n\r\n        li:last-child:not(:first-child){\r\n            color: #5361FF;\r\n            text-decoration: underline;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./breadcrumbs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./breadcrumbs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./breadcrumbs.vue?vue&type=template&id=b6030820&\"\nimport script from \"./breadcrumbs.vue?vue&type=script&lang=js&\"\nexport * from \"./breadcrumbs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./breadcrumbs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"main-page-wrapper\">\r\n        <breadcrumbs @updateLinks=\"updateLinks\" @goToMain=\"goToMain\" :data=\"breadCrumbs\" />\r\n        <div class=\"main-page-content\">\r\n            <router-view @update=\"update\"></router-view>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\n\r\nimport BreadCrumbs from '../components/breadcrumbs.vue';\r\nVue.component('breadcrumbs', BreadCrumbs);\r\nexport default {\r\n    data (){\r\n        return {\r\n            breadCrumbs: [\r\n                {\r\n                    name: 'Контракты',\r\n                    link: {path: '/main/'}\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    methods: {\r\n        update : function(params){\r\n            switch(params.event){\r\n                case 'openDeal':\r\n                    this.breadCrumbs.push({name: params.name, link: params.link});\r\n                break;\r\n            }\r\n        },\r\n        goToMain : function(){\r\n            this.breadCrumbs = [{name:'Контракты', link: {path: '/main/'}}];\r\n        },\r\n        updateLinks(index){\r\n            this.breadCrumbs.splice(index + 1, this.breadCrumbs.length - index - 1);\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        this.$emit('update', 'logIn');\r\n    },\r\n\r\n    updated () {\r\n        if ( (this.$route.path == '/main/' || this.$route.path == '/main') & this.breadCrumbs.length > 1) {\r\n            this.breadCrumbs =  [\r\n                {\r\n                    name: 'Контракты',\r\n                    link: {path: '/main/'}\r\n                }\r\n            ]\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.main-page-wrapper{\r\n    padding: 25px 60px;\r\n    width: 100vw;\r\n}\r\n.main-page-content{\r\n    height: calc(100vh - 250px);\r\n    margin: 40px 0;\r\n    position: relative;\r\n    //box-shadow: 0px 0px 16px #E7E7F0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main-page.vue?vue&type=template&id=6d6d8359&\"\nimport script from \"./main-page.vue?vue&type=script&lang=js&\"\nexport * from \"./main-page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main-page.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-page-wrapper\"},[_c('breadcrumbs',{attrs:{\"data\":_vm.breadCrumbs}}),_c('div',{staticClass:\"main-page-content\"},[_c('div',{staticClass:\"scroll-area\"},[_c('div',[_c('button',{staticClass:\"add-row add-new-deal\",on:{\"click\":_vm.add}},[_vm._v(\"Добавить нового пользователя\")])]),_c('table-view',{ref:\"table\",staticStyle:{\"width\":\"auto\",\"height\":\"auto\"},attrs:{\"headers\":_vm.tableHeaders,\"data\":_vm.data},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-view-wrapper\"},[_c('scroll-bar',{staticClass:\"table-view\",attrs:{\"settings\":{suppressScrollY : true}}},[(this.data != undefined)?_c('header',{staticClass:\"table-view_headers\",style:(_vm.columns?_vm.columns:'grid-template-columns: repeat('+(this.headers.length)+', minmax(300px, 1fr)) 40px;')},_vm._l((this.headers),function(tableHeader,index){return _c('div',{key:index,ref:\"header\",refInFor:true,class:'table-view_header' + (_vm.noSort ? ' no-sort': ''),on:{\"click\":function($event){!_vm.noSort ? _vm.sort(index) : ''}}},[_vm._v(\" \"+_vm._s(tableHeader)+\" \")])}),0):_vm._e(),(this.data != undefined)?_c('scroll-bar',{class:'table-view_body'+[this.firstColumn ? ' table-view_body__first-column' : ''],attrs:{\"settings\":{wheelPropagation : true, suppressScrollX : true}}},[_vm._l((this.data),function(tableRow,index){return _c('div',{key:index,staticClass:\"table-view_row\"},[_c('row-view',{ref:tableRow.id,refInFor:true,attrs:{\"index\":index,\"rowData\":tableRow,\"alwaysUpdate\":_vm.alwaysUpdate,\"inRowAdd\":_vm.inRowAdd,\"columnsWidth\":_vm.columns?_vm.columns:'grid-template-columns: repeat('+([tableRow.data != undefined ? Object.keys(tableRow.data).length : 0])+', minmax(300px, 1fr)) 40px;',\"subTableColumns\":_vm.subTableColumns},on:{\"checkboxChange\":_vm.checkboxChange,\"rowClick\":_vm.rowClick,\"addRow\":_vm.addRow,\"addRowInSubTable\":_vm.addRowInSubTable,\"addInnerDate\":_vm.addInnerDate}})],1)}),(this.inRowAdd == true)?_c('div',{staticClass:\"new-row-button-wrapper\"},[(_vm.manyQueries != -1)?_c('button',{staticClass:\"add-row\",staticStyle:{\"margin-right\":\"30px\"},on:{\"click\":_vm.loadNewData}},[_vm._v(\"Загрузить ещё...\")]):_vm._e(),(_vm.role == 1)?_c('button',{staticClass:\"new-row-button\",on:{\"click\":function($event){return _vm.addRow()}}},[_vm._v(\"Добавить новую запись\")]):_vm._e()]):_vm._e()],2):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:'table-view_row-content'+[_vm.rowDataBinding.isGrey?' color-grey':'']},[(!_vm.isEdit)?_c('div',{style:('display: grid; '+_vm.columnsWidth)},_vm._l((_vm.rowDataBinding.data),function(tableCell,i){return _c('div',{key:i,staticClass:\"table-view_cell\",on:{\"click\":function($event){return _vm.rowClick()}}},[(tableCell.type == 'text' |\n                            tableCell.type == 'number' |\n                            tableCell.type == 'date' |\n                            tableCell.type == 'password' |\n                            tableCell.type == 'email' |\n                            tableCell.type == 'select')?_c('span',[_vm._v(\" \"+_vm._s(tableCell.value)+\" \")]):_vm._e(),(tableCell.type == 'checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(tableCell.value),expression:\"tableCell.value\"}],staticClass:\"table-view_checkbox\",attrs:{\"id\":'checkBox'+_vm.index,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(tableCell.value)?_vm._i(tableCell.value,null)>-1:(tableCell.value)},on:{\"change\":[function($event){var $$a=tableCell.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(tableCell, \"value\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(tableCell, \"value\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(tableCell, \"value\", $$c)}},function($event){return _vm.checkboxChange(_vm.index)}]}}):_vm._e(),(tableCell.type == 'checkbox')?_c('label',{attrs:{\"for\":'checkBox'+_vm.index}}):_vm._e(),(tableCell.type == 'presentation')?_c('div',[_c('presentation',{attrs:{\"data\":tableCell.value}})],1):_vm._e(),(tableCell.type == 'files')?_c('div',{staticClass:\"table-view_cell-links\"},_vm._l((tableCell.value),function(file,i){return _c('a',{key:i,staticClass:\"table-view_cell-link\",attrs:{\"title\":\"Нажмите чтобы посмотреть или скачать\",\"href\":_vm.host+file.url,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(file.name)+\".\"+_vm._s(file.extension)+\" \")])}),0):_vm._e()])}),0):_vm._e(),(_vm.isEdit)?_c('div',{style:('display: grid; '+_vm.columnsWidth)},_vm._l((_vm.rowDataBinding.data),function(tableCell,i){return _c('div',{key:i},[(tableCell.type == 'number')?_c('input',{ref:\"inputs\",refInFor:true,staticClass:\"table-view_cell\",attrs:{\"title\":tableCell.value,\"type\":\"number\"},domProps:{\"value\":tableCell.value ? parseFloat(tableCell.value.replace(/\\s/g, '').replace(/,/g, '.')) : '',\"checked\":tableCell.value}}):_vm._e(),(tableCell.type == 'date')?_c('input',{ref:\"inputs\",refInFor:true,staticClass:\"table-view_cell\",attrs:{\"title\":tableCell.value,\"type\":\"date\"},domProps:{\"value\":[tableCell.value != null ? tableCell.value.split('.')[2]+'-'+tableCell.value.split('.')[1]+'-'+tableCell.value.split('.')[0] : ''],\"checked\":tableCell.value}}):_vm._e(),(tableCell.type == 'password')?_c('input',{ref:\"inputs\",refInFor:true,staticClass:\"table-view_cell\",attrs:{\"title\":tableCell.value,\"type\":\"password\"},domProps:{\"value\":tableCell.value,\"checked\":tableCell.value}}):_vm._e(),(tableCell.type == 'email')?_c('input',{ref:\"inputs\",refInFor:true,staticClass:\"table-view_cell\",attrs:{\"title\":tableCell.value,\"type\":\"email\"},domProps:{\"value\":tableCell.value,\"checked\":tableCell.value}}):_vm._e(),(tableCell.type == 'text')?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(tableCell.value),expression:\"tableCell.value\"}],ref:\"inputs\",refInFor:true,staticClass:\"table-view_cell-textarea\",attrs:{\"title\":tableCell.value},domProps:{\"value\":(tableCell.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(tableCell, \"value\", $event.target.value)}}}):_vm._e(),(tableCell.type == 'select')?_c('select',{ref:\"inputs\",refInFor:true,staticClass:\"table-view_cell-select\"},_vm._l((tableCell.keys),function(option,index){return _c('option',{key:index,domProps:{\"value\":index}},[_vm._v(\" \"+_vm._s(option)+\" \")])}),0):_vm._e(),(tableCell.type == 'presentation')?_c('div',[_c('presentation',{attrs:{\"data\":tableCell.value}})],1):_vm._e(),(tableCell.type == 'files')?_c('div',{staticClass:\"table-view_cell-links__edit\"},[_vm._l((tableCell.value),function(file,index){return _c('span',{key:index,staticClass:\"table-view_cell-link\"},[_vm._v(\" \"+_vm._s(file.name)+\".\"+_vm._s(file.extension)+\" \"),_c('button',{staticClass:\"remove-file\",attrs:{\"title\":\"Удалить файл\"},on:{\"click\":function($event){return _vm.removeFile(file.id, tableCell, index)}}})])}),_c('button',{staticClass:\"add-row\",on:{\"click\":function($event){return _vm.loadFile(tableCell)}}},[_vm._v(\"Загрузить файл\")])],2):_vm._e()])}),0):_vm._e(),(_vm.rowDataBinding.options && !_vm.isEdit)?_c('more-tools',{attrs:{\"options\":_vm.rowDataBinding.options,\"id\":_vm.rowDataBinding.id},on:{\"option-click\":_vm.optionClick}}):_vm._e(),(_vm.isEdit)?_c('div',{ref:\"endEditBtn\",staticClass:\"more-tools save-btn\",attrs:{\"title\":\"Сохранить изменения\"}}):_vm._e()],1),(this.rowData.subTable != undefined)?_c('div',{class:'subtable '+[_vm.subTableState == true ? 'active' : '']},[_c('div',{staticClass:\"table-wrapper color-grey\"},[_c('table-view',{ref:'subTable'+this.rowData.id,attrs:{\"headers\":this.rowData.subTable.headers,\"data\":this.rowData.subTable.rows,\"inRowAdd\":_vm.inRowAdd,\"columns\":_vm.subTableColumns},on:{\"addRow\":_vm.addRowInSubTable,\"sort\":_vm.sort}})],1)]):_vm._e(),_c('input',{ref:\"fileDialog\",staticClass:\"input-dialog\",attrs:{\"type\":\"file\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"presentation\"},_vm._l((_vm.data),function(presentation,i){return _c('div',{key:i,staticClass:\"presentation-wrapper\"},[_c('div',{staticClass:\"presentation_date\"},[_vm._v(\" \"+_vm._s((new Date(presentation.date.replace(/\"/g, ''))).toLocaleDateString())+\" \")]),_c('ul',{staticClass:\"presentation_note\"},_vm._l((presentation.note.split('<br />')),function(line,index){return _c('li',{key:index},[_vm._v(\" \"+_vm._s(line)+\" \")])}),0)])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"presentation\">\r\n        <div v-for=\"(presentation, i) in data\" :key=\"i\" class=\"presentation-wrapper\">\r\n            <div class=\"presentation_date\">\r\n                {{(new Date(presentation.date.replace(/\"/g, ''))).toLocaleDateString()}}\r\n            </div>\r\n            <ul class=\"presentation_note\">\r\n                <li v-for=\"(line, index) in presentation.note.split('<br />')\" :key=\"index\">\r\n                    {{line}}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['data'],\r\n    methods: {\r\n        updateJSON () {\r\n            this._props.data.forEach(pres => {\r\n                pres.note = pres.note.replace(/[\"|\"]|\"/g, '').replace(/\",\"/, '<br />');\r\n                pres.note = pres.note.replace(/\\\\r\\\\n|\\\\n/g, '<br />');\r\n                pres.date = pres.date.replace('\"', '');\r\n            });\r\n        }\r\n    },\r\n    mounted () {\r\n        this.updateJSON();\r\n    },\r\n    updated () {\r\n        this.updateJSON();\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .presentation-wrapper {\r\n        display: grid;\r\n        grid-template-columns: 2fr 3fr;\r\n        grid-gap: 15px;\r\n        padding: 10px;\r\n        border: 1px solid #5361ff;\r\n        border-bottom: none;\r\n    }\r\n    .presentation-wrapper:first-child {\r\n        border-radius: 7px 7px 0px 0px;\r\n    }\r\n    .presentation-wrapper:last-child {\r\n        border-bottom: 1px solid #5361ff;\r\n        border-radius: 0px 0px 7px 7px;\r\n    }\r\n    .presentation-wrapper:first-child:last-child {\r\n        border-radius: 7px;\r\n    }\r\n    .presentation_note {\r\n        list-style: none;\r\n        \r\n        &-text:not(:last-child) {\r\n            margin-bottom: 10px;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./presentation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./presentation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./presentation.vue?vue&type=template&id=6c6f9628&\"\nimport script from \"./presentation.vue?vue&type=script&lang=js&\"\nexport * from \"./presentation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./presentation.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div :class=\"'table-view_row-content'+[rowDataBinding.isGrey?' color-grey':'']\">\r\n            <div v-if=\"!isEdit\" :style=\"'display: grid; '+columnsWidth\">\r\n                <div\r\n                    v-for=\"(tableCell, i) in rowDataBinding.data\"\r\n                    :key=\"i\"\r\n                    class=\"table-view_cell\"\r\n                    v-on:click=\"rowClick()\">\r\n                    <span v-if=\"tableCell.type == 'text' |\r\n                                tableCell.type == 'number' |\r\n                                tableCell.type == 'date' |\r\n                                tableCell.type == 'password' |\r\n                                tableCell.type == 'email' |\r\n                                tableCell.type == 'select'\">\r\n                        {{tableCell.value}}\r\n                    </span>\r\n\r\n                    <input :id=\"'checkBox'+index\" v-if=\"tableCell.type == 'checkbox'\" type=\"checkbox\" class=\"table-view_checkbox\" v-model=\"tableCell.value\" v-on:change=\"checkboxChange(index)\">\r\n                    <label v-if=\"tableCell.type == 'checkbox'\" :for=\"'checkBox'+index\"></label>\r\n\r\n                    <div v-if=\"tableCell.type == 'presentation'\">\r\n                        <presentation :data=\"tableCell.value\"/>\r\n                    </div>\r\n\r\n                    <div v-if=\"tableCell.type == 'files'\" class=\"table-view_cell-links\">\r\n                        <a title=\"Нажмите чтобы посмотреть или скачать\"\r\n                        :href=\"host+file.url\"\r\n                        target=\"_blank\"\r\n                        class=\"table-view_cell-link\"\r\n                        v-for=\"(file, i) in tableCell.value\"\r\n                        :key=\"i\">\r\n                            {{file.name}}.{{file.extension}}\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div v-if=\"isEdit\" :style=\"'display: grid; '+columnsWidth\">\r\n                <div v-for=\"(tableCell, i) in rowDataBinding.data\"\r\n                    :key=\"i\">\r\n                    <!-- ({{tableCell.id}})  -->\r\n                    <input  v-if=\"tableCell.type == 'number'\" ref=\"inputs\" class=\"table-view_cell\" :value=\"tableCell.value ? parseFloat(tableCell.value.replace(/\\s/g, '').replace(/,/g, '.')) : ''\" :title=\"tableCell.value\" :checked=\"tableCell.value\" type=\"number\" />\r\n                    <input  v-if=\"tableCell.type == 'date'\" ref=\"inputs\" class=\"table-view_cell\" :value=\"[tableCell.value != null ? tableCell.value.split('.')[2]+'-'+tableCell.value.split('.')[1]+'-'+tableCell.value.split('.')[0] : '']\" :title=\"tableCell.value\" :checked=\"tableCell.value\" type=\"date\" />\r\n                    <input  v-if=\"tableCell.type == 'password'\" ref=\"inputs\" class=\"table-view_cell\" :value=\"tableCell.value\" :title=\"tableCell.value\" :checked=\"tableCell.value\" type=\"password\" />\r\n                    <input  v-if=\"tableCell.type == 'email'\" ref=\"inputs\" class=\"table-view_cell\" :value=\"tableCell.value\" :title=\"tableCell.value\" :checked=\"tableCell.value\" type=\"email\" />\r\n                    \r\n                    <textarea  v-if=\"tableCell.type == 'text'\" ref=\"inputs\" class=\"table-view_cell-textarea\" :title=\"tableCell.value\" v-model=\"tableCell.value\"></textarea>\r\n                \r\n                    <select v-if=\"tableCell.type == 'select'\" ref=\"inputs\" class=\"table-view_cell-select\">\r\n                        <option v-for=\"(option, index) in tableCell.keys\"\r\n                                :value=\"index\"\r\n                                :key=\"index\">\r\n                                    {{option}}\r\n                        </option>\r\n                    </select>\r\n\r\n                    <div v-if=\"tableCell.type == 'presentation'\">\r\n                        <presentation :data=\"tableCell.value\"/>\r\n                    </div>\r\n\r\n                    <div v-if=\"tableCell.type == 'files'\" class=\"table-view_cell-links__edit\">\r\n                        <span class=\"table-view_cell-link\"\r\n                            v-for=\"(file, index) in tableCell.value\"\r\n                            :key=\"index\">\r\n                                {{file.name}}.{{file.extension}}\r\n                                <button title=\"Удалить файл\"\r\n                                        class=\"remove-file\"\r\n                                        @click=\"removeFile(file.id, tableCell, index)\">\r\n                                </button>\r\n                        </span>\r\n                        <button @click=\"loadFile(tableCell)\" class=\"add-row\">Загрузить файл</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <more-tools @option-click=\"optionClick\" v-if=\"rowDataBinding.options && !isEdit\" :options=\"rowDataBinding.options\" :id=\"rowDataBinding.id\"/>\r\n            <div ref=\"endEditBtn\" class=\"more-tools save-btn\" v-if=\"isEdit\" title=\"Сохранить изменения\"></div>\r\n        </div>\r\n        <!-- <div v-if=\"inRowAdd == true\" class=\"table-view_add-row\" title=\"Добавить строку\" v-on:click=\"addRow(rowDataBinding.id)\"></div>\r\n        <div v-if=\"inRowAdd == true\" class=\"table-view_add-row\" title=\"Добавить строку\" v-on:click=\"addRow(rowDataBinding.id)\"></div> -->\r\n\r\n        <div v-if=\"this.rowData.subTable != undefined\" :class=\"'subtable '+[subTableState == true ? 'active' : '']\">\r\n            <div class=\"table-wrapper color-grey\">\r\n                <table-view :ref=\"'subTable'+this.rowData.id\"\r\n                            @addRow=\"addRowInSubTable\"\r\n                            :headers=\"this.rowData.subTable.headers\"\r\n                            :data=\"this.rowData.subTable.rows\"\r\n                            :inRowAdd=\"inRowAdd\"\r\n                            @sort=\"sort\"\r\n                            :columns=\"subTableColumns\"></table-view>\r\n            </div>\r\n        </div>\r\n                    \r\n        <input ref=\"fileDialog\" type=\"file\" class=\"input-dialog\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../config';\r\nimport TableView from './table-view';\r\nimport Axios from 'axios';\r\nVue.component('table-view', TableView);\r\n\r\nimport Presentation from './presentation';\r\nVue.component('presentation', Presentation)\r\n\r\nexport default {\r\n    props: ['rowData',\r\n            'inRowAdd',\r\n            'index',\r\n            'columnsWidth',\r\n            'subTableColumns',\r\n            'alwaysUpdate'],\r\n    data () {\r\n        return {\r\n            host: '',\r\n            isEdit: false,\r\n            event: null,\r\n            subTableState: false,\r\n            rowDataBinding : [],\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token')),\r\n\r\n            dataBeforeEdit: []\r\n        }\r\n    },\r\n    methods : {\r\n        sort(sortArray){\r\n            this.rowData.subTable.rows = [];\r\n            this.$nextTick().then(()=>{\r\n                this.rowData.subTable.rows = sortArray;\r\n            });\r\n        },\r\n\r\n\r\n        checkboxChange : function(index){\r\n            this.$emit('checkboxChange', index);\r\n        },\r\n        optionClick : function(option){\r\n            switch (option.data.id) {\r\n                case 'edit':\r\n                    this.event = option.data.event;\r\n                    this.isEdit = true;\r\n                break;\r\n                case 'add':\r\n                    option.data.event();\r\n                break;\r\n                case 'editPresentation':\r\n                    option.data.event(option.id);\r\n                break;\r\n                case 'delet':\r\n                    option.data.event(option.id);\r\n                break;\r\n                case 'import':\r\n                    option.event(this.rowDataBinding.id);\r\n                break;\r\n            }\r\n        },\r\n        rowClick : function(){\r\n            if(this.rowData.subTable == undefined){\r\n                this.$emit('rowClick', this.rowDataBinding.id);\r\n            }\r\n            else{\r\n                this.subTableState = !this.subTableState;\r\n            }\r\n        },\r\n        addRow : function(position){\r\n            this.$emit('addRow', position);\r\n        },\r\n        addRowInSubTable(){\r\n            this.$emit('addRowInSubTable', this.rowData.id)\r\n        },\r\n        addInnerDate(){\r\n            this.$emit('addInnerDate', this.rowData.id, this.$refs.newInnerDate[0].value);\r\n        },\r\n        loadFile(tableCell){\r\n            let fileDialog = this.$refs.fileDialog;\r\n            \r\n            fileDialog.onchange = ()=>{\r\n                let formData = new FormData();\r\n\r\n                formData.append('file', fileDialog.files[0]);\r\n                \r\n                Axios({\r\n                    method: 'post',\r\n                    url: config.host+'/api/'+this.rowData.data.files.model+'/'+this.rowData.id+'/files',\r\n                    data: formData,\r\n                    headers: { Authorization: this.AuthStr } \r\n                }).then(resp=>{\r\n                    if(tableCell.value == ''){\r\n                        tableCell.value = [];\r\n                    }\r\n                    tableCell.value.push(resp.data.data);\r\n                }).catch(error => {\r\n                    alert('Ошибка!\\r\\rНе удалось загрузить файл.\\r\\rИнформация об ошибке:\\r'+error);\r\n                });\r\n                \r\n                fileDialog.value = '';\r\n            }\r\n            fileDialog.click();\r\n        },\r\n        removeFile(id, tableCell, index){\r\n            \r\n            if(confirm('Вы действительно хотите удалить этот файл?')){\r\n                Axios({\r\n                    method: 'delete',\r\n                    url: config.host+'/api/files/'+id,\r\n                    headers: { Authorization: this.AuthStr } \r\n                }).then().catch(error=>{\r\n                    if(error.response.data.error.messages[0] == 'true'){\r\n                        tableCell.value.splice(index, 1);\r\n                    }\r\n                    else{\r\n                        alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        endEdit () {\r\n            let result = [];\r\n            this.$forceUpdate();\r\n            \r\n            this.$refs.inputs.forEach((text/*, index*/) => {\r\n                //let columnName = Object.keys(this.rowDataBinding.data)[index];\r\n                // if(this.alwaysUpdate == true){\r\n                //     result.push(text.value);\r\n                // }\r\n                // else{\r\n                    result.push(text.value);\r\n                    // if(this.rowDataBinding.data[columnName].value != text.value){\r\n                    //     result.push(text.value);\r\n                    // }\r\n                    // else{\r\n                    //     result.push(null);\r\n                    // }\r\n                // }\r\n            });\r\n            \r\n            this.isEdit = false;\r\n            this.event(result, this.rowData.id);\r\n        }\r\n    },\r\n    created () {\r\n        this.rowDataBinding = this.rowData;\r\n        this.host = config.host;\r\n    },\r\n    beforeUpdate(){\r\n        if(this.$refs.inputs != undefined){\r\n            if(this.isEdit){\r\n                this.$refs.inputs.forEach(input => {\r\n                    this.dataBeforeEdit.push(input.value)\r\n                });\r\n            }\r\n        }\r\n    },\r\n    updated () {\r\n        let context = this;\r\n        if(context.isEdit){\r\n            context.$refs.inputs.forEach((input, i) => {\r\n                input.onkeydown = (e) => {\r\n                    if(e.keyCode == 13){\r\n                        this.endEdit ();\r\n                    }\r\n\r\n                    if(e.keyCode == 27){\r\n                        context.isEdit = false;\r\n                    }\r\n                }\r\n\r\n                if(this.dataBeforeEdit.length > 0){\r\n                    if(input.type == 'date'){\r\n                        input.value = this.dataBeforeEdit[i]    ;\r\n                    }\r\n                }\r\n            });\r\n\r\n            context.$refs.endEditBtn.onclick = () => {\r\n                this.endEdit();\r\n            }\r\n\r\n            this.dataBeforeEdit = [];\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.save-btn {\r\n    background-color: #ffffff;\r\n    background-image: url('../assets/save.svg') !important;\r\n    background-size: 50% !important;\r\n    border: 1px solid #dcdce8;\r\n\r\n    &:hover {\r\n    background-image: url('../assets/save-focus.svg') !important;\r\n    }\r\n}\r\n\r\n.subtable{\r\n    max-height: 0px;\r\n    overflow: hidden;\r\n    opacity: 0;\r\n    transition: all 0.3s;\r\n\r\n    &.active{\r\n        max-height: 999999999px;\r\n        opacity: 1;\r\n        padding: 20px;\r\n    }\r\n}\r\n\r\n.table-view_checkbox{\r\n    display: none;\r\n}\r\n.table-view_checkbox + label{\r\n    width: 20px;\r\n    height: 20px;\r\n    border: 3px solid #5361FF;\r\n    border-radius: 3px;\r\n    display: block;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &::after{\r\n        position: absolute;\r\n        margin-left: 25px;\r\n        content: 'Пользователь не выбран';\r\n        white-space: nowrap;\r\n    }\r\n}\r\n.table-view_checkbox:checked + label{\r\n    background-color: #5361FF;\r\n    background-image: url('../assets/check.svg');\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 80%;\r\n    \r\n    &::after{\r\n        content: 'Пользователь выбран';\r\n    }\r\n}\r\n.color-grey{\r\n    background-color: #f5f5f5;\r\n}\r\n.table-view_cell-select{\r\n    margin: 10px 20px;\r\n    padding: 5px 10px;\r\n    border-radius: 5px;\r\n    border: none;\r\n    background-color: #F6F7FB;\r\n    min-height: 50px;\r\n    width: 80%;\r\n}\r\n.table-view_cell-links,\r\n.table-view_cell-links__edit{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    width: calc(100% - 30px);\r\n}\r\n.table-view_cell-links__edit{\r\n    & span{\r\n        display: grid;\r\n        grid-template-columns: calc(100% - 30px) 30px;\r\n    }\r\n}\r\n.remove-file{\r\n    background-color: #ffffff;\r\n    border: none;\r\n    background-image: url('../assets/remove.svg');\r\n    background-repeat: no-repeat;\r\n    background-size: 40%;\r\n    background-position: center;\r\n    width: 35px;\r\n    z-index: 10;\r\n}\r\n.table-view_cell-link{\r\n    overflow: hidden;\r\n    padding: 5px;\r\n    border: 1px solid #5361FF;\r\n    border-radius: 5px;\r\n    margin: 0 5px 5px 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./row-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./row-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./row-view.vue?vue&type=template&id=53f18e53&\"\nimport script from \"./row-view.vue?vue&type=script&lang=js&\"\nexport * from \"./row-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./row-view.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:'more-tools' + [_vm.state ? ' more-tools__active' : ''],on:{\"click\":function($event){_vm.state = !_vm.state},\"mouseleave\":function($event){_vm.state = false}}},[_c('ul',{staticClass:\"more-tools_list\",style:(_vm.customStyle?_vm.customStyle:'')},_vm._l((this.options),function(option,i){return _c('li',{key:i,class:'more-tools_list-item more-tools_list-item__' + option.id,style:(_vm.customStyle != undefined & i == 0 ?'border-right: 1px solid #ffffff;':''),on:{\"click\":function($event){return _vm.setClick(option)}}},[_vm._v(_vm._s(option.text))])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div :class=\"'more-tools' + [state ? ' more-tools__active' : '']\" v-on:click=\"state = !state\" v-on:mouseleave=\"state = false\">\r\n        <ul class=\"more-tools_list\" :style=\"customStyle?customStyle:''\">\r\n            <li v-for=\"(option, i) in this.options\"\r\n                :key=\"i\"\r\n                :class=\"'more-tools_list-item more-tools_list-item__' + option.id\" \r\n                v-on:click=\"setClick(option)\"\r\n                :style=\"customStyle != undefined & i == 0 ?'border-right: 1px solid #ffffff;':''\"\r\n            >{{option.text}}</li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['options',\r\n            'id',\r\n            'customStyle'],\r\n    data () {\r\n        return {\r\n            state : false\r\n        }\r\n    },\r\n    methods: {\r\n        setClick : function(option){\r\n            if(this.state){\r\n                this.$emit('option-click',\r\n                {\r\n                    data: option,\r\n                    id: this.id   \r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.table-view_header{\r\n    & .more-tools{\r\n        margin-top: -25px;\r\n    }\r\n}\r\n.more-tools{\r\n    width: 40px;\r\n    height: 40px;\r\n    position: absolute;\r\n    right: 25px;\r\n    background-image: url('../assets/more-tools.svg');\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 15%;\r\n    border-radius: 5px;\r\n    margin: 10px -10px 10px;\r\n    transition: all 0.3s;\r\n    overflow: hidden;\r\n\r\n    &_list{\r\n        transition: all 0.3s;\r\n        max-width: 0;\r\n        list-style: 0;\r\n        position: absolute;\r\n        right: 0;\r\n        padding: 10px 30px 10px 10px;\r\n        border-radius: 5px;\r\n        list-style: none;\r\n        min-height: 100%;\r\n        z-index: 1;\r\n        display: none;\r\n\r\n        &-item{\r\n            color: #ffffff;\r\n            padding: 0 30px;\r\n            font-size: 14px;\r\n            text-align: center;\r\n\r\n            &::before{\r\n                content: '';\r\n                display: block;\r\n                margin: 0 auto 5px auto;\r\n                width: 18px;\r\n                height: 18px;\r\n                background-position: center;\r\n                background-repeat: no-repeat;\r\n                background-size: contain;\r\n            }            \r\n\r\n            &__edit::before,\r\n            &__editPresentation::before,\r\n            &__add::before{\r\n                background-image: url('../assets/edit.svg');\r\n            }\r\n            \r\n            &__delet::before{\r\n                background-image: url('../assets/delete.svg');\r\n            }\r\n            \r\n            &__import::before{\r\n                background-image: url('../assets/Import-icon.svg');\r\n            }\r\n\r\n            &:not(:last-child){\r\n                padding-bottom: 10px;\r\n            }\r\n        }\r\n    }\r\n\r\n    &:hover{\r\n        background-image: url('../assets/more-tools_active.svg');\r\n        background-color: #5361FF;\r\n        box-shadow: 3px 3px 14px #5361FF5A;\r\n    }\r\n\r\n    &__active{\r\n        overflow: visible;\r\n        background-color: #5361FF;\r\n\r\n        ul{\r\n            display: block;\r\n            max-width: unset;\r\n            opacity: 1;\r\n        }\r\n    }\r\n\r\n    &_list {\r\n        right: 0;\r\n        background-color: #5361FF;\r\n        color: #ffffff;\r\n        opacity: 0;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./more-tools.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./more-tools.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./more-tools.vue?vue&type=template&id=652928d8&\"\nimport script from \"./more-tools.vue?vue&type=script&lang=js&\"\nexport * from \"./more-tools.vue?vue&type=script&lang=js&\"\nimport style0 from \"./more-tools.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"table-view-wrapper\">\r\n        \r\n        <scroll-bar :settings=\"{suppressScrollY : true}\" class=\"table-view\">\r\n            <header v-if=\"this.data != undefined\" class=\"table-view_headers\" :style=\"columns?columns:'grid-template-columns: repeat('+(this.headers.length)+', minmax(300px, 1fr)) 40px;'\">\r\n                <div ref=\"header\"\r\n                     v-for=\"(tableHeader, index) in this.headers\"\r\n                     :key=\"index\"\r\n                     :class=\"'table-view_header' + (noSort ? ' no-sort': '')\"\r\n                     v-on:click=\"!noSort ? sort(index) : ''\">\r\n                    {{tableHeader}}\r\n                </div>\r\n            </header>\r\n            <scroll-bar :settings=\"{wheelPropagation : true, suppressScrollX : true}\" v-if=\"this.data != undefined\" v-bind:class=\"'table-view_body'+[this.firstColumn ? ' table-view_body__first-column' : '']\">\r\n                <div v-for=\"(tableRow, index) in this.data\"\r\n                     :key=\"index\"\r\n                     class=\"table-view_row\">\r\n                    <row-view :ref=\"tableRow.id\"\r\n                              :index=\"index\"\r\n                              :rowData=\"tableRow\"\r\n                              :alwaysUpdate=\"alwaysUpdate\"\r\n                              \r\n                              @checkboxChange=\"checkboxChange\"\r\n                              @rowClick=\"rowClick\"\r\n                              @addRow=\"addRow\"\r\n                              @addRowInSubTable=\"addRowInSubTable\"\r\n\r\n                              @addInnerDate=\"addInnerDate\"\r\n                              :inRowAdd=\"inRowAdd\"\r\n                              :columnsWidth=\"columns?columns:'grid-template-columns: repeat('+([tableRow.data != undefined ? Object.keys(tableRow.data).length : 0])+', minmax(300px, 1fr)) 40px;'\"\r\n                              :subTableColumns=\"subTableColumns\"/>\r\n                </div>\r\n                <div class=\"new-row-button-wrapper\" v-if=\"this.inRowAdd == true\">\r\n                    <button v-if=\"manyQueries != -1\" class=\"add-row\" @click=\"loadNewData\" style=\"margin-right: 30px;\">Загрузить ещё...</button>\r\n                    <button class=\"new-row-button\" v-if=\"role == 1\" v-on:click=\"addRow()\">Добавить новую запись</button>\r\n                </div>\r\n            </scroll-bar>\r\n            <!-- <div class=\"new-row-button-wrapper\" v-if=\"this.data == undefined\">\r\n                <button v-if=\"this.inRowAdd == true\" class=\"new-row-button\" v-on:click=\"addRow()\">Добавить новую запись</button>\r\n                <p v-if=\"this.inRowAdd != true\">Нет записей</p>\r\n            </div>\r\n            <div class=\"new-row-button-wrapper\" v-if=\"this.data != undefined & this.data.length == 0\">\r\n                <button v-if=\"this.inRowAdd == true & this.data.length == 0\" class=\"new-row-button\" v-on:click=\"addRow()\">Добавить новую запись</button>\r\n                <p v-if=\"this.inRowAdd != true & this.data.length == 0\">Нет записей</p>\r\n            </div> -->\r\n        </scroll-bar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport ScrollBar from 'vue-custom-scrollbar' \r\nVue.component('scroll-bar', ScrollBar)\r\n\r\nimport RowView from '../components/row-view'\r\nVue.component('row-view', RowView);\r\n\r\nimport MoreTools from '../components/more-tools'\r\nVue.component('more-tools', MoreTools);\r\n\r\nexport default {\r\n    props: [ 'data',\r\n             'headers',\r\n             'firstColumn',\r\n             'inRowAdd',\r\n             'columns',\r\n             'subTableColumns',\r\n             'groupBy',\r\n             'sortBy',\r\n             'alwaysUpdate',\r\n             'noSort'],\r\n    data () {\r\n        return {\r\n            rowsCount: 0,\r\n            currentSort: '',\r\n            sortDirection: -1,\r\n            sortedData: [],\r\n            grouped: false,\r\n            sortByGroup: false,\r\n            manyQueries: -1,\r\n            role: 0\r\n        }\r\n    },\r\n    methods: {\r\n        checkboxChange: function(index){\r\n            this.$emit('checkboxChange', index);\r\n        },\r\n        rowClick : function(id){\r\n            this.$emit('rowClick', id);\r\n        },\r\n        addRow : function(position){\r\n            this.$emit('addRow', position);\r\n        },\r\n        addRowInSubTable(id){\r\n            this.$emit('addRowInSubTable', id);\r\n        },\r\n        sort (index){\r\n            let currentColumn = Object.keys(this.data[0].data)[index];\r\n            //Включение, переключение и отключение сортировки\r\n            if(this.sortedData.length == 0){\r\n                //Записываем исходный массив в отдельную переменную\r\n                this.data.forEach(elem=>{\r\n                    this.sortedData.push(elem);\r\n                });\r\n            }\r\n            else{\r\n                //Если есть группа\r\n                if(this.grouped){\r\n                    //Если была сортировка внутри группы\r\n                    if(this.sortByGroup){\r\n                        this.sortDirection = this.sortDirection == 1 ? -1 : 1;\r\n\r\n                        if(this.sortDirection == -1){\r\n                            this.$refs.header[index].className += ' table-view_header__sorted';\r\n                            this.$refs.header[index].classList.remove('table-view_header__sorted-up');\r\n                            this.$refs.header[index].className += ' table-view_header__sorted-down';\r\n                        }\r\n                        else{\r\n                            this.$refs.header[index].className += ' table-view_header__sorted';\r\n                            this.$refs.header[index].className += ' table-view_header__sorted-up';\r\n                            this.$refs.header[index].classList.remove('table-view_header__sorted-down');\r\n                        }\r\n\r\n                    }\r\n                    else{\r\n                        if(this.sortDirection == -1){\r\n                            sortOff(this);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                //Если группы нету\r\n                else{\r\n                    if(this.sortDirection == 1){\r\n                        this.sortDirection == 0;\r\n                    }\r\n                    else{\r\n                        //Отключаем сортировку\r\n                        sortOff(this);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            function sortOff(context){\r\n                if(context.sortDirection == -1){\r\n                    context.$emit('sort', context.sortedData);\r\n                    context.currentSort = '';\r\n                    if(context.sortBy != currentColumn){\r\n                        context.grouped = false;\r\n                    }\r\n\r\n                    context.sortedData = [];\r\n\r\n                    context.$refs.header.forEach(elem => {\r\n                        elem.classList.remove('table-view_header__sorted-up');\r\n                        elem.classList.remove('table-view_header__sorted-down');\r\n                        elem.classList.remove('table-view_header__sorted');\r\n                    });\r\n                }\r\n            }\r\n            \r\n            let sortFunc;\r\n\r\n            //Выбор функции сортировки исходя из типа данных столбца\r\n            if(this.data[0].data[currentColumn].type == 'number'){\r\n                sortFunc = (a, b) => {\r\n                    if (a.data[currentColumn].value == null ||\r\n                        b.data[currentColumn].value == null) return -1;\r\n\r\n                    const tmp = parseFloat(a.data[currentColumn].value.replace(/\\s/g, '')) - parseFloat(b.data[currentColumn].value.replace(/\\s/g, ''));\r\n\r\n                    if (tmp < 0) return this.sortDirection * -1\r\n                    else if (tmp > 0) return this.sortDirection\r\n                    else return 0\r\n                }\r\n            }\r\n            else{\r\n                if(this.data[0].data[currentColumn].type == 'date'){\r\n                    sortFunc = (a, b) => {\r\n                        if(a.data[currentColumn].value != ''){\r\n                            a = a.data[currentColumn].value.split('.');\r\n                            a = a[2]+'-'+a[1]+'-'+a[0];\r\n                        }\r\n                        else{\r\n                            a = 0;\r\n                        }\r\n\r\n                        if(b.data[currentColumn].value != ''){\r\n                            b = b.data[currentColumn].value.split('.');\r\n                            b = b[2]+'-'+b[1]+'-'+b[0];\r\n                        }\r\n                        else{\r\n                            b = 0;\r\n                        }\r\n                        let diference = ((new Date(a)).getTime()/86400000) - ((new Date(b)).getTime()/86400000);\r\n                        return this.sortDirection * diference / Math.abs(diference);\r\n                    }\r\n                }\r\n                else{\r\n                    \r\n                    if ( this.data[0].data[currentColumn].value.replace(/\\.|\\d|\\s/g, '') == '' &&\r\n                         this.data[0].data[currentColumn].value.length > 2 ) {\r\n                        \r\n                        sortFunc = (a, b) => {\r\n                            a = a.data[currentColumn].value.split('.');\r\n                            b = b.data[currentColumn].value.split('.');\r\n                            \r\n                            const length =a.length > b.length ? a.length : b.length;\r\n\r\n                            for(let i = 0; i < length; i++) {\r\n                                if (parseInt(a[i]) != parseInt(b[i])) {\r\n                                    if(parseInt(a[i]) > parseInt(b[i])){\r\n                                        return this.sortDirection;\r\n                                    }\r\n                                    if(parseInt(a[i]) < parseInt(b[i])){\r\n                                        return -1 * this.sortDirection;\r\n                                    }\r\n                                    return 0;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        sortFunc = (a, b) => {\r\n                            if(a.data[currentColumn].value > b.data[currentColumn].value){\r\n                                return this.sortDirection;\r\n                            }\r\n                            if(a.data[currentColumn].value < b.data[currentColumn].value){\r\n                                return -1 * this.sortDirection;\r\n                            }\r\n                            return 0;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(this.groupBy != undefined & this.sortBy != undefined){\r\n                if(currentColumn == this.sortBy){\r\n                    /////////////////////////////////////////////\r\n                    //Сортировка даты для сгруппированных строк//\r\n                    /////////////////////////////////////////////\r\n                    if(this.grouped){\r\n                        let groupedData = [];\r\n                        let currentGroup = null;\r\n                        let tmp;\r\n                        this.data.forEach((elem, i)=>{\r\n                            if(currentGroup != null){\r\n                                if(elem.data[this.groupBy].value == currentGroup){\r\n                                    tmp.rows.push(elem);\r\n\r\n                                    if(i == this.data.length - 1){\r\n                                        groupedData.push(tmp);\r\n                                    }\r\n                                }\r\n                                else{\r\n                                    addNewGroup(this);\r\n                                }\r\n                            }\r\n                            else{\r\n                                addNewGroup(this);\r\n                            }\r\n\r\n                            function addNewGroup(context){\r\n                                if(tmp != undefined){\r\n                                    groupedData.push(tmp);\r\n                                }\r\n\r\n                                tmp = {\r\n                                    groupName: elem.data[context.groupBy].value,\r\n                                    rows: []\r\n                                };\r\n                                \r\n                                tmp.rows.push(elem);\r\n                                currentGroup = elem.data[context.groupBy].value;\r\n\r\n                                if(i == context.data.length - 1){\r\n                                    groupedData.push(tmp);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        groupedData.forEach(elem=>{\r\n                            elem.rows.sort(sortFunc);\r\n                        });\r\n                        \r\n                        let resultData = [];\r\n\r\n                        groupedData.forEach(group=>{\r\n                            group.rows.forEach(row=>{\r\n                                resultData.push(row);\r\n                            });\r\n                        });\r\n\r\n                        this.$emit('sort', resultData);\r\n                    }\r\n                    else{\r\n                        runSimpleSort(this);\r\n                    }\r\n                }\r\n                else{\r\n                    runSimpleSort(this);\r\n                }\r\n            }\r\n            else{\r\n                runSimpleSort(this);\r\n            }\r\n            \r\n            if(this.groupBy == currentColumn){\r\n                this.grouped = true;\r\n                this.sortByGroup = false;\r\n            }\r\n            else if(this.grouped == true){\r\n                if(this.sortBy != currentColumn){\r\n                    this.grouped = false;\r\n                }\r\n                else{\r\n                    this.sortByGroup = true;\r\n                }\r\n            }\r\n\r\n            function runSimpleSort(context){\r\n                let i = 0;\r\n                for(let item in context.data[0].data){\r\n                    if(i == index){\r\n\r\n                        context.$refs.header.forEach(elem => {\r\n                            elem.classList.remove('table-view_header__sorted-up');\r\n                            elem.classList.remove('table-view_header__sorted-down');\r\n                            elem.classList.remove('table-view_header__sorted');\r\n                        });\r\n\r\n                        let sortArray;\r\n                        if(context.sortedData.length > 0 & context.sortDirection == -1) {\r\n                            context.currentSort = item;\r\n                            sortArray = context.data.sort(sortFunc);\r\n                            context.$refs.header[index].className += ' table-view_header__sorted';\r\n                            context.$refs.header[index].classList.remove('table-view_header__sorted-up');\r\n                            context.$refs.header[index].className += ' table-view_header__sorted-down';\r\n                            context.sortDirection = 1;\r\n                        }\r\n                        else{\r\n                            sortArray = context.data.sort(sortFunc);\r\n                            context.$refs.header[index].className += ' table-view_header__sorted';\r\n                            context.$refs.header[index].classList.remove('table-view_header__sorted-down');\r\n                            context.$refs.header[index].className += ' table-view_header__sorted-up';\r\n                            context.sortDirection = -1;\r\n                        }\r\n\r\n                        context.$emit('sort', sortArray);\r\n                    }\r\n                    i++;\r\n                }\r\n            }\r\n        },\r\n        loadNewData(){\r\n            this.$emit('loadData', this.manyQueries);\r\n        },\r\n\r\n        addInnerDate (id, value) {\r\n            this.$emit('addInnerDate', id, value);\r\n        }\r\n    },\r\n    created () {\r\n        this.role = sessionStorage.getItem('role') ? sessionStorage.getItem('role') : 0;\r\n        if(this.data != undefined){\r\n            this.rowsCount = this.data.length;\r\n        }\r\n        else{\r\n            this.rowsCount = 0;\r\n        }\r\n    },\r\n    updated () {\r\n        if(this.rowsCount < this.data.length){\r\n            this.$emit('update');\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.table-view-wrapper{\r\n    width: 100%;\r\n    min-height: 130px;\r\n    overflow: hidden;\r\n    position: relative;\r\n\r\n    height: 100%;\r\n}\r\n.table-view{\r\n    height: 100%;\r\n    /*background-color: #ffffff;*/\r\n    display: grid;\r\n    grid-template-rows: auto 1fr;\r\n    border-radius: 5px;\r\n    position: relative;\r\n\r\n    &_headers,&_row-content{\r\n        display: grid;\r\n        // min-width: 100%;\r\n        border-bottom: 1px solid #DCDCE8;\r\n    }\r\n    &_header{\r\n        padding: 30px 40px;\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n        color: #2E2E2E;\r\n        cursor: pointer;\r\n        position: relative;\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        &:not(.no-sort)::after{\r\n            content: ' ';\r\n            position: absolute;\r\n            width: 15px;\r\n            height: 15px;\r\n            right: 10px;\r\n            border-radius: 7.5px;\r\n            background-color: #5361FF;\r\n            background-position: center;\r\n            background-repeat: no-repeat;\r\n            background-size: contain;\r\n            transition: all 0.3s;\r\n        }\r\n\r\n        &__sorted{\r\n            \r\n            &:not(.no-sort)::after{\r\n                background-image: url('../assets/sort-arrow.svg');\r\n                background-color: transparent;\r\n            }\r\n            \r\n            &-up::after{\r\n                transform: rotate(180deg);\r\n            }\r\n\r\n            &-down::after{\r\n                transform: rotate(0deg);\r\n            }\r\n        }\r\n    }\r\n\r\n    &_body{\r\n        // display: grid;\r\n        position: relative;\r\n        min-height: 130px;\r\n        padding-bottom: 30px;\r\n        \r\n        &__first-column{\r\n\r\n            .table-view_cell:first-child{\r\n                color: #5361FF;\r\n            }\r\n        }\r\n    }\r\n\r\n    &_row{\r\n        // display: inline-block;\r\n        position: relative;\r\n        border-right: 1px solid #DCDCE8;\r\n        // border-top: 1px solid #DCDCE8;\r\n        // border-bottom: 1px solid #dcdce8;\r\n    }\r\n    &_row-content{\r\n        transition: box-shadow 0.3s;\r\n        cursor: pointer;\r\n        min-height: 70px;\r\n\r\n        &:hover{\r\n            box-shadow: 0px 0px 10px #DCDCE3CC;\r\n\r\n            & ~ .table-view_add-row{\r\n                opacity: 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    &_add-row{\r\n        width: 20px;\r\n        height: 20px;\r\n        margin: -10px 0 0 0px;\r\n        position: absolute;\r\n        border-radius: 10px;\r\n        border: 1px solid #565AFF;\r\n        background-color: #ffffff;\r\n        cursor: pointer;\r\n\r\n        background-image: url('../assets/add-row.svg');\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        background-size: 60%;\r\n\r\n        opacity: 0;\r\n        transition: opacity 0.3s;\r\n\r\n        &:nth-child(2){\r\n            top: 0;\r\n        }\r\n        \r\n        &:hover{\r\n            opacity: 1;\r\n        }\r\n    }\r\n\r\n\r\n    &_cell{\r\n        padding: 20px 40px;\r\n        font-size: 16px;\r\n        color: #2E2E2E;\r\n        /*max-height: 35px;*/\r\n        transition: all 0.3s;\r\n        overflow: hidden;\r\n\r\n        &-textarea{\r\n            border: none;\r\n            background-color: #f6f7fb;\r\n            padding: 5px 10px;\r\n            border-radius: 5px;\r\n            min-width: calc(100% - 20px);\r\n            max-width: calc(100% - 20px);\r\n            margin: 10px !important;\r\n            line-height: 1.3rem;\r\n            height: 100px !important;\r\n        }\r\n\r\n        &:hover{\r\n            /*max-height: 500px;*/\r\n        }\r\n\r\n        &__edit{\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    &_input-cell__not-edit{\r\n        display: none;\r\n    }\r\n}\r\ninput.table-view_cell{\r\n    margin: 10px 20px;\r\n    padding: 5px 10px;\r\n    border-radius: 5px;\r\n    border: none;\r\n    background-color: #F6F7FB;\r\n    min-height: 50px;\r\n    width: calc(100% - 40px);\r\n}\r\n.new-row-button-wrapper {\r\n    width: calc(100vw - 150px);\r\n    margin: 150px 0 40px 0;\r\n    position: sticky;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    grid-row: 2/3;\r\n}\r\n.new-row-button {\r\n    background-color: #5361FF;\r\n    border: none;\r\n    color: #ffffff;\r\n    padding: 10px 30px;\r\n    border-radius: 5px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./table-view.vue?vue&type=template&id=26f97251&\"\nimport script from \"./table-view.vue?vue&type=script&lang=js&\"\nexport * from \"./table-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./table-view.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"main-page-wrapper\">\r\n        <breadcrumbs :data=\"breadCrumbs\" />\r\n        <div class=\"main-page-content\">\r\n            <div class=\"scroll-area\">\r\n                <div><button v-on:click=\"add\" class=\"add-row add-new-deal\">Добавить нового пользователя</button></div>\r\n                <table-view style=\"width: auto; height: auto;\" ref=\"table\" :headers=\"tableHeaders\" @sort=\"sort\" @addRow=\"add\" @update=\"update\" :data=\"data\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport config from '../config';\r\nimport ScrollBar from 'vue-custom-scrollbar';\r\nVue.component('scroll-bar', ScrollBar);\r\n\r\nimport BreadCrumbs from '../components/breadcrumbs.vue'\r\nVue.component('breadcrumbs', BreadCrumbs);\r\n\r\nimport TableView from '../components/table-view'\r\nVue.component('table-view', TableView);\r\n\r\n//import Scrollbar from '../components/scrollbar-view'\r\n//Vue.component('scrollbar-view', Scrollbar);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            breadCrumbs: [\r\n                {name: 'Пользователи', link: {path: '/users'}}, ''\r\n            ],\r\n            tableHeaders: [\r\n                'Логин/E-mail',\r\n                'Фамилия имя',\r\n                'Пароль',\r\n                'Роль',\r\n                'Примечание'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods : {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                this.lastAddedId = -1;\r\n                let tmpData = this.data;\r\n                tmpData.unshift({\r\n                    id: -1,\r\n                    options: [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }],\r\n                    data: {\r\n                        email : {\r\n                            value: '',\r\n                            type: 'text'\r\n                        },\r\n                        fullname : {\r\n                            value: '',\r\n                            type: 'text'\r\n                        },\r\n                        password : {\r\n                            value: '',\r\n                            type: 'password'\r\n                        },\r\n                        role : {\r\n                            value: '',\r\n                            type : 'select',\r\n                            keys :[\r\n                                'Наблюдатель',\r\n                                'Администратор'\r\n                            ]\r\n                        },\r\n                        note : {\r\n                            value: '',\r\n                            type: 'text'\r\n                        }\r\n                    }\r\n                });\r\n                this.affterDeleting = tmpData;\r\n            }\r\n        },\r\n        edit : function(data, id){\r\n\r\n            if(data[2] != null){\r\n                if(data[2].length < 6){\r\n                    alert('Пароль должен быть не менее 6 символов.');\r\n                    this.lastAddedId = id;\r\n                    this.update();\r\n                    return;\r\n                }\r\n                if(data[2].length == \"••••••••••••••••\"){\r\n                    alert('Пожалуйста, укажите корректный пароль.');\r\n                    this.lastAddedId = id;\r\n                    this.update();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let paramsList = ['email',\r\n                      'fullname',\r\n                      'password',\r\n                      'role',\r\n                      'company'];\r\n            let paramsString = '';\r\n            data.forEach((elem, i) => {\r\n                if(elem != null){\r\n                    paramsString += '&'+paramsList[i]+'='+elem;\r\n                    if(i == 2){\r\n                        paramsString += '&password_confirmation='+elem;\r\n                    }\r\n                }\r\n            });\r\n\r\n            let query;\r\n            \r\n            if(this.lastAddedId != -1){\r\n                query = axios.put(config.host+'/api/users/'+id,\r\n                      paramsString.substring(1),\r\n                      {headers: { Authorization: this.AuthStr } });\r\n            }\r\n            else{\r\n                query = axios.post(config.host+'/api/users',\r\n                        paramsString.substring(1)\r\n                        ,{headers: { Authorization: this.AuthStr } });\r\n\r\n                this.lastAddedId = null;\r\n            }\r\n            query.then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                elem.id = resp.data.data.id;\r\n                                elem.data.email.value = resp.data.data.email;\r\n                                elem.data.fullname.value = resp.data.data.fullname;\r\n                                elem.data.password.value = '••••••••••••••••';\r\n                                elem.data.role.value = resp.data.data.role != 0 ? 'Администратор' : 'Наблюдатель';\r\n                                elem.data.note.value = resp.data.data.company;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n        delet : function(id){\r\n            if(confirm('Вы действительно хотите удалить этого пользователя?')){\r\n                axios({\r\n                        method: 'delete',\r\n                        url: config.host+'/api/users/'+id,\r\n                        headers: { Authorization: this.AuthStr }}).\r\n                        then(() => {\r\n                        }).catch(error => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n            \r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n\r\n        load : function(link){\r\n            //this.data = [];\r\n\r\n            let context = this;\r\n            \r\n            link = link != undefined ? link : config.host+'/api/users';\r\n\r\n            axios.get(link, {headers: { Authorization: this.AuthStr } }).\r\n            then((resp) => {\r\n                let respData = resp.data.data;\r\n\r\n                for(let i = 0; i < respData.length; i++){\r\n                    let tmp = {};\r\n                    \r\n                    tmp.id = respData[i].id;\r\n                    tmp.data = {};\r\n\r\n                    tmp.data.email = {};\r\n                    tmp.data.email.value = respData[i].email;\r\n                    tmp.data.email.type = 'text'\r\n\r\n                    tmp.data.fullname = {};\r\n                    tmp.data.fullname.value = respData[i].fullname;\r\n                    tmp.data.fullname.type = 'text'\r\n\r\n                    tmp.data.password = {};\r\n                    tmp.data.password.value = '••••••••••••••••';\r\n                    tmp.data.password.type = 'password'\r\n\r\n                    tmp.data.role = {};\r\n                    \r\n                    tmp.data.role.value = respData[i].role == 1 ? 'Администратор' : 'Наблюдатель';\r\n                    tmp.data.role.type = 'select';\r\n                    tmp.data.role.keys =[\r\n                        'Наблюдатель',\r\n                        'Администратор'\r\n                    ];\r\n\r\n                    tmp.data.note = {};\r\n                    tmp.data.note.value = respData[i].company;\r\n                    tmp.data.note.type = 'text'\r\n                    \r\n                    tmp.options = [\r\n                        {\r\n                            event: this.edit,\r\n                            id: 'edit',\r\n                            text: 'Редактировать'\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ]\r\n                    \r\n                    context.data.push(tmp);\r\n                }\r\n                \r\n                if(resp.data.links.next != null){\r\n                    this.load(resp.data.links.next);\r\n                }\r\n                \r\n            });\r\n            \r\n        }\r\n    },\r\n    created () {\r\n        this.load();\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.main-page-wrapper{\r\n    padding: 25px 60px;\r\n    width: 100vw;\r\n}\r\n.main-page-content{\r\n    height: calc(100% - 120px);\r\n    margin: 40px 0;\r\n    //box-shadow: 0px 0px 16px #E7E7F0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./users.vue?vue&type=template&id=fbc8293a&\"\nimport script from \"./users.vue?vue&type=script&lang=js&\"\nexport * from \"./users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./users.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scroll-area\"},[_c('div',[_c('button',{staticClass:\"add-row add-new-deal\",on:{\"click\":_vm.add}},[_vm._v(\"Добавить новый контракт\")])]),_c('table-view',{ref:\"table\",staticStyle:{\"width\":\"auto\",\"height\":\"auto\"},attrs:{\"headers\":_vm.tableHeaders,\"data\":_vm.data,\"firstColumn\":true},on:{\"sort\":_vm.sort,\"rowClick\":_vm.openDeal,\"addRow\":_vm.add,\"update\":_vm.update}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tab-view',{on:{\"update\":_vm.update}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-view\"},[_c('div',{staticClass:\"tab-view_tabs\"},_vm._l((_vm.tabs),function(tab,i){return _c('tab',{key:i,ref:'tab'+tab.id,refInFor:true,attrs:{\"data\":tab},on:{\"tabClick\":_vm.tabClick}})}),1),_c('scroll',{staticClass:\"tab-view_content\",attrs:{\"settings\":{suppressScrollX : true}}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:'tab-view_tabs-item' + [_vm.selected ? ' tab-view_tabs-item__active' : ''],on:{\"click\":function($event){return _vm.tabClick(_vm.data.id)}}},[_vm._v(\" \"+_vm._s(_vm.data.name)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div :class=\"'tab-view_tabs-item' + [selected ? ' tab-view_tabs-item__active' : '']\" v-on:click=\"tabClick(data.id)\">\r\n        {{data.name}}\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: ['data'],\r\n    data () {\r\n        return {\r\n            selected: false\r\n        }\r\n    },\r\n    methods : {\r\n        tabClick(id){\r\n            this.selected = true;\r\n            this.$emit('tabClick', id);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.tab-view_tabs-item{\r\n    background-color: #EFEFF4;\r\n    border-radius: 5px;\r\n    padding: 20px 20px 30px 20px;\r\n    font-size: 16px;\r\n    color: #8C8C98;\r\n    cursor: pointer;\r\n\r\n    &:not(:last-child){\r\n        margin-right: 6px;\r\n    }\r\n\r\n    &__active{\r\n        color: #2E2E2E;\r\n        background-color: #ffffff;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tab.vue?vue&type=template&id=f665798a&\"\nimport script from \"./tab.vue?vue&type=script&lang=js&\"\nexport * from \"./tab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tab.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"tab-view\">\r\n        <div class=\"tab-view_tabs\">\r\n            <tab v-for=\"(tab, i) in tabs\"\r\n                 :key=\"i\"\r\n                 :ref=\"'tab'+tab.id\"\r\n                 :data=\"tab\"\r\n                 @tabClick=\"tabClick\" />\r\n        </div>\r\n        <scroll :settings=\"{suppressScrollX : true}\" class=\"tab-view_content\">\r\n            <router-view></router-view>\r\n        </scroll>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport route from '../router'\r\nimport scroll from 'vue-custom-scrollbar'\r\nVue.component('scroll', scroll)\r\n\r\nimport Tab from './tab'\r\nimport Axios from 'axios'\r\nVue.component('tab', Tab);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            tabs : [\r\n                {\r\n                    id : 0,\r\n                    name : 'Характеристики судна',\r\n                    path : '/ship-info'\r\n                },\r\n                {\r\n                    id : 1,\r\n                    name : 'Банковская гарантия',\r\n                    path : '/bank-guarantees'\r\n                },\r\n                {\r\n                    id : 2,\r\n                    name : 'Лимиты бюджетных обязательств',\r\n                    path : '/limits'\r\n                },\r\n                {\r\n                    id : 3,\r\n                    name : 'Объекты',\r\n                    path : '/objects'\r\n                },\r\n                {\r\n                    id : 4,\r\n                    name : 'Этапы платежей',\r\n                    path : '/payment-stages'\r\n                },\r\n                {\r\n                    id : 5,\r\n                    name : 'Ключевые события',\r\n                    path : '/key-events'\r\n                },\r\n                {\r\n                    id : 6,\r\n                    name : 'Претензионная работа',\r\n                    path : '/claim-work'\r\n                },\r\n                {\r\n                    id : 7,\r\n                    name : 'Судебная работа',\r\n                    path : '/judical-work'\r\n                },\r\n                {\r\n                    id : 8,\r\n                    name : 'Кассовое исполнение',\r\n                    path : '/cash-execution'\r\n                }\r\n            ],\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token')),\r\n            path : ''\r\n        }\r\n    },\r\n    methods : {\r\n        tabClick : function(id){\r\n            let context = this;\r\n\r\n            this.tabs.forEach(function(elem){\r\n                if(elem.id != id){\r\n                    context.$refs['tab'+elem.id][0].selected = false;\r\n                }\r\n                else{\r\n                    if(context.$route.path != context.path+elem.path){\r\n                        route.replace('/deal/'+route.currentRoute.params.id+elem.path);\r\n                    }\r\n                }\r\n            });\r\n\r\n        },\r\n        loadDealNumber () {\r\n            Axios({\r\n                method: 'get',\r\n                url: 'https://clercback.dgz.ru/api/contracts/'+route.currentRoute.params.id,\r\n                headers: { Authorization: this.AuthStr }})\r\n            .then(resp=>{\r\n                this.$emit('update', {name: (resp.data.data.number ? resp.data.data.number : 'Номер не указан'), link: '/deal/' + route.currentRoute.params.id, event: 'openDeal'});\r\n            })\r\n            .catch(()=>{\r\n                this.$emit('update', {name: 'Номер не указан', link: '/deal/' + route.currentRoute.params.id, event: 'openDeal'});\r\n            });\r\n        }\r\n    },\r\n    mounted () {\r\n        if ( this.$parent.$parent.$children[0].data.length == 1) {\r\n            this.loadDealNumber();\r\n        }\r\n        this.path = this.$route.path;\r\n        const dividedPath = this.path.split('/');\r\n        if(dividedPath[3] != undefined) {\r\n            const searchPart = '/' + dividedPath[3];\r\n\r\n            this.tabs.find(current => {\r\n                if (current.path == searchPart) {\r\n                    this.$refs['tab'+current.id][0].selected = true;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.$refs.tab0[0].selected = true;\r\n        }\r\n        if(dividedPath.length == 3 || dividedPath.length == 4) {\r\n            if (dividedPath[3] == '' | dividedPath[3] == undefined) {\r\n                route.push(this.path+'/ship-info');\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.table-wrapper{\r\n    border: 1px solid #DCDCE8;\r\n    //padding: 20px 20px 20px 20px;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    position: relative;\r\n    margin-top: 20px;\r\n    /*min-height: 300px;\r\n    max-height: 900px;\r\n\r\n    height: 100%;*/\r\n\r\n    // & > div {\r\n    //     min-width: 100%;\r\n    // }\r\n}\r\n\r\n.tab-view{\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    &_tabs{\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n\r\n    &_content{\r\n        width: 100%;\r\n        background-color: #ffffff;\r\n        border-radius: 5px;\r\n        height: calc(100vh - 320px);\r\n        margin-top: -10px;\r\n        position: relative;\r\n        z-index: 1;\r\n        padding: 30px 20px 20px 20px;\r\n        overflow: hidden;\r\n    }\r\n}\r\n.table-button-wrap {\r\n    display: grid;\r\n    grid-template-rows: auto 1fr;\r\n    height: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tab-view.vue?vue&type=template&id=a3242160&\"\nimport script from \"./tab-view.vue?vue&type=script&lang=js&\"\nexport * from \"./tab-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tab-view.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <tab-view @update=\"update\" />\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n\r\nimport TabView from '../components/tab-view'\r\nVue.component('tab-view', TabView);\r\nexport default {\r\n    data (){\r\n        return {\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        update(params) {\r\n            this.$emit('update', params);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deal-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deal-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deal-view.vue?vue&type=template&id=1ec62746&\"\nimport script from \"./deal-view.vue?vue&type=script&lang=js&\"\nexport * from \"./deal-view.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"scroll-area\">\r\n        <div><button v-on:click=\"add\" class=\"add-row add-new-deal\">Добавить новый контракт</button></div>\r\n        <table-view style=\"width: auto; height: auto;\" ref=\"table\" @sort=\"sort\" @rowClick=\"openDeal\" :headers=\"tableHeaders\" @addRow=\"add\" @update=\"update\" :data=\"data\" :firstColumn=\"true\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport config from '../config';\r\nimport ScrollBar from 'vue-custom-scrollbar';\r\nVue.component('scroll-bar', ScrollBar);\r\n\r\nimport TableView from '../components/table-view'\r\nVue.component('table-view', TableView);\r\n\r\nimport DealView from './deal-view'\r\nVue.component('deal-view', DealView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            tableHeaders: [\r\n                'Наименование',\r\n                'Номер Гос. контракта',\r\n                'Дата подписание контракта',\r\n                'Контрагент',\r\n                'Цена котракта (₽)',\r\n                'Окончание выполнения работ',\r\n                'Примечание'\r\n            ],\r\n            data: [],\r\n            lastAddedId: null,\r\n            affterDeleting: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods : {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        openDeal : function(id){\r\n            let number;\r\n            this.data.find(function(elem){\r\n                if(elem.id == id){\r\n                    number = elem.data.number.value;\r\n                    return;\r\n                }\r\n            });\r\n            \r\n            this.$emit('update',\r\n            {\r\n                event : 'openDeal',\r\n                name : number ? number : 'Номер не указан',\r\n                link: {path: '/deal/'+id, params: {dealId: id}}\r\n            });\r\n            this.$router.push({path: '/deal/'+id+'/ship-info', params: {dealId: id}});\r\n        },\r\n        refreshToken: function(){\r\n                axios.post(config.host+'/oauth/token',\r\n                \"refresh_token=\"+sessionStorage.getItem('refresh_token')+\r\n                \"&client_id=1\"+\r\n                \"&client_secret=c75IGwuqkjrO1RWCE4Ntn4zqpQdpgnEO2wGT9iMT\"+\r\n                \"&grant_type=password\").then((resp) => {\r\n                    sessionStorage.setItem('access_token', resp.data.access_token);\r\n                    sessionStorage.setItem('expires_in', resp.data.expires_in);\r\n                    sessionStorage.setItem('refresh_token', resp.data.refresh_token);\r\n                    sessionStorage.setItem('token_type', resp.data.token_type);\r\n                }).catch((error)=>{\r\n                    console.log(error);\r\n                });\r\n        },\r\n\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/contracts', '', {headers: { Authorization: this.AuthStr } }).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                event: this.delet,\r\n                                id: 'delet',\r\n                                text: 'Удалить'\r\n                            }],\r\n                        data: {\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            number : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            dateStart : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            contragent : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            price : {\r\n                                value: '',\r\n                                type: 'number'\r\n                            },\r\n                            dateEnd : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            note : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n        edit : function(data, id){\r\n            let paramsList = [\r\n                'name',\r\n                'number',\r\n                'date',\r\n                'counterpart',\r\n                'price',\r\n                'deadline',\r\n                'note',\r\n            ];\r\n            let params = {};\r\n\r\n            for(let i = 0; i < data.length; i++){\r\n                if((data[i] != null & data[i] != undefined & data[i] != '') | (i == 2 | i == 5)){\r\n                    params[paramsList[i]] = data[i];\r\n                }\r\n            }\r\n\r\n            axios.put(config.host+'/api/contracts/'+id,\r\n                      params,\r\n                      {headers: { Authorization: this.AuthStr } })\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                elem.data.number.value = resp.data.data.number;\r\n                                elem.data.name.value = resp.data.data.name;\r\n                                elem.data.contragent.value = resp.data.data.counterpart;\r\n                                elem.data.price.value = resp.data.data.price != null ? parseFloat(resp.data.data.price).toLocaleString() : '';\r\n                                \r\n                                let date = resp.data.data.date != null ? (new Date(resp.data.data.date)).toLocaleDateString() : '';\r\n                                let deadLine = resp.data.data.deadline != null ? (new Date(resp.data.data.deadline)).toLocaleDateString() : '';\r\n\r\n                                elem.data.dateStart.value = date;\r\n                                elem.data.dateEnd.value = deadLine;\r\n                                elem.data.note.value = resp.data.data.note;\r\n                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n        delet : function(id){\r\n            if(confirm('Вы действительно хотите удалить контракт?')){\r\n                axios.delete(config.host+'/api/contracts/'+id,\r\n                            {headers: { Authorization: this.AuthStr } })\r\n                        .then(()=>{\r\n                        }).catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                        this.lastAddedId = null;\r\n                                    }\r\n                                }\r\n                                return;\r\n                            }\r\n                            alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                        });\r\n            }\r\n        },\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        import: function(){\r\n\r\n        },\r\n\r\n        loadDeal : function(link, formatedData){\r\n\r\n            if(formatedData == undefined){\r\n                formatedData = [];\r\n            }\r\n            \r\n            link = link == undefined ? config.host+'/api/contracts' : link;\r\n\r\n            axios.get(link,\r\n                      {headers: { Authorization: this.AuthStr} }).\r\n            then((resp) => {\r\n                let respData = resp.data.data;\r\n\r\n                for(let i = 0; i < respData.length; i++){\r\n                    let tmp = {};\r\n                    \r\n                    tmp.id = respData[i].id;\r\n                    tmp.status = true;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            event: this.edit,\r\n                            id: 'edit',\r\n                            text: 'Редактировать'\r\n                        }\r\n                    ]\r\n\r\n                    if(!tmp.status){\r\n                        tmp.options.push(\r\n                            {\r\n                                event: this.import,\r\n                                id: 'import',\r\n                                text: 'Импортировать'\r\n                            }\r\n                        )\r\n                    }\r\n                    \r\n                    tmp.options.push(\r\n                        {\r\n                            event: this.delet,\r\n                            id: 'delet',\r\n                            text: 'Удалить'\r\n                        }\r\n                    )\r\n\r\n                    tmp.data = {};\r\n\r\n                    tmp.data.name = {}\r\n                    tmp.data.name.value = respData[i].name;\r\n                    tmp.data.name.type = 'text';\r\n\r\n                    tmp.data.number = {}\r\n                    tmp.data.number.value = respData[i].number;\r\n                    tmp.data.number.type = 'text';\r\n\r\n                    \r\n                    let date = respData[i].date != null ? (new Date(respData[i].date)).toLocaleDateString() : '';\r\n\r\n                    tmp.data.dateStart = {}\r\n                    tmp.data.dateStart.value = date;\r\n                    tmp.data.dateStart.type = 'date';\r\n\r\n\r\n                    tmp.data.contragent = {}\r\n                    tmp.data.contragent.value = respData[i].counterpart;\r\n                    tmp.data.contragent.type = 'text';\r\n\r\n                    tmp.data.price = {}\r\n                    tmp.data.price.value = respData[i].price != null ? parseFloat(respData[i].price).toLocaleString() : '';\r\n                    tmp.data.price.type = 'number';\r\n\r\n                    let deadline = respData[i].deadline != null ? (new Date(respData[i].deadline)).toLocaleDateString() : '';\r\n\r\n                    tmp.data.dateEnd = {}\r\n                    tmp.data.dateEnd.value = deadline;\r\n                    tmp.data.dateEnd.type = 'date';\r\n\r\n                    tmp.data.note = {}\r\n                    tmp.data.note.value = respData[i].note;\r\n                    tmp.data.note.type = 'text';\r\n\r\n\r\n                    formatedData.push(tmp);\r\n                }\r\n                \r\n                if(resp.data.links.next != null){\r\n                    this.loadDeal(resp.data.links.next, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadDeal();\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.add-new-deal{\r\n    margin: 20px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deals.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deals.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deals.vue?vue&type=template&id=edaa2e6c&\"\nimport script from \"./deals.vue?vue&type=script&lang=js&\"\nexport * from \"./deals.vue?vue&type=script&lang=js&\"\nimport style0 from \"./deals.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-page-wrapper\"},[_c('breadcrumbs',{attrs:{\"data\":this.breadCrumbs},on:{\"goToMain\":_vm.goToMain}}),_c('router-view',{staticClass:\"main-page-content\",on:{\"update\":_vm.update}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tables-view\"},[_c('div',[_c('div',{staticClass:\"tables-view_header\"},[_vm._l((_vm.pages),function(page,index){return _c('button',{key:index,staticClass:\"tables-view_tab\",class:[index == _vm.current  ? 'tables-view_tab__active' : ''],on:{\"click\":function($event){return _vm.buttonClick(index, page.path)}}},[_vm._v(\" \"+_vm._s(page.text)+\" \")])}),(_vm.canImport & _vm.role == 1)?_c('button',{staticClass:\"tables-view_tab tables-view_tab__right tables-view_tab__active\",on:{\"click\":_vm.importExcel}},[_vm._v(\"Импорт из Excel\")]):_vm._e(),(_vm.canImport & _vm.role == 1)?_c('button',{staticClass:\"tables-view_tab tables-view_tab__right tables-view_tab__active\",on:{\"click\":_vm.exportExcel}},[_vm._v(\"Экспорт в Excel\")]):_vm._e()],2)]),_c('router-view',{on:{\"presentation\":_vm.presentation}}),_c('input',{ref:\"inputDialog\",staticClass:\"input-dialog\",attrs:{\"type\":\"file\"}}),_c('presentation-form',{ref:\"presentation\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data != null)?_c('div',{class:'modal-wrapper '+[_vm.isActive?' modal-wrapper__active':'']},[_c('div',{staticClass:\"modal-dark-background\"}),_c('div',{staticClass:\"modal-window\"},[_c('header',{staticClass:\"modal-window_header\"},[_vm._v(_vm._s(_vm.data.title)+\" | Редактирование предъявлений \"),_c('button',{staticClass:\"modal-window_close\",on:{\"click\":_vm.close}})]),_c('div',{staticClass:\"presentation-form\"},[_c('button',{staticClass:\"add-row\",on:{\"click\":_vm.addPresentation}},[_vm._v(\"Добавить новое предъявление\")]),_c('table',{staticClass:\"editble-table\"},[_vm._m(0),_c('tbody',[(_vm.data.notes.length == 0)?_c('tr',[_c('td',{staticStyle:{\"padding\":\"40px\",\"text-align\":\"center\"},attrs:{\"colspan\":\"3\"}},[_vm._v(\"Для \"+_vm._s(_vm.data.title)+\" нет созданных предъявлений\")])]):_vm._e(),_vm._l((_vm.data.notes),function(pres,i){return _c('tr',{key:i},[_c('td',{attrs:{\"align\":\"left\",\"valign\":\"top\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(pres.date),expression:\"pres.date\"}],staticClass:\"table-view_cell\",attrs:{\"type\":\"date\"},domProps:{\"value\":(pres.date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(pres, \"date\", $event.target.value)}}})]),_c('td',{attrs:{\"align\":\"left\",\"valign\":\"top\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(pres.note),expression:\"pres.note\"}],staticClass:\"table-view_cell-textarea\",staticStyle:{\"max-width\":\"400px\"},domProps:{\"value\":(pres.note)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(pres, \"note\", $event.target.value)}}})]),_c('td',{staticStyle:{\"padding\":\"20px 0px\"}},[_c('button',{staticClass:\"modal-window_close\",staticStyle:{\"width\":\"20px\",\"height\":\"20px\"},attrs:{\"title\":\"Удалить запись\"},on:{\"click\":function($event){return _vm.deletePresentation(i)}}})])])})],2)]),_c('div',{staticClass:\"save-button-wrapper\"},[_c('button',{staticClass:\"add-row\",on:{\"click\":_vm.saveAndClose}},[_vm._v(\"Сохранить и закрыть\")])])])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('td',{attrs:{\"width\":\"250px\"}},[_vm._v(\"Дата предъявления\")]),_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"Содержание предъявления\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div v-if=\"data != null\" :class=\"'modal-wrapper '+[isActive?' modal-wrapper__active':'']\">\r\n        <div class=\"modal-dark-background\"></div>\r\n        <div class=\"modal-window\">\r\n            <header class=\"modal-window_header\">{{data.title}} | Редактирование предъявлений <button @click=\"close\" class=\"modal-window_close\"></button></header>\r\n            <div class=\"presentation-form\">\r\n                <button class=\"add-row\" @click=\"addPresentation\">Добавить новое предъявление</button>\r\n                <table class=\"editble-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <td width=\"250px\">Дата предъявления</td>\r\n                            <td colspan=\"2\">Содержание предъявления</td>\r\n                        </tr>\r\n                    </thead>\r\n                        <tbody>\r\n                            <tr v-if=\"data.notes.length == 0\">\r\n                                <td colspan=\"3\" style=\"padding: 40px; text-align: center;\">Для {{data.title}} нет созданных предъявлений</td>\r\n                            </tr>\r\n                            <tr v-for=\"(pres, i) in data.notes\" :key=\"i\">\r\n                                <td align=\"left\" valign=\"top\"><input class=\"table-view_cell\" type=\"date\" v-model=\"pres.date\"></td>\r\n                                <td align=\"left\" valign=\"top\"><textarea style=\"max-width: 400px;\" class=\"table-view_cell-textarea\" v-model=\"pres.note\" /></td>\r\n                                <td style=\"padding: 20px 0px\">\r\n                                    <button  title=\"Удалить запись\" @click=\"deletePresentation(i)\" style=\"width: 20px; height: 20px;\" class=\"modal-window_close\"></button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                </table>\r\n                <div class=\"save-button-wrapper\">\r\n                    <button class=\"add-row\" @click=\"saveAndClose\">Сохранить и закрыть</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport Axios from 'axios';\r\nimport config from '../config';\r\n\r\nimport ScrollBar from 'vue-custom-scrollbar' \r\nVue.component('scroll-bar', ScrollBar);\r\n\r\nexport default {\r\n    data(){\r\n        return {\r\n            deleted: [],\r\n            isActive: false,\r\n            id: null,\r\n            model: null,\r\n            data: null,\r\n            callback: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        close(){\r\n            this.isActive = false;\r\n            this.id = null;\r\n            this.model = null;\r\n            this.data = null;\r\n        },\r\n\r\n        option(option){\r\n            option.data.event(option.id);\r\n        },\r\n\r\n        loadData(){\r\n            Axios({\r\n                method: 'get',\r\n                url: config.host+'/api/'+this.model+'/'+this.id+'/',\r\n                headers: { Authorization: this.AuthStr }\r\n            }).then(resp=>{\r\n                this.data = {\r\n                    title: ''\r\n                }\r\n                if(this.model == 'reports'){\r\n                    Axios({\r\n                        method: 'get',\r\n                        url: config.host+'/api/constructionCertificates/'+resp.data.data.construction_certificate_id,\r\n                        headers: { Authorization: this.AuthStr }\r\n                    }).then(resp=>{\r\n                        this.data.title = 'УП № '+resp.data.data.number\r\n                    });\r\n                }\r\n                else{\r\n                    if(this.model == 'mooringCertificates'){\r\n                        this.data.title = 'УШ № '+resp.data.data.number\r\n                    }\r\n                    else{\r\n                        this.data.title = 'УХ № '+resp.data.data.number\r\n                    }\r\n                }\r\n\r\n                let tmpData = [];\r\n\r\n                resp.data.data.presentations.forEach(elem => {\r\n\r\n                    let note = '';\r\n                    //TODO: Удалить блок try/catch когда в БД исчезнуть все записи в формате JSON\r\n                    try {\r\n                        const tmp = JSON.parse(elem.note);\r\n                        tmp.forEach(n => {\r\n                             note += n + '\\r\\n';\r\n                        });\r\n                    }\r\n                    catch (e) {\r\n                        note = elem.note.replace(/\"/g, '').replace(/\\\\n/g, '\\n');\r\n                    }\r\n\r\n                    tmpData.push({\r\n                        id: elem.id,\r\n                        date: elem.date.replace(/\"/g,''),\r\n                        note: note\r\n                    });\r\n                });\r\n\r\n                this.data.notes = tmpData;\r\n            });\r\n        },\r\n\r\n        addPresentation () {\r\n            this.data.notes.push({\r\n                id: -1,\r\n                date: '2020-01-01',\r\n                note: ''\r\n            });\r\n            this.$forceUpdate();\r\n        },\r\n\r\n        deletePresentation (i) {\r\n            if (confirm('Вы действительно хотите удалить предъявление от ' + (new Date(this.data.notes[i].date)).toLocaleDateString() + '?\\r\\n'+\r\n                        'Это действие невозможно отменить после выполнения.\\r\\n\\r\\n'+\r\n                        'Содержание предъявления:\\r\\n' + this.data.notes[i].note)) {\r\n                if (this.data.notes[i].id != -1){\r\n                    Axios({\r\n                            method: 'delete',\r\n                            url: config.host + '/api/presentations/'+this.data.notes[i].id,\r\n                            headers: { Authorization: this.AuthStr }\r\n                    }).catch(err=>{\r\n                        if(err.response.data.error.messages[0] == 'true') {\r\n                            this.deleted.push(this.data.notes[i].id);\r\n                            this.data.notes.splice(i,1); \r\n                            \r\n                            this.$forceUpdate();\r\n                        }\r\n                        else {\r\n                            alert('Не удалось удалить предъявление.');\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    this.data.notes.splice(i,1); \r\n                    \r\n                    this.$forceUpdate();\r\n                }\r\n            }\r\n        },\r\n\r\n        saveAndClose() {\r\n            let model_type,\r\n                queryResult = true;\r\n            switch(this.model){\r\n                case 'mooringCertificates':\r\n                    model_type = 'mooring_certificates';\r\n                break;\r\n                case 'travelingCertificates':\r\n                    model_type = 'traveling_certificates';\r\n                break;\r\n                case 'reports':\r\n                    model_type = 'reports';\r\n                break;\r\n            }\r\n            this.data.notes.forEach(note => {\r\n                if( note.id != -1 ) {\r\n                    Axios.put(config.host + '/api/presentations/'+note.id,\r\n                                {\r\n                                    model_id: this.id,\r\n                                    model_type: model_type,\r\n                                    date: JSON.stringify(note.date),\r\n                                    note: JSON.stringify(note.note)\r\n                                },\r\n                                {headers: { Authorization: this.AuthStr }}).catch(() => queryResult = false);\r\n                }\r\n                else {\r\n                    Axios.post(config.host + '/api/presentations/',\r\n                                {\r\n                                    model_id: this.id,\r\n                                    model_type: model_type,\r\n                                    date: JSON.stringify(note.date),\r\n                                    note: JSON.stringify(note.note)\r\n                                },\r\n                                {headers: { Authorization: this.AuthStr }})\r\n                    .then(resp => note.id = resp.data.data.id)\r\n                    .catch(() => queryResult = false);\r\n                }\r\n            });\r\n            if(queryResult) {\r\n                let resultData = [];\r\n                this.data.notes.forEach(elem=>{\r\n                    resultData.push({\r\n                        date: elem.date,\r\n                        note: elem.note.replace(/\\n/g, '<br />')\r\n                    });\r\n                });\r\n                this.callback(resultData);\r\n\r\n                this.close();\r\n            }\r\n            else {\r\n                alert('Произошла ошибка\\r\\n\\r\\nПри сохранении не удалось записать часть данных.\\r\\nПожалуйста, проверьте введённые данные или повторите попытку позже.');\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.modal-wrapper {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    display: none;\r\n    z-index: 1000;\r\n\r\n    &__active{\r\n        display: flex;\r\n    }\r\n}\r\n.modal-dark-background {\r\n    background-color: rgba(7, 0, 48, 0.56);\r\n    position: absolute;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    z-index: 100;\r\n}\r\n.modal-window {\r\n    width: 100vw;\r\n    max-width: 50vw;\r\n    max-height: 70vh;\r\n    background-color: #ffffff;\r\n    z-index: 101;\r\n    position: absolute;\r\n    border-radius: 10px;\r\n    box-shadow: 0px 10px 40px #5361ff36;\r\n    \r\n    &_header {\r\n        padding: 30px;\r\n        display: grid;\r\n        grid-template-columns: 1fr 30px;\r\n        align-items: center;\r\n        height: 90px;\r\n        border-bottom: 1px solid #e9e9e9;\r\n        font-size: 20px;\r\n    }\r\n    &_close {\r\n        height: 100%;\r\n        width: 100%;\r\n        border: none;\r\n        background-color: transparent;\r\n        background-image: url('../assets/remove.svg');\r\n        background-repeat: no-repeat;\r\n        background-size: contain;\r\n    }\r\n}\r\n\r\n.save-button-wrapper{\r\n    position: absolute;\r\n    bottom: 0px;\r\n    left: 20px;\r\n    text-align: center;\r\n    width: calc(100% - 50px);\r\n    padding: 20px;\r\n    background-color: #ffffff;\r\n}\r\n\r\n.editble-table {\r\n    width: 100%;\r\n    max-height: 80%;\r\n    margin: 15px 0px;\r\n    border-collapse: collapse;\r\n\r\n    & > thead td {\r\n        padding: 30px 40px;\r\n        border-bottom: 1px solid #DCDCE8;\r\n        font-weight: bold;\r\n    }\r\n\r\n    & > tbody {\r\n        & td {\r\n            padding: 20px 40px;\r\n\r\n            & * {\r\n                width: 100%;\r\n                margin: 0px !important;\r\n            }\r\n        }\r\n\r\n        & tr:not(:last-child) {\r\n            & td {\r\n                border-bottom: 1px solid #DCDCE8;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.presentation-form {\r\n    padding: 30px 30px 75px 30px;\r\n    // display: grid;\r\n    // grid-template-columns: 1fr 2fr;\r\n    max-height: 60vh;\r\n    // grid-gap: 30px;\r\n\r\n    overflow: hidden;\r\n    overflow-y: auto;\r\n\r\n    &_text-list,\r\n    &_date-list {\r\n        overflow-y: auto;\r\n    }\r\n\r\n    &_date {\r\n        margin-bottom: 10px;\r\n        display: grid;\r\n        height: 70px;\r\n        align-items: center;\r\n        position: relative;\r\n        padding-right: 80px;\r\n        transition: all 0.3s;\r\n        cursor: pointer;\r\n        border-radius: 5px;\r\n        \r\n        &:hover {\r\n            background-color: #5361ff;\r\n\r\n            & *:not(input){\r\n                color: #ffffff;\r\n            }\r\n        }\r\n        \r\n        &__selected {\r\n            background-color: #5361ff;\r\n\r\n            & *:not(input){\r\n                color: #ffffff;\r\n            }\r\n        }\r\n    }\r\n    \r\n    &_text {\r\n        margin-bottom: 10px;\r\n        display: grid;\r\n        height: 70px;\r\n        align-items: center;\r\n        position: relative;\r\n    }\r\n\r\n    &_tools {\r\n        margin: 0;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./presentation-form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./presentation-form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./presentation-form.vue?vue&type=template&id=2db72234&\"\nimport script from \"./presentation-form.vue?vue&type=script&lang=js&\"\nexport * from \"./presentation-form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./presentation-form.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"tables-view\">\r\n        <div>\r\n            <div class=\"tables-view_header\">\r\n                <button v-for=\"(page, index) in pages\"\r\n                        :key=\"index\"\r\n                        class=\"tables-view_tab\" \r\n                        :class=\"[index == current  ? 'tables-view_tab__active' : '']\"\r\n                        v-on:click=\"buttonClick(index, page.path)\">\r\n                            {{page.text}}\r\n                </button>\r\n                \r\n                <button v-if=\"canImport & role == 1\" class=\"tables-view_tab tables-view_tab__right tables-view_tab__active\" @click=\"importExcel\">Импорт из Excel</button>\r\n                <button v-if=\"canImport & role == 1\" class=\"tables-view_tab tables-view_tab__right tables-view_tab__active\" @click=\"exportExcel\">Экспорт в Excel</button>\r\n            </div>\r\n        </div>\r\n            <router-view @presentation=\"presentation\"></router-view>\r\n        <input type=\"file\" ref=\"inputDialog\" class=\"input-dialog\"/>\r\n        <presentation-form ref=\"presentation\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../config';\r\nimport ScrollBar from 'vue-custom-scrollbar';\r\nVue.component('scroll-bar', ScrollBar);\r\nimport PresentationForm from './presentation-form';\r\nVue.component('presentation-form', PresentationForm);\r\nimport router from '../router';\r\nimport Axios from 'axios';\r\nexport default {\r\n    props: ['pages', 'currentPage'],\r\n    data () {\r\n        return {\r\n            current: 0,\r\n            canImport: false,\r\n            role: 0,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        buttonClick : function(index, path){\r\n            this.canImport = index > 1;\r\n            this.current = index;\r\n            router.push(path ? path : '');\r\n        },\r\n        importExcel: function(){\r\n            let formData = new FormData();\r\n            let fileDialog = this.$refs.inputDialog;\r\n            \r\n            fileDialog.onchange = () => {\r\n                if(fileDialog.files[0] != undefined){\r\n                    formData.append('file', fileDialog.files[0]);\r\n                    let type;\r\n                    \r\n                    switch(this.current){\r\n                        case 2:\r\n                            type = 'construction';\r\n                        break;\r\n                        case 3:\r\n                            type = 'mooring';\r\n                        break;\r\n                        case 4:\r\n                            type = 'traveling';\r\n                        break;\r\n                    }\r\n                    formData.append('type', type);\r\n                    \r\n                    Axios.post(config.host+'/api/objects/'+this.$router.history.current.params.idObject+'/import', formData,\r\n                                { headers: { Authorization: this.AuthStr } })\r\n                                .then(() => fileDialog.value = '')\r\n                                .catch((error) => {\r\n                                    if(error.response.data.error.messages[0] == 'Ожидайте.'){\r\n                                        alert('Файл был успешно загружен на сервер.\\r\\rВ данный момент он обрабатывается.\\rЭто может занять несколько минут.');\r\n                                    }\r\n                                    else{\r\n                                        alert('При загрузке файла произошла ошибка.')\r\n                                    }\r\n                                    fileDialog.value = '';\r\n                                });\r\n                }\r\n            }\r\n\r\n            fileDialog.click();\r\n        },\r\n        exportExcel: function(){\r\n            let typeString;\r\n            switch(this.current){\r\n                case 2:\r\n                    typeString = 'construction';\r\n                break;\r\n                case 3:\r\n                    typeString = 'mooring';\r\n                break;\r\n                case 4:\r\n                    typeString = 'traveling';\r\n                break;\r\n            }\r\n            Axios({\r\n                method: 'get',\r\n                url: config.host+'/api/objects/'+this.$router.history.current.params.idObject+'/export?type='+typeString,\r\n                headers: { Authorization: this.AuthStr } })\r\n                        .then((resp) => {\r\n                            window.open(config.host+'/storage/'+resp.data.data.name+'.'+resp.data.data.extension, '_blank')\r\n                        }).catch((error) => {\r\n                            console.log(error);\r\n                        });\r\n        },\r\n        presentation(data, callback){\r\n            this.$refs.presentation.isActive = true;\r\n            this.$refs.presentation.id = data.id;\r\n            this.$refs.presentation.model = data.model;\r\n            this.$refs.presentation.callback = callback;\r\n            this.$refs.presentation.loadData();\r\n        }\r\n    },\r\n    created(){\r\n        this.role = sessionStorage.getItem('role');\r\n\r\n        this.current = this.$props.currentPage ? this.$props.currentPage : 0;\r\n\r\n        this.buttonClick(this.current);\r\n    },\r\n    updated () {\r\n        this.pages.find((page, i) => {\r\n            if (this.$route.path == page.path) {\r\n                this.current = i;\r\n                this.buttonClick(this.current);\r\n            }\r\n        });\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.tables-view{\r\n    height: 100%;\r\n    display: grid;\r\n    grid-template-rows: auto 1fr;\r\n    width: 100%;\r\n    grid-gap: 20px;\r\n\r\n    &_header{\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n\r\n    &_tab{\r\n        padding: 10px 30px;\r\n        border: none;\r\n        border-radius: 5px;\r\n        background-color: #ffffff;\r\n        border: 1px solid #8C8C98;\r\n        transition: all 0.3s;\r\n\r\n        &:not(:last-child){\r\n            margin-right: 30px;\r\n        }\r\n\r\n        &__right {\r\n            margin-left: auto;\r\n        }\r\n\r\n        &:last-child{\r\n            margin-left: 10px !important;\r\n        }\r\n        \r\n        &__active{\r\n            background-color: #5361FF;\r\n            border-color: #5361FF;\r\n            color: #ffffff;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tables-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tables-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tables-view.vue?vue&type=template&id=495bb6a2&\"\nimport script from \"./tables-view.vue?vue&type=script&lang=js&\"\nexport * from \"./tables-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tables-view.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"main-page-wrapper\">\r\n        <breadcrumbs @goToMain=\"goToMain\" :data=\"this.breadCrumbs\" />\r\n        <router-view @update=\"update\" class=\"main-page-content\">\r\n        </router-view>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n//\r\n        \r\nimport Vue from 'vue';\r\n\r\nimport BreadCrumbs from '../components/breadcrumbs.vue'\r\nVue.component('breadcrumbs', BreadCrumbs);\r\n\r\nimport scroll from 'vue-custom-scrollbar'\r\nVue.component('scroll', scroll)\r\n\r\nimport TablesView from '../components/tables-view';\r\nimport router from '../router';\r\nVue.component('tables-view', TablesView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            breadCrumbs: [\r\n                {\r\n                    name: 'Объекты',\r\n                    link: '/watcher/objects/'\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    methods:{\r\n        goToMain(){\r\n            this.breadCrumbs = [\r\n                {\r\n                    name: 'Объекты',\r\n                    link: '/watcher/objects/'\r\n                }\r\n            ];\r\n        },\r\n        update(data){\r\n            switch(data.type){\r\n                case 'openObject':\r\n                    this.breadCrumbs.push({\r\n                        name: data.value,\r\n                        link: data.link\r\n                    })\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        if ( window.location.pathname.indexOf('objects') == -1 ) {\r\n            router.push('/watcher/objects/');\r\n        }\r\n    },\r\n    updated () {\r\n        if ( window.location.pathname.indexOf('objects') == -1 ) {\r\n            router.push('/watcher/objects/');\r\n        }\r\n        if ( this.$route.path == '/watcher/objects/' & this.breadCrumbs.length > 1) {\r\n            this.breadCrumbs = [\r\n                {\r\n                    name: 'Объекты',\r\n                    link: '/watcher/objects/'\r\n                }\r\n            ];\r\n        }\r\n    }\r\n}\r\n\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./watcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./watcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./watcher.vue?vue&type=template&id=7b5a4125&\"\nimport script from \"./watcher.vue?vue&type=script&lang=js&\"\nexport * from \"./watcher.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table-view',{ref:\"table\",staticClass:\"watcher-table\",attrs:{\"headers\":_vm.infoHeaders,\"data\":_vm.data},on:{\"rowClick\":_vm.rowClick,\"addRow\":_vm.add,\"update\":_vm.update}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <table-view class=\"watcher-table\" ref=\"table\" @rowClick=\"rowClick\" @addRow=\"add\" @update=\"update\" :headers=\"infoHeaders\" :data=\"data\" />\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport axios from 'axios';\r\nimport config from '../../../config';\r\nimport scroll from 'vue-custom-scrollbar'\r\nVue.component('scroll', scroll)\r\nimport TablesView from '../../../components/table-view';\r\nVue.component('tables-view', TablesView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            breadCrumbs: [\r\n                'Объекты'\r\n            ],\r\n            infoHeaders : [\r\n            'Наименование объекта по ГК',\r\n            'Строительный номер',\r\n            'Название',\r\n            'Порт поставки',\r\n            'Порт регистрации',\r\n            'Стоимость (₽)',\r\n            'Примечание'\r\n            ],\r\n            data : [],\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        rowClick(id){\r\n            let name;\r\n            this.data.forEach(elem=>{\r\n                if(elem.id == id){\r\n                    name = elem.data.name.value;\r\n                }\r\n            });\r\n            this.$emit('update', {type: 'openObject', value: name, link: '/watcher/objects/'+id+'/UP'});\r\n            this.$router.push('/watcher/objects/'+id+'/UP');\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/objects',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr } }).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    this.data.push({\r\n                        id: resp.data.data.id,\r\n                        data: {\r\n                            nameSC : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            number : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            deliveryPort : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            registrationPort : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            cost : {\r\n                                value: '',\r\n                                type: 'number'\r\n                            },\r\n                            note : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n                this.lastAddedId = null;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            axios.put(config.host+'/api/objects/'+id,\r\n                      'contract_name='+data[0]+\r\n                      '&building_number='+data[1]+\r\n                      '&name='+data[2]+\r\n                      '&delivery_port='+data[3]+\r\n                      '&registration_port='+data[4]+\r\n                      '&price='+data[5]+\r\n                      '&note='+data[6],\r\n                      {headers: { Authorization: this.AuthStr } })\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                elem.data.nameSC.value = resp.data.data.contract_name;\r\n                                elem.data.number.value = resp.data.data.building_number;\r\n                                elem.data.name.value = resp.data.data.name;\r\n                                elem.data.deliveryPort.value = resp.data.data.delivery_port;\r\n                                elem.data.registrationPort.value = resp.data.data.registration_port;\r\n                                elem.data.cost.value = resp.data.data.price ? parseFloat(resp.data.data.price).toLocaleString() : '';\r\n                                elem.data.note.value = resp.data.data.note;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить этот объект?')){\r\n                axios.delete(config.host+'/api/objects/'+id,\r\n                            {headers: { Authorization: this.AuthStr } })\r\n                        .then(()=>{\r\n                            for(let i = 0; i < this.data.length; i++){\r\n                                if(this.data[i].id == id){\r\n                                    this.data.splice(i,1);\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }).catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                for(let i = 0; i < this.data.length; i++){\r\n                                    if(this.data[i].id == id){\r\n                                        this.data.splice(i,1);\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            }\r\n                            alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                        });\r\n            }\r\n        }\r\n    },\r\n    created () {\r\n        axios.get(config.host+'/api/objects',\r\n                  {headers: { Authorization: this.AuthStr } })\r\n        .then((resp) => {\r\n            let formatedData = [];\r\n            resp.data.data.forEach(contractObject => {\r\n                let tmp = {};\r\n\r\n                tmp.id = contractObject.id;\r\n\r\n                tmp.data = {};\r\n                \r\n                tmp.data.nameSC = {};\r\n                tmp.data.nameSC.value = contractObject.contract_name;\r\n                tmp.data.nameSC.type = 'text';\r\n                \r\n                tmp.data.number = {};\r\n                tmp.data.number.value = contractObject.building_number;\r\n                tmp.data.number.type = 'text';\r\n                \r\n                tmp.data.name = {};\r\n                tmp.data.name.value = contractObject.name;\r\n                tmp.data.name.type = 'text';\r\n                \r\n                tmp.data.deliveryPort = {};\r\n                tmp.data.deliveryPort.value = contractObject.delivery_port;\r\n                tmp.data.deliveryPort.type = 'text';\r\n                \r\n                tmp.data.registrationPort = {};\r\n                tmp.data.registrationPort.value = contractObject.registration_port;\r\n                tmp.data.registrationPort.type = 'text';\r\n                \r\n                tmp.data.cost = {};\r\n                tmp.data.cost.value = contractObject.price ? parseFloat(contractObject.price).toLocaleString() : '';\r\n                tmp.data.cost.type = 'number';\r\n                \r\n                tmp.data.note = {};\r\n                tmp.data.note.value = contractObject.note;\r\n                tmp.data.note.type = 'text';\r\n\r\n                formatedData.push(tmp);\r\n            });\r\n\r\n            this.data = formatedData;\r\n        });\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.main-page-wrapper{\r\n    padding: 25px 60px;\r\n    width: 100vw;\r\n}\r\n.main-page-content{\r\n    height: calc(100% - 120px);\r\n    margin: 40px 0;\r\n    //box-shadow: 0px 0px 16px #E7E7F0;\r\n}\r\n.watcher-table{\r\n    background-color: #ffffff;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./objects.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./objects.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./objects.vue?vue&type=template&id=dc098be4&\"\nimport script from \"./objects.vue?vue&type=script&lang=js&\"\nexport * from \"./objects.vue?vue&type=script&lang=js&\"\nimport style0 from \"./objects.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"watcher-block\"},[_c('tables-view',{attrs:{\"pages\":_vm.pages,\"currentPage\":this.current}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"watcher-block\">\r\n        <tables-view :pages=\"pages\" :currentPage=\"this.current\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport config from '../../../config';\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            pages: [\r\n                {\r\n                    text: 'Закрытие УП',\r\n                    path: '/watcher/objects/'+this.$router.history.current.params.idObject+\r\n                          '/UP'\r\n                },\r\n                {\r\n                    text: 'Закрытие УШ',\r\n                    path: '/watcher/objects/'+this.$router.history.current.params.idObject+\r\n                          '/USh'\r\n                },\r\n                {\r\n                    text: 'Закрытие УХ',\r\n                    path: '/watcher/objects/'+this.$router.history.current.params.idObject+\r\n                          '/UH'\r\n                }\r\n            ],\r\n            current: 0,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    mounted () {\r\n        if(this.$parent.$children[0].data.length <= 1) {\r\n            axios.get(config.host + '/api/objects/'+this.$router.currentRoute.params.idObject,\r\n                      {headers: { Authorization: this.AuthStr } })\r\n            .then(resp => {\r\n                this.$emit('update', {type: 'openObject', value: resp.data.data.name, link: '/watcher/objects/'+this.$router.currentRoute.params.idObject+'/UP'});\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        const path = this.$router.currentRoute.path;\r\n        if(path.indexOf('/UP') >= 0) {\r\n            this.current = 0;\r\n        }\r\n        if(path.indexOf('/USh') >= 0) {\r\n            this.current = 1;\r\n        }\r\n        if(path.indexOf('/UH') >= 0) {\r\n            this.current = 2;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.watcher-block{\r\n    background-color: #ffffff;\r\n    padding: 20px;\r\n    border-radius: 4px;\r\n}\r\n.main-page-wrapper {\r\n    padding: 25px 60px;\r\n    width: 100vw;\r\n}\r\n.main-page-content {\r\n    height: calc(100% - 120px);\r\n    margin: 40px 0;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./object-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./object-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./object-view.vue?vue&type=template&id=74816510&\"\nimport script from \"./object-view.vue?vue&type=script&lang=js&\"\nexport * from \"./object-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./object-view.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-button-wrap\"},[_c('div',[_c('button',{staticClass:\"add-row\",on:{\"click\":_vm.add}},[_vm._v(\"Добавить новую характеристику\")])]),_c('div',{staticClass:\"table-wrapper\"},[_c('table-view',{ref:\"table\",attrs:{\"headers\":_vm.headers,\"data\":_vm.data},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-button-wrap\">\r\n        <div><button class=\"add-row\" v-on:click=\"add\">Добавить новую характеристику</button></div>\r\n        <div class=\"table-wrapper\">\r\n            <table-view ref=\"table\" :headers=\"headers\" @sort=\"sort\" @addRow=\"add\" @update=\"update\" :data=\"data\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport axios from 'axios';\r\nimport config from '../../config';\r\n\r\nimport TableView from '../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers : [\r\n                'Наименование',\r\n                'Значение'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/shipProperties',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr }}).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: {\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            value : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let params = '';\r\n            let paramsNames = [\r\n                'key',\r\n                'value'\r\n            ]\r\n            data.forEach((elem, i) => {\r\n                if(elem != '' & elem != null & elem != undefined){\r\n                    params += '&'+paramsNames[i]+'='+elem\r\n                }\r\n            });\r\n            \r\n            axios.put(config.host+'/api/shipProperties/'+id,\r\n                      params.substring(1),\r\n                      {headers: { Authorization: this.AuthStr }})\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                elem.data.name.value = resp.data.data.key;\r\n                                elem.data.value.value = resp.data.data.value;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить данную запись?')){\r\n                axios({\r\n                    method: 'delete',\r\n                    url: config.host+'/api/shipProperties/'+id,\r\n                    headers: { Authorization: this.AuthStr }})\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i, formatedData){\r\n            axios({\r\n                method: 'get',\r\n                url: link+'?page='+i,\r\n                headers: { Authorization: this.AuthStr }\r\n            }).\r\n            then((resp) => {\r\n                if(formatedData == undefined){\r\n                    formatedData = [];\r\n                }\r\n\r\n                resp.data.data.ship_properties.forEach(shipProperties => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = shipProperties.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ];\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.name = {};\r\n                    tmp.data.name.value = shipProperties.key;\r\n                    tmp.data.name.type = 'text';\r\n                    \r\n                    tmp.data.value = {};\r\n                    tmp.data.value.value = shipProperties.value;\r\n                    tmp.data.value.type = 'text';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n\r\n                if(resp.data.data.ship_properties.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/contracts/'+this.$router.history.current.params.id+'/shipProperties', 1);\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ship-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ship-info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ship-info.vue?vue&type=template&id=41dd4ffd&\"\nimport script from \"./ship-info.vue?vue&type=script&lang=js&\"\nexport * from \"./ship-info.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-button-wrap\"},[_c('div',[_c('button',{staticClass:\"add-row\",on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"Добавить новую гарантию\")])]),_c('div',{staticClass:\"table-wrapper\"},[_c('table-view',{ref:\"table\",attrs:{\"headers\":_vm.headers,\"data\":_vm.data},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-button-wrap\">\r\n        <div><button class=\"add-row\" v-on:click=\"add()\">Добавить новую гарантию</button></div>\r\n        <div class=\"table-wrapper\">\r\n            <table-view ref=\"table\" :headers=\"headers\" @sort=\"sort\" @addRow=\"add\" @update=\"update\" :data=\"data\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../../config';\r\nimport axios from 'axios';\r\n\r\nimport TableView from '../../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers : [\r\n                'Сумма',\r\n                'Дата',\r\n                'Номер',\r\n                'Срок действия',\r\n                'Кто выдал',\r\n                'Дата последнего изменения',\r\n                'Примечание'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/bankGuarantees/',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr } }).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: {\r\n                            amount : {\r\n                                value: '',\r\n                                type: 'number'\r\n                            },\r\n                            date : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            number : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            validity : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            issuedBy : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            last : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            note : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n            \r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramsList = [\r\n                                'amount',\r\n                                'date',\r\n                                'number',\r\n                                'validity',\r\n                                'issued_by',\r\n                                'last_modified_date',\r\n                                'note'];\r\n            let paramsString = {};\r\n            data.forEach((elem, i) => {\r\n                if((elem != null & elem != '' & elem != undefined) | (i == 1 | i == 3 | i == 5)){\r\n                    paramsString[paramsList[i]] = elem;\r\n                }\r\n            });\r\n            axios.put(config.host+'/api/bankGuarantees/'+id,\r\n                      paramsString,\r\n                      {headers: { Authorization: this.AuthStr } })\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                let date = resp.data.data.date != null ? (new Date(resp.data.data.date)).toLocaleDateString() : '';\r\n                                let validity = resp.data.data.validity != null ? (new Date(resp.data.data.validity)).toLocaleDateString() : '';\r\n                                let last = resp.data.data.last_modified_date != null ? (new Date(resp.data.data.last_modified_date)).toLocaleDateString() : '';\r\n\r\n                                elem.data.amount.value = resp.data.data.amount;\r\n                                elem.data.date.value = date;\r\n                                elem.data.number.value = resp.data.data.number;\r\n                                elem.data.validity.value = validity;\r\n                                elem.data.issuedBy.value = resp.data.data.issued_by;\r\n                                elem.data.last.value = last;\r\n                                elem.data.note.value = resp.data.data.note;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить эту запись?')){\r\n                axios.delete(config.host+'/api/bankGuarantees/'+id,\r\n                            {headers: { Authorization: this.AuthStr } })\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i, formatedData){\r\n            axios.get(link+'?page='+i,\r\n                    {headers: { Authorization: this.AuthStr } })\r\n            .then((resp) => {\r\n                if(formatedData == undefined){\r\n                    formatedData = [];\r\n                }\r\n                \r\n                resp.data.data.bank_guarantees.forEach(bankGuarantees => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = bankGuarantees.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ];\r\n\r\n                    let date = bankGuarantees.date != null ? (new Date(bankGuarantees.date)).toLocaleDateString() : '';\r\n                    let validity = bankGuarantees.validity != null ? (new Date(bankGuarantees.validity)).toLocaleDateString() : '';\r\n                    let last = bankGuarantees.last_modified_date != null ? (new Date(bankGuarantees.last_modified_date)).toLocaleDateString() : '';\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.amount = {};\r\n                    tmp.data.amount.value = bankGuarantees.amount ? parseFloat(bankGuarantees.amount).toLocaleString() : '';\r\n                    tmp.data.amount.type = 'number';\r\n                    \r\n                    tmp.data.date = {};\r\n                    tmp.data.date.value = date;\r\n                    tmp.data.date.type = 'date';\r\n                    \r\n                    tmp.data.number = {};\r\n                    tmp.data.number.value = bankGuarantees.number;\r\n                    tmp.data.number.type = 'text';\r\n                    \r\n                    tmp.data.validity = {};\r\n                    tmp.data.validity.value = validity;\r\n                    tmp.data.validity.type = 'date';\r\n                    \r\n                    tmp.data.issuedBy = {};\r\n                    tmp.data.issuedBy.value = bankGuarantees.issued_by;\r\n                    tmp.data.issuedBy.type = 'text';\r\n                    \r\n                    tmp.data.last = {};\r\n                    tmp.data.last.value = last;\r\n                    tmp.data.last.type = 'date';\r\n                    \r\n                    tmp.data.note = {};\r\n                    tmp.data.note.value = bankGuarantees.note;\r\n                    tmp.data.note.type = 'text';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n\r\n                if(resp.data.data.bank_guarantees.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/contracts/'+this.$router.history.current.params.id+'/bankGuarantees',1)\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bank-guarantees.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bank-guarantees.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bank-guarantees.vue?vue&type=template&id=b2039456&\"\nimport script from \"./bank-guarantees.vue?vue&type=script&lang=js&\"\nexport * from \"./bank-guarantees.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-button-wrap\"},[_c('div',[_c('button',{staticClass:\"add-row\",on:{\"click\":function($event){return _vm.addLimit()}}},[_vm._v(\"Добавить новый лимит\")])]),_c('scroll-bar',{staticClass:\"table-wrapper\"},[_c('header',{staticClass:\"table-view_headers limit-header\",staticStyle:{\"display\":\"inline-grid\",\"min-width\":\"100%\"}},[_c('div',{style:(this.years.length > 0 ? 'display: grid;'+\n                                                 'grid-template-columns: repeat('+this.years.length+', minmax(200px, 1fr))' : '')},_vm._l((this.years),function(year,i){return _c('span',{key:i,staticClass:\"table-view_header no-sort\"},[_vm._v(\" \"+_vm._s(year.value)+\" \"),_c('more-tools',{staticClass:\"header-more-tools\",attrs:{\"options\":year.options,\"id\":year.id},on:{\"option-click\":_vm.yearOption}})],1)}),0),_c('button',{staticClass:\"addColumn\",staticStyle:{\"position\":\"relative\"},attrs:{\"title\":\"Добавить новый год\"},on:{\"click\":_vm.addYear}}),_c('span',{staticClass:\"table-view_header no-sort\"},[_vm._v(\"Примечание\")])]),_c('div',{staticClass:\"table-view_body\"},_vm._l((this.data),function(row,i){return _c('div',{key:i},[(row.isEdit == false)?_c('div',{staticClass:\"table-view_row\",style:(row.years.length > 0 ? 'min-width: 100%;'+\n                                                    'border-bottom: 1px solid #dcdce8;'+\n                                                    'display: inline-grid;'+\n                                                    'grid-template-columns: repeat('+row.years.length+', minmax(200px, 1fr)) 60px 500px' : '')},[_vm._l((row.years),function(cell,i){return _c('span',{key:i,staticClass:\"table-view_cell\"},[_vm._v(\" \"+_vm._s(cell.value != '' ? parseFloat(cell.value).toLocaleString() : '')+\" \")])}),_c('span'),_c('span',{staticClass:\"table-view_cell\",staticStyle:{\"padding-right\":\"90px\"}},[_vm._v(_vm._s(row.note))]),_c('more-tools',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"options\":row.options,\"id\":row.years},on:{\"option-click\":_vm.limitOption}})],2):_vm._e(),(row.isEdit == true)?_c('div',{staticClass:\"table-view_row\",style:(row.years.length > 0 ? 'min-width: 100%;'+\n                                                    'border-bottom: 1px solid #dcdce8;'+\n                                                    'display: inline-grid;'+\n                                                    'grid-template-columns: repeat('+row.years.length+', minmax(200px, 1fr)) 60px 500px' : '')},[_vm._l((row.years),function(cell,i){return _c('input',{key:i,ref:\"editInputs\",refInFor:true,staticClass:\"table-view_cell\",attrs:{\"cell-id\":cell.id,\"type\":\"number\"},domProps:{\"value\":cell.value}})}),_c('span'),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(row.note),expression:\"row.note\"}],ref:\"editInputs\",refInFor:true,staticClass:\"table-view_cell-textarea\",domProps:{\"value\":(row.note)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(row, \"note\", $event.target.value)}}}),_c('div',{staticClass:\"more-tools save-btn\",attrs:{\"title\":\"Сохранить изменения\"},on:{\"click\":function($event){return _vm.editLimit(1)}}})],2):_vm._e()])}),0)]),_c('div',{class:'modal-wrapper '+[_vm.modalWindowIsShow?' modal-wrapper__active':'']},[_c('div',{staticClass:\"modal-dark-background\"}),_c('div',{staticClass:\"modal-window modal-window-limits\"},[_c('header',{staticClass:\"modal-window_header\"},[_vm._v(\"Укажите год для лимита \"),_c('button',{staticClass:\"modal-window_close\",on:{\"click\":_vm.close}})]),_c('div',{staticClass:\"limit-year-form\"},[_c('input',{ref:\"yearInput\",staticClass:\"table-view_cell add-limit-year_input\",attrs:{\"type\":\"number\"}}),_c('button',{staticClass:\"add-row add-limit-year_button\",on:{\"click\":function($event){_vm.modalEvent ? _vm.modalEvent() : ''}}},[_vm._v(\"ОК\")])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-view-wrapper\"},[_c('scroll-bar',{staticClass:\"table-view\",attrs:{\"settings\":{suppressScrollY : true}}},[(this.data != undefined)?_c('header',{staticClass:\"table-view_headers\",style:('grid-template-columns: '+ [this.headers.length > 2 ? 'repeat('+(this.headers.length - 2)+', minmax(300px, 1fr))' : ''] + ' 40px 500px 40px;')},_vm._l((this.headers),function(tableHeader,index){return _c('div',{key:index,ref:\"header\",refInFor:true,staticClass:\"table-view_header no-sort\"},[(tableHeader.value != 'addButton' &\n                            tableHeader.value != 'Примечание' &\n                            tableHeader.isEdit == false)?_c('span',[_vm._v(\" \"+_vm._s(tableHeader.value)+\" \"),_c('more-tools',{attrs:{\"options\":tableHeader.options,\"id\":tableHeader.id},on:{\"option-click\":_vm.yearOption}})],1):_vm._e(),(tableHeader.value != 'addButton' &\n                            tableHeader.value != 'Примечание' &\n                            tableHeader.isEdit == true)?_c('input',{ref:\"currentYear\",refInFor:true,staticClass:\"table-view_cell\",attrs:{\"type\":\"number\"},domProps:{\"value\":tableHeader.value},on:{\"keyup\":function($event){return _vm.yearUpdate(tableHeader.id, $event)}}}):_vm._e(),(tableHeader.value == 'addButton')?_c('button',{staticClass:\"addColumn\",attrs:{\"title\":\"Добавить новый год\"},on:{\"click\":_vm.addColumn}}):_vm._e(),(tableHeader.value == 'Примечание')?_c('span',[_vm._v(_vm._s(tableHeader.value))]):_vm._e()])}),0):_vm._e(),(this.data != undefined)?_c('scroll-bar',{class:'table-view_body'+[this.firstColumn ? ' table-view_body__first-column' : ''],attrs:{\"settings\":{wheelPropagation : true, suppressScrollX : true}}},_vm._l((this.data),function(tableRow,index){return _c('div',{key:index,staticClass:\"table-view_row\"},[_c('row-view',{ref:tableRow.id,refInFor:true,attrs:{\"index\":index,\"rowData\":tableRow,\"inRowAdd\":_vm.inRowAdd,\"columnsWidth\":'grid-template-columns: repeat('+([tableRow.data != undefined ? Object.keys(tableRow.data).length - 2 : 0])+', minmax(300px, 1fr)) 40px 500px 40px;'},on:{\"addRow\":_vm.addRow}})],1)}),0):_vm._e(),(this.data == undefined)?_c('div',{staticClass:\"new-row-button-wrapper\"},[(this.inRowAdd == true)?_c('button',{staticClass:\"new-row-button\",on:{\"click\":function($event){return _vm.addRow()}}},[_vm._v(\"Добавить новую запись\")]):_vm._e(),(this.inRowAdd != true)?_c('p',[_vm._v(\"Нет записей\")]):_vm._e()]):_vm._e(),(this.data.length == 0)?_c('div',{staticClass:\"new-row-button-wrapper\"},[(this.inRowAdd == true & this.data.length == 0)?_c('button',{staticClass:\"new-row-button\",on:{\"click\":function($event){return _vm.addRow()}}},[_vm._v(\"Добавить новую запись\")]):_vm._e(),(this.inRowAdd != true & this.data.length == 0)?_c('p',[_vm._v(\"Нет записей\")]):_vm._e()]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-view-wrapper\">\r\n        <scroll-bar :settings=\"{suppressScrollY : true}\" class=\"table-view\">\r\n            <header v-if=\"this.data != undefined\" class=\"table-view_headers\" :style=\"'grid-template-columns: '+ [this.headers.length > 2 ? 'repeat('+(this.headers.length - 2)+', minmax(300px, 1fr))' : ''] + ' 40px 500px 40px;'\">\r\n                <div ref=\"header\" v-for=\"(tableHeader, index) in this.headers\" :key=\"index\" class=\"table-view_header no-sort\" >\r\n                    <span v-if=\"tableHeader.value != 'addButton' &\r\n                                tableHeader.value != 'Примечание' &\r\n                                tableHeader.isEdit == false\">\r\n                        {{tableHeader.value}}\r\n                        <more-tools @option-click=\"yearOption\" :options=\"tableHeader.options\" :id=\"tableHeader.id\" />\r\n                    </span>\r\n\r\n                    <input v-if=\"tableHeader.value != 'addButton' &\r\n                                tableHeader.value != 'Примечание' &\r\n                                tableHeader.isEdit == true\"\r\n                                :value=\"tableHeader.value\"\r\n                                ref=\"currentYear\"\r\n                                type=\"number\"\r\n                                @keyup=\"yearUpdate(tableHeader.id, $event)\"\r\n                                class=\"table-view_cell\" />\r\n\r\n                    <button @click=\"addColumn\" v-if=\"tableHeader.value == 'addButton'\" class=\"addColumn\" title=\"Добавить новый год\"></button>\r\n                    <span v-if=\"tableHeader.value == 'Примечание'\">{{tableHeader.value}}</span>\r\n                </div>\r\n            </header>\r\n            <scroll-bar :settings=\"{wheelPropagation : true, suppressScrollX : true}\" v-if=\"this.data != undefined\" v-bind:class=\"'table-view_body'+[this.firstColumn ? ' table-view_body__first-column' : '']\">\r\n                <div v-for=\"(tableRow, index) in this.data\" :key=\"index\" class=\"table-view_row\">\r\n                    <row-view :ref=\"tableRow.id\"\r\n                              :index=\"index\"\r\n                              :rowData=\"tableRow\"\r\n                              @addRow=\"addRow\"\r\n\r\n                              :inRowAdd=\"inRowAdd\"\r\n                              :columnsWidth=\"'grid-template-columns: repeat('+([tableRow.data != undefined ? Object.keys(tableRow.data).length - 2 : 0])+', minmax(300px, 1fr)) 40px 500px 40px;'\" />\r\n                </div>\r\n            </scroll-bar>\r\n            <div class=\"new-row-button-wrapper\" v-if=\"this.data == undefined\">\r\n                <button v-if=\"this.inRowAdd == true\" class=\"new-row-button\" v-on:click=\"addRow()\">Добавить новую запись</button>\r\n                <p v-if=\"this.inRowAdd != true\">Нет записей</p>\r\n            </div>\r\n            <div class=\"new-row-button-wrapper\" v-if=\"this.data.length == 0\">\r\n                <button v-if=\"this.inRowAdd == true & this.data.length == 0\" class=\"new-row-button\" v-on:click=\"addRow()\">Добавить новую запись</button>\r\n                <p v-if=\"this.inRowAdd != true & this.data.length == 0\">Нет записей</p>\r\n            </div>\r\n        </scroll-bar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport ScrollBar from 'vue-custom-scrollbar' \r\nVue.component('scroll-bar', ScrollBar)\r\n\r\nimport RowView from '../components/row-view'\r\nVue.component('row-view', RowView);\r\n\r\nimport MoreTools from '../components/more-tools'\r\nVue.component('more-tools', MoreTools);\r\n\r\nexport default {\r\n    props: [ 'data', 'headers', 'firstColumn', 'inRowAdd'],\r\n    data () {\r\n        return {\r\n            rowsCount: 0\r\n        }\r\n    },\r\n    methods: {\r\n        yearOption(data){\r\n            this.$emit('yearOption', data);\r\n        },\r\n        addRow : function(position){\r\n            this.$emit('addRow', position);\r\n        },\r\n        addColumn(){\r\n            this.$emit('addColumn');\r\n        },\r\n        yearUpdate(id, event){\r\n            if(event.code == 'Enter'){\r\n                this.$emit('yearUpdate', id);\r\n            }\r\n        }\r\n    },\r\n    created () {\r\n        if(this.data != undefined){\r\n            this.rowsCount = this.data.length;\r\n        }\r\n        else{\r\n            this.rowsCount = 0;\r\n        }\r\n    },\r\n    updated () {\r\n        if(this.rowsCount < this.data.length){\r\n            this.$emit('update');\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.table-view-wrapper{\r\n    width: 100%;\r\n    min-height: 130px;\r\n    overflow: hidden;\r\n    position: relative;\r\n\r\n    height: 100%;\r\n}\r\n.table-view{\r\n    height: 100%;\r\n    /*background-color: #ffffff;*/\r\n    display: grid;\r\n    grid-template-rows: auto 1fr;\r\n    border-radius: 5px;\r\n    position: relative;\r\n\r\n    &_headers, &_row-content{\r\n        display: grid;\r\n        border-bottom: 1px solid #DCDCE8;\r\n    }\r\n    &_header{\r\n        padding: 30px 40px;\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n        color: #2E2E2E;\r\n        cursor: pointer;\r\n        position: relative;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    &_body{\r\n        position: relative;\r\n        min-height: 130px;\r\n        padding-bottom: 30px;\r\n        \r\n        &__first-column{\r\n\r\n            .table-view_cell:first-child{\r\n                color: #5361FF;\r\n            }\r\n        }\r\n    }\r\n\r\n    &_row{\r\n        position: relative;\r\n    }\r\n    &_row-content{\r\n        transition: box-shadow 0.3s;\r\n        cursor: pointer;\r\n        min-height: 70px;\r\n\r\n        &:hover{\r\n            box-shadow: 0px 0px 10px #DCDCE3CC;\r\n\r\n            & ~ .table-view_add-row{\r\n                opacity: 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    &_add-row{\r\n        width: 20px;\r\n        height: 20px;\r\n        margin: -10px 0 0 0px;\r\n        position: absolute;\r\n        border-radius: 10px;\r\n        border: 1px solid #565AFF;\r\n        background-color: #ffffff;\r\n        cursor: pointer;\r\n\r\n        background-image: url('../assets/add-row.svg');\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        background-size: 60%;\r\n\r\n        opacity: 0;\r\n        transition: opacity 0.3s;\r\n\r\n        &:nth-child(2){\r\n            top: 0;\r\n        }\r\n        \r\n        &:hover{\r\n            opacity: 1;\r\n        }\r\n    }\r\n\r\n\r\n    &_cell{\r\n        padding: 20px 40px;\r\n        font-size: 16px;\r\n        color: #2E2E2E;\r\n        /*max-height: 35px;*/\r\n        transition: all 0.3s;\r\n        overflow: hidden;\r\n\r\n        &:hover{\r\n            /*max-height: 500px;*/\r\n        }\r\n\r\n        &__edit{\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    &_input-cell__not-edit{\r\n        display: none;\r\n    }\r\n}\r\ninput.table-view_cell{\r\n    margin: 10px 20px;\r\n    padding: 5px 10px;\r\n    border-radius: 5px;\r\n    border: none;\r\n    background-color: #F6F7FB;\r\n    min-height: 50px;\r\n    width: calc(100% - 40px);\r\n}\r\n.new-row-button-wrapper {\r\n    width: calc(100vw - 150px);\r\n    margin: 150px 0 40px 0;\r\n    position: sticky;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    grid-row: 2/3;\r\n}\r\n.new-row-button {\r\n    background-color: #5361FF;\r\n    border: none;\r\n    color: #ffffff;\r\n    padding: 10px 30px;\r\n    border-radius: 5px;\r\n}\r\n.addColumn {\r\n    width: 30px;\r\n    height: 30px;\r\n    position: absolute;\r\n    margin-left: -20px;\r\n    border: 1px solid #5361ff;\r\n    background-color: #ffffff;\r\n    border-radius: 5px;\r\n    background-image: url('../assets/add-row.svg');\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./limit-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./limit-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./limit-view.vue?vue&type=template&id=f19747ce&\"\nimport script from \"./limit-view.vue?vue&type=script&lang=js&\"\nexport * from \"./limit-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./limit-view.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"table-button-wrap\">\r\n        <div><button class=\"add-row\" v-on:click=\"addLimit()\">Добавить новый лимит</button></div>\r\n        <scroll-bar class=\"table-wrapper\">\r\n            <header class=\"table-view_headers limit-header\" style=\"display: inline-grid;min-width: 100%;\">\r\n                <div :style=\"this.years.length > 0 ? 'display: grid;'+\r\n                                                     'grid-template-columns: repeat('+this.years.length+', minmax(200px, 1fr))' : ''\">\r\n                    <span v-for=\"(year, i) in this.years\"\r\n                          :key=\"i\"\r\n                          class=\"table-view_header no-sort\">\r\n                        {{year.value}}\r\n                        <more-tools @option-click=\"yearOption\"\r\n                                    :options=\"year.options\"\r\n                                    :id=\"year.id\"\r\n                                    class=\"header-more-tools\" />\r\n                    </span>\r\n                </div>\r\n                <button @click=\"addYear\" class=\"addColumn\" style=\"position: relative;\" title=\"Добавить новый год\"></button>\r\n                <span class=\"table-view_header no-sort\">Примечание</span>\r\n            </header>\r\n            <div class=\"table-view_body\">\r\n                <div v-for=\"(row, i) in this.data\" :key=\"i\">\r\n                    <div v-if=\"row.isEdit == false\"\r\n                         class=\"table-view_row\"\r\n                         :style=\"row.years.length > 0 ? 'min-width: 100%;'+\r\n                                                        'border-bottom: 1px solid #dcdce8;'+\r\n                                                        'display: inline-grid;'+\r\n                                                        'grid-template-columns: repeat('+row.years.length+', minmax(200px, 1fr)) 60px 500px' : ''\">\r\n                        <span class=\"table-view_cell\"\r\n                              v-for=\"(cell, i) in row.years\"\r\n                              :key=\"i\">\r\n                                {{cell.value != '' ? parseFloat(cell.value).toLocaleString() : ''}}\r\n                        </span>\r\n                        <span></span>\r\n                        <span class=\"table-view_cell\" style=\"padding-right: 90px\">{{row.note}}</span>\r\n                \r\n                        <more-tools @option-click=\"limitOption\"\r\n                                    :options=\"row.options\"\r\n                                    :id=\"row.years\"\r\n                                    style=\"margin-right: 20px\" />\r\n                    </div>\r\n\r\n                    <div v-if=\"row.isEdit == true\" \r\n                         class=\"table-view_row\" \r\n                         :style=\"row.years.length > 0 ? 'min-width: 100%;'+\r\n                                                        'border-bottom: 1px solid #dcdce8;'+\r\n                                                        'display: inline-grid;'+\r\n                                                        'grid-template-columns: repeat('+row.years.length+', minmax(200px, 1fr)) 60px 500px' : ''\">\r\n                        <input\r\n                            v-for=\"(cell, i) in row.years\"\r\n                            :key=\"i\"\r\n                            :value=\"cell.value\"\r\n                            ref=\"editInputs\"\r\n                            :cell-id=\"cell.id\"\r\n                            type=\"number\"\r\n                            class=\"table-view_cell\" />\r\n                        <span></span>\r\n                        <textarea class=\"table-view_cell-textarea\"\r\n                                  ref=\"editInputs\"\r\n                                  v-model=\"row.note\"></textarea>\r\n\r\n                        <div @click=\"editLimit(1)\" class=\"more-tools save-btn\" title=\"Сохранить изменения\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- <limit-view ref=\"table\" :headers=\"headers\" @yearOption=\"yearOption\" @addColumn=\"addYear\" @yearUpdate=\"yearUpdate\" @addRow=\"addLimit\" @update=\"update\" :data=\"data\" /> -->\r\n        </scroll-bar>\r\n        <div :class=\"'modal-wrapper '+[modalWindowIsShow?' modal-wrapper__active':'']\">\r\n            <div class=\"modal-dark-background\"></div>\r\n            <div class=\"modal-window modal-window-limits\">\r\n                <header class=\"modal-window_header\">Укажите год для лимита <button @click=\"close\" class=\"modal-window_close\"></button></header>\r\n                <div class=\"limit-year-form\">\r\n                    <input type=\"number\" ref=\"yearInput\" class=\"table-view_cell add-limit-year_input\" />\r\n                    <button class=\"add-row add-limit-year_button\" @click=\"modalEvent ? modalEvent() : ''\">ОК</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../../config';\r\nimport axios from 'axios';\r\nimport ScrollBar from 'vue-custom-scrollbar';\r\nVue.component('scroll-bar', ScrollBar);\r\n\r\nimport LimitView from '../../../components/limit-view';\r\nVue.component('limit-view', LimitView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            modalWindowIsShow: false,\r\n            modalEvent: null,\r\n            editYearId: null,\r\n            editLimitId: null,\r\n            isEdit: false,\r\n            years: [],\r\n            data: [],\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        close(){\r\n            this.modalWindowIsShow = false;\r\n            this.$refs.yearInput.value = '';\r\n            this.modalEvent = null;\r\n        },\r\n\r\n        //Добавить столбец\r\n        addYear(){\r\n            if(!this.isEdit){\r\n                this.modalWindowIsShow = true;\r\n                this.modalEvent = () => {\r\n                    if(this.$refs.yearInput.value != ''){\r\n                        let isAdded = false;\r\n                        this.years.find(year=>{\r\n                            if(year.value == this.$refs.yearInput.value){\r\n                                isAdded = true;\r\n                            }\r\n                        });\r\n\r\n                        if(isAdded){\r\n                            alert(this.$refs.yearInput.value+' год уже записан в лимиты.');\r\n                            return;\r\n                        }\r\n                        else{\r\n                            let newYear = this.$refs.yearInput.value;\r\n                            let dataQuery = {\r\n                                data: []\r\n                            };\r\n                            this.data.forEach(limit=>{\r\n                                dataQuery.data.push({\r\n                                    contract_id: this.$router.history.current.params.id,\r\n                                    note: limit.note,\r\n                                    price: 'x',\r\n                                    years: newYear\r\n                                });\r\n                            });\r\n                            axios({\r\n                                method: 'post',\r\n                                data: dataQuery,\r\n                                url: config.host+'/api/limitBudgetaryObligations/multiple',\r\n                                headers: { Authorization: this.AuthStr }\r\n                            }).then(resp=>{\r\n                                this.years.push({\r\n                                    id: this.years.length,\r\n                                    value: newYear,\r\n                                    options: [\r\n                                        {\r\n                                            id: 'edit',\r\n                                            text: 'Редактировать',\r\n                                            event: this.editYear\r\n                                        },\r\n                                        {\r\n                                            id: 'delet',\r\n                                            text: 'Удалить',\r\n                                            event: this.deletYear\r\n                                        }\r\n                                    ]\r\n                                });\r\n\r\n                                resp.data.data.forEach((newCell, i)=>{\r\n                                    this.data[i].years.push({\r\n                                        id: newCell.id,\r\n                                        year: newYear,\r\n                                        value: ''\r\n                                    });\r\n                                });\r\n\r\n                                this.modalWindowIsShow = false;\r\n                                this.$refs.yearInput.value = '';\r\n                            });\r\n                            return;\r\n                        }\r\n                    }else{\r\n                        alert('Поле не заполнено.\\r\\rПожалуйста, заполните поле и повторите попытку');\r\n                    }\r\n                };\r\n            }\r\n            else{\r\n                alert('Пожалуйста, закончите редактирование таблицы и повторите попытку.')\r\n            }\r\n        },\r\n\r\n        //Редактировать столбец\r\n        editYear(){\r\n            if(this.$refs.yearInput.value != ''){\r\n                let isAdded = false;\r\n                this.years.find(year=>{\r\n                    if(year.value == this.$refs.yearInput.value){\r\n                        isAdded = true;\r\n                    }\r\n                });\r\n\r\n                if(isAdded){\r\n                    alert(this.$refs.yearInput.value+' год уже записан в лимиты.');\r\n                    return;\r\n                }\r\n                else{\r\n                    let newYear = this.$refs.yearInput.value;\r\n                    let dataQuery = {\r\n                        data: []\r\n                    };\r\n                    this.data.forEach(limit=>{\r\n                        dataQuery.data.push({\r\n                            id: limit.years[this.editYearId].id,\r\n                            years: newYear\r\n                        });\r\n                    });\r\n\r\n                    if(this.data.length > 0){\r\n                        axios({\r\n                            method: 'put',\r\n                            data: dataQuery,\r\n                            url: config.host+'/api/limitBudgetaryObligations/multiple',\r\n                            headers: { Authorization: this.AuthStr }\r\n                        }).then(()=>{\r\n                            this.years[this.editYearId].value = newYear;\r\n\r\n                            this.data.forEach(limit=>{\r\n                                limit.years[this.editYearId].year = newYear;\r\n                            });\r\n\r\n                            this.modalWindowIsShow = false;\r\n                            this.$refs.yearInput.value = '';\r\n                        });\r\n                    }\r\n                    else{\r\n                        this.years[this.editYearId].value = newYear;\r\n\r\n                        this.modalWindowIsShow = false;\r\n                        this.$refs.yearInput.value = '';\r\n                    }\r\n                    return;\r\n                }\r\n            }else{\r\n                alert('Поле не заполнено.\\r\\rПожалуйста, заполните поле и повторите попытку');\r\n            }\r\n        },\r\n        \r\n        //Удаляем столбец\r\n        deletYear(id){\r\n            if(!this.isEdit){\r\n                if(confirm('Вы действительно хотите удалить '+this.years[id].value+' год?')){\r\n                    let dataQuery = {\r\n                        data: []\r\n                    };\r\n                    this.data.forEach(limit=>{\r\n                        dataQuery.data.push({\r\n                            id: limit.years[id].id\r\n                        });\r\n                    });\r\n\r\n                    if(this.data.length > 0){\r\n                        axios({\r\n                            method: 'delete',\r\n                            data: dataQuery,\r\n                            url: config.host+'/api/limitBudgetaryObligations/multiple',\r\n                            headers: { Authorization: this.AuthStr }\r\n                        }).catch(error=>{\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                this.years.splice(id, 1);\r\n                                if(this.years.length == 0){\r\n                                    this.data = [];\r\n                                }\r\n                                else{\r\n                                    this.data.forEach(limit=>{\r\n                                        limit.years.splice(id, 1);\r\n                                    });\r\n                                }\r\n\r\n                                this.years.forEach((year, i)=>{\r\n                                    year.id = i;\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                    else{\r\n                        this.years.splice(id, 1);\r\n\r\n                        this.years.forEach((year, i)=>{\r\n                            year.id = i;\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                alert('Пожалуйста, закончите редактирование таблицы и повторите попытку.')\r\n            }\r\n        },\r\n\r\n        yearOption(data){\r\n            switch(data.data.id){\r\n                case 'edit':\r\n                    if(!this.isEdit){\r\n                        this.editYearId = data.id;\r\n                        this.$refs.yearInput.value = this.years[data.id].value;\r\n                        this.modalWindowIsShow = true;\r\n                        this.modalEvent = data.data.event;\r\n                    }\r\n                    else{\r\n                        alert('Пожалуйста, закончите редактирование таблицы и повторите попытку.')\r\n                    }\r\n                    break;\r\n                case 'delet':\r\n                    data.data.event(data.id);\r\n                    break;\r\n            }\r\n        },\r\n\r\n        addLimit(){\r\n            if(!this.isEdit){\r\n                if(this.years.length > 0){\r\n                    this.isEdit = true;\r\n                    let noteIndex = 0;\r\n                    this.data.forEach(elem=>{\r\n                        if(elem.note.indexOf('Примечание №') > -1){\r\n                            let tmp = parseInt(elem.note.substring(12)+'jbhmn');\r\n                            if(typeof tmp == 'number'){\r\n                                if(tmp > noteIndex){\r\n                                    noteIndex = tmp;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    let dataQuery = {\r\n                        data: []\r\n                    }\r\n\r\n                    this.years.forEach(year=>{\r\n                        dataQuery.data.push({\r\n                            contract_id: this.$router.history.current.params.id,\r\n                            note: 'Примечание №'+(noteIndex + 1),\r\n                            price: 'x',\r\n                            years: year.value\r\n                        });\r\n                    });\r\n\r\n                    axios({\r\n                        method: 'post',\r\n                        data: dataQuery,\r\n                        url: config.host+'/api/limitBudgetaryObligations/multiple',\r\n                        headers: { Authorization: this.AuthStr }\r\n                    }).then(resp=>{\r\n                        let tmpLimit = {\r\n                            note: resp.data.data[0].note,\r\n                            years: [],\r\n                            isEdit: true,\r\n                            options: [\r\n                                {\r\n                                    id: 'edit',\r\n                                    text: 'Редактировать',\r\n                                    event: this.editLimit\r\n                                },\r\n                                {\r\n                                    id: 'delet',\r\n                                    text: 'Удалить',\r\n                                    event: this.deletLimit\r\n                                }\r\n                            ]\r\n                        }\r\n                        resp.data.data.forEach(limit=>{\r\n                            let year = {\r\n                                id: limit.id,\r\n                                year: limit.years,\r\n                                value: limit.price != 'x' ? limit.price : ''\r\n                            };\r\n                            tmpLimit.years.push(year);\r\n                        });\r\n\r\n                        this.data.push(tmpLimit);\r\n\r\n                        this.editLimitId = this.data.length -1;\r\n                        this.editLimit();\r\n                    });\r\n                }\r\n                else{\r\n                    alert('Для добавления нового лимита, необходимо добавить хотябы один год.')\r\n                }\r\n            }\r\n            else{\r\n                alert('В данный момент вы редактируете таблицу.\\rЧтобы добавить новый лимит, необходимо звершить редактирование.')\r\n            }\r\n        },\r\n\r\n        editLimit(state){\r\n            setTimeout(()=>{\r\n                let inputs = this.$refs.editInputs;\r\n\r\n                if (state) {\r\n                    saveLimit(this);\r\n                }\r\n                else {\r\n                    inputs.forEach(input=>{\r\n                        input.onkeydown = (e)=>{\r\n                            if(e.keyCode == 13){\r\n                                saveLimit(this)\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n                function saveLimit(context) {\r\n                    if(inputs[inputs.length - 1].value.replace(/\\r?\\n/g, \"\").trim() != ''){\r\n                        let unicNote = true;\r\n                        \r\n                        context.data.forEach((limit, i)=>{\r\n                            if(limit.note == inputs[inputs.length - 1].value & i != context.editLimitId){\r\n                                unicNote = false;\r\n                            }\r\n                        });\r\n                        \r\n                        if(unicNote){\r\n                            let dataQuery = {\r\n                                data: []\r\n                            };\r\n                            context.data[context.editLimitId].years.forEach((year, i)=>{\r\n                                dataQuery.data.push({\r\n                                    id: year.id,\r\n                                    note: inputs[inputs.length - 1].value,\r\n                                    price: inputs[i].value == '' ? 'x' : inputs[i].value\r\n                                });\r\n                            });\r\n                            \r\n                            axios({\r\n                                method: 'put',\r\n                                data: dataQuery,\r\n                                url: config.host+'/api/limitBudgetaryObligations/multiple',\r\n                                headers: { Authorization: context.AuthStr }\r\n                            }).then(()=>{\r\n                                context.data[context.editLimitId].years.forEach((year, i)=>{\r\n                                    year.value = inputs[i].value;\r\n                                });\r\n                                context.data[context.editLimitId].note = inputs[inputs.length - 1].value;\r\n                                context.data[context.editLimitId].isEdit = false;\r\n                                context.isEdit = false;\r\n                                context.editLimitId = false;\r\n                            });\r\n                        }\r\n                        else{\r\n                            alert('Лимит с таким примечанием уже существует.\\rПерепроверьте введённые данные и повторите попытку.')\r\n                        }\r\n                    }\r\n                    else{\r\n                        alert('Необходимо заполнить поле \"Примечание\"');\r\n                        inputs[inputs.length - 1].value = null;\r\n                    }\r\n                }\r\n            },10);\r\n            \r\n        },\r\n\r\n        deletLimit(row){\r\n            if(!this.isEdit){\r\n                this.data.find((elem, i)=>{\r\n                    if(elem.years[0].id == row[0].id){\r\n                        if(confirm('Вы действительно хотите удалить этот лимит?\\r\\rПримечание лимита:\\r'+elem.note)){\r\n                            let dataQuery = {\r\n                                data: []\r\n                            };\r\n                            this.data[i].years.forEach(year=>{\r\n                                dataQuery.data.push({\r\n                                    id: year.id\r\n                                });\r\n                            });\r\n                            \r\n                            axios({\r\n                                method: 'delete',\r\n                                data: dataQuery,\r\n                                url: config.host+'/api/limitBudgetaryObligations/multiple',\r\n                                headers: { Authorization: this.AuthStr }\r\n                            }).catch(error=>{\r\n                                if(error.response.data.error.messages[0] == 'true'){\r\n                                    this.data.splice(i, 1);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            else{\r\n                alert('Пожалуйста, закончите редактирование таблицы и повторите попытку.')\r\n            }\r\n        },\r\n\r\n        limitOption(data){\r\n            switch(data.data.id){\r\n                case 'edit':\r\n                    if(!this.isEdit){\r\n                        this.data.find((limit, i)=>{\r\n                            if(limit.years[0].id == data.id[0].id){\r\n                                this.isEdit = true;\r\n                                limit.isEdit = true;\r\n                                this.editLimitId = i;\r\n                                this.editLimit();\r\n                            }\r\n                        });\r\n                    }\r\n                    else{\r\n                        alert('Пожалуйста, закончите редактирование таблицы и повторите попытку.')\r\n                    }\r\n                break;\r\n                case 'delet':\r\n                    data.data.event(data.id);\r\n                    break;\r\n            }\r\n        },\r\n\r\n        loadData(resp){\r\n            let years = [];\r\n            let limits = [];\r\n            Object.keys(resp.data).forEach((note, i) => {\r\n                let limit = {\r\n                    created_at: resp.data[note].created_at,\r\n                    note: note,\r\n                    years: [],\r\n                    isEdit: false,\r\n                    options: [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.editLimit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.deletLimit\r\n                        }\r\n                    ]\r\n                }\r\n\r\n                Object.keys(resp.data[note]).forEach((id, j) => {\r\n                    if(id != 'created_at'){\r\n                        let cellObject = resp.data[note][id];\r\n                        let yearNumber = Object.keys(cellObject)[0];\r\n                        let year = {\r\n                            id: id,\r\n                            year: yearNumber,\r\n                            value: cellObject[yearNumber] != 'x' ? cellObject[yearNumber] : ''\r\n                        };\r\n                        limit.years.push(year);\r\n\r\n                        if(i == 0){\r\n                            years.push({\r\n                                id: j,\r\n                                value: yearNumber,\r\n                                options: [\r\n                                    {\r\n                                        id: 'edit',\r\n                                        text: 'Редактировать',\r\n                                        event: this.editYear\r\n                                    },\r\n                                    {\r\n                                        id: 'delet',\r\n                                        text: 'Удалить',\r\n                                        event: this.deletYear\r\n                                    }\r\n                                ]\r\n                            });\r\n                        }\r\n                    }\r\n                    \r\n                });\r\n\r\n                limits.push(limit);\r\n            });\r\n\r\n            limits.sort((a,b)=>{\r\n                if(a.created_at > b.created_at){\r\n                    return 1;\r\n                }\r\n                if(a.created_at < b.created_at){\r\n                    return -1;\r\n                }\r\n                if(a.created_at == b.created_at){\r\n                    return 0;\r\n                }\r\n            });\r\n\r\n            this.data = limits;\r\n            this.years = years;\r\n            \r\n        }\r\n    },\r\n    created () {\r\n        this.isEdit = false;\r\n        axios({\r\n            method: 'get',\r\n            url: config.host+'/api/contracts/'+this.$router.history.current.params.id+'/limitBudgetaryObligations',\r\n            headers: { Authorization: this.AuthStr }\r\n        }).then(resp=>{\r\n            this.loadData(resp);\r\n        });\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.addColumn {\r\n    width: 30px;\r\n    height: 30px;\r\n    margin: 30px 15px;\r\n    border: 1px solid #5361ff;\r\n    background-color: #ffffff;\r\n    border-radius: 5px;\r\n    background-image: url('../../../assets/add-row.svg');\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n}\r\n.limit-header {\r\n    grid-template-columns: 1fr 60px 500px;\r\n}\r\n.header-more-tools{\r\n    margin: 0px !important;\r\n}\r\n.modal-wrapper {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    display: none;\r\n    z-index: 1000;\r\n\r\n    &__active{\r\n        display: flex;\r\n    }\r\n}\r\n.modal-dark-background {\r\n    background-color: rgba(7, 0, 48, 0.56);\r\n    position: absolute;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    z-index: 100;\r\n}\r\n.modal-window {\r\n    // width: 400px;\r\n    // height: 300px;\r\n    background-color: #ffffff;\r\n    z-index: 101;\r\n    position: absolute;\r\n    border-radius: 10px;\r\n    box-shadow: 0px 10px 40px #5361ff36;\r\n    \r\n    &_header {\r\n        padding: 30px;\r\n        display: grid;\r\n        grid-template-columns: 1fr 30px;\r\n        align-items: center;\r\n        height: 90px;\r\n        border-bottom: 1px solid #e9e9e9;\r\n        font-size: 20px;\r\n    }\r\n    &_close {\r\n        height: 100%;\r\n        width: 100%;\r\n        border: none;\r\n        background-color: transparent;\r\n        background-image: url('../../../assets/remove.svg');\r\n        background-repeat: no-repeat;\r\n        background-size: contain;\r\n    }\r\n}\r\n.limit-year-form{\r\n    display: grid;\r\n    grid-template-rows: 2fr 1fr;\r\n    // height: 210px !important;\r\n    // width: 500px !important;\r\n    padding: 20px;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    & .table-view_cell{\r\n        border: 1px solid #5361ff;\r\n        text-align: center;\r\n    }\r\n\r\n    & .add-row{\r\n        width: 100%;\r\n        margin-top: 10px;\r\n    }\r\n}\r\n\r\n.add-limit-year_button {\r\n    padding: 20px;\r\n    margin: 0px auto;\r\n    max-width: 150px;\r\n}\r\n\r\n.modal-window-limits{\r\n    height: 360px !important;\r\n    width: 500px !important;\r\n}\r\n\r\n.table-view_headers, .table-view_row-content {\r\n    display: grid;\r\n    border-bottom: 1px solid #DCDCE8;\r\n}\r\n.table-view_header {\r\n    padding: 30px 40px;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #2E2E2E;\r\n    cursor: pointer;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\ninput.table-view_cell {\r\n    margin: 10px 20px;\r\n    padding: 5px 10px;\r\n    border-radius: 5px;\r\n    border: none;\r\n    background-color: #F6F7FB;\r\n    min-height: 50px;\r\n    width: calc(100% - 40px);\r\n}\r\n.table-view_cell {\r\n    padding: 20px 40px;\r\n    font-size: 16px;\r\n    color: #2E2E2E;\r\n    /* max-height: 35px; */\r\n    transition: all 0.3s;\r\n    overflow: hidden;\r\n}\r\n.table-view_row {\r\n    position: relative;\r\n    border-right: 1px solid #DCDCE8;\r\n}\r\n.table-view_cell-textarea {\r\n    border: none;\r\n    background-color: #f6f7fb;\r\n    padding: 5px 10px;\r\n    border-radius: 5px;\r\n    min-width: calc(100% - 20px);\r\n    max-width: calc(100% - 20px);\r\n    margin: 10px !important;\r\n    line-height: 1.3rem;\r\n    height: 100px !important;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./limit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./limit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./limit.vue?vue&type=template&id=2417ccbf&\"\nimport script from \"./limit.vue?vue&type=script&lang=js&\"\nexport * from \"./limit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./limit.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-button-wrap\"},[_c('div',[_c('button',{staticClass:\"add-row\",on:{\"click\":_vm.add}},[_vm._v(\"Добавить новый объект\")])]),_c('div',{staticClass:\"table-wrapper\"},[_c('table-view',{ref:\"table\",attrs:{\"headers\":_vm.infoHeaders,\"data\":_vm.data},on:{\"sort\":_vm.sort,\"rowClick\":_vm.rowClick,\"addRow\":_vm.add,\"update\":_vm.update}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-button-wrap\">\r\n        <div><button class=\"add-row\" v-on:click=\"add\">Добавить новый объект</button></div>\r\n        <div class=\"table-wrapper\">\r\n            <table-view ref=\"table\" @sort=\"sort\" @rowClick=\"rowClick\" @addRow=\"add\" @update=\"update\" :headers=\"infoHeaders\" :data=\"data\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../config';\r\nimport axios from 'axios';\r\nimport scroll from 'vue-custom-scrollbar'\r\nVue.component('scroll', scroll)\r\nimport TablesView from '../../components/tables-view';\r\nVue.component('tables-view', TablesView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            infoHeaders : [\r\n            'Наименование объекта по ГК',\r\n            'Строительный номер',\r\n            'Название',\r\n            'Порт поставки',\r\n            'Порт регистрации',\r\n            'Стоимость (₽)',\r\n            'Примечание'\r\n            ],\r\n            data : [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        rowClick(id){\r\n            this.$router.push('/deal/'+this.$router.history.current.params.id+'/objects/'+id+'/about');\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/objects',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr } }).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    // let tmpData = this.data;\r\n                    this.data.push({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: {\r\n                            nameSC : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            number : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            deliveryPort : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            registrationPort : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            cost : {\r\n                                value: '',\r\n                                type: 'number'\r\n                            },\r\n                            note : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    // this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n                this.lastAddedId = null;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramsList = ['contract_name',\r\n                      'building_number',\r\n                      'name',\r\n                      'delivery_port',\r\n                      'registration_port',\r\n                      'price',\r\n                      'note'];\r\n                      let paramsString = '';\r\n            data.forEach((elem, i) => {\r\n                if(elem != null & elem != '' & elem != undefined){\r\n                    paramsString += '&'+paramsList[i]+'='+elem;\r\n                }\r\n            });\r\n            axios.put(config.host+'/api/objects/'+id,\r\n                      paramsString.substring(1),\r\n                      {headers: { Authorization: this.AuthStr } })\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                elem.data.nameSC.value = resp.data.data.contract_name;\r\n                                elem.data.number.value = resp.data.data.building_number;\r\n                                elem.data.name.value = resp.data.data.name;\r\n                                elem.data.deliveryPort.value = resp.data.data.delivery_port;\r\n                                elem.data.registrationPort.value = resp.data.data.registration_port;\r\n                                elem.data.cost.value = resp.data.data.price != null ? parseFloat(resp.data.data.price).toLocaleString() : '';\r\n                                elem.data.note.value = resp.data.data.note;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить этот объект?')){\r\n                axios.delete(config.host+'/api/objects/'+id,\r\n                            {headers: { Authorization: this.AuthStr } })\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i, formatedData){\r\n            axios.get(link+'?page='+i,\r\n                    {headers: { Authorization: this.AuthStr } })\r\n            .then((resp) => {\r\n                if(formatedData == undefined){\r\n                    formatedData = [];\r\n                }\r\n\r\n                resp.data.data.contract_objects.forEach(contractObject => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = contractObject.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ];\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.nameSC = {};\r\n                    tmp.data.nameSC.value = contractObject.contract_name;\r\n                    tmp.data.nameSC.type = 'text';\r\n                    \r\n                    tmp.data.number = {};\r\n                    tmp.data.number.value = contractObject.building_number;\r\n                    tmp.data.number.type = 'text';\r\n                    \r\n                    tmp.data.name = {};\r\n                    tmp.data.name.value = contractObject.name;\r\n                    tmp.data.name.type = 'text';\r\n                    \r\n                    tmp.data.deliveryPort = {};\r\n                    tmp.data.deliveryPort.value = contractObject.delivery_port;\r\n                    tmp.data.deliveryPort.type = 'text';\r\n                    \r\n                    tmp.data.registrationPort = {};\r\n                    tmp.data.registrationPort.value = contractObject.registration_port;\r\n                    tmp.data.registrationPort.type = 'text';\r\n                    \r\n                    tmp.data.cost = {};\r\n                    tmp.data.cost.value = contractObject.price != null ? parseFloat(contractObject.price).toLocaleString() : '';\r\n                    tmp.data.cost.type = 'number';\r\n                    \r\n                    tmp.data.note = {};\r\n                    tmp.data.note.value = contractObject.note;\r\n                    tmp.data.note.type = 'text';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n\r\n                if(resp.data.data.contract_objects.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/contracts/'+this.$router.history.current.params.id+'/contractObjects', 1);\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./objects.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./objects.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./objects.vue?vue&type=template&id=156d3ec3&\"\nimport script from \"./objects.vue?vue&type=script&lang=js&\"\nexport * from \"./objects.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tables-view',{attrs:{\"pages\":_vm.pages,\"currentPage\":this.current}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <tables-view :pages=\"pages\" :currentPage=\"this.current\" />\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            pages: [\r\n                {\r\n                    text: 'Об объекте',\r\n                    path: '/deal/'+this.$router.history.current.params.id+\r\n                          '/objects/'+this.$router.history.current.params.idObject+\r\n                          '/about'\r\n                },\r\n                {\r\n                    text: 'Наблюдатели',\r\n                    path: '/deal/'+this.$router.history.current.params.id+\r\n                          '/objects/'+this.$router.history.current.params.idObject+\r\n                          '/watchers'\r\n                },\r\n                {\r\n                    text: 'Закрытие УП',\r\n                    path: '/deal/'+this.$router.history.current.params.id+\r\n                          '/objects/'+this.$router.history.current.params.idObject+\r\n                          '/UP'\r\n                },\r\n                {\r\n                    text: 'Закрытие УШ',\r\n                    path: '/deal/'+this.$router.history.current.params.id+\r\n                          '/objects/'+this.$router.history.current.params.idObject+\r\n                          '/USh'\r\n                },\r\n                {\r\n                    text: 'Закрытие УХ',\r\n                    path: '/deal/'+this.$router.history.current.params.id+\r\n                          '/objects/'+this.$router.history.current.params.idObject+\r\n                          '/UH'\r\n                }\r\n            ],\r\n            current: 0\r\n        }\r\n    },\r\n    created () {\r\n        const path = this.$router.currentRoute.path;\r\n        if(path.indexOf('/about') >= 0) {\r\n            this.current = 0;\r\n        }\r\n        if(path.indexOf('/watchers') >= 0) {\r\n            this.current = 1;\r\n        }\r\n        if(path.indexOf('/UP') >= 0) {\r\n            this.current = 2;\r\n        }\r\n        if(path.indexOf('/USh') >= 0) {\r\n            this.current = 3;\r\n        }\r\n        if(path.indexOf('/UH') >= 0) {\r\n            this.current = 4;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./object-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./object-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./object-view.vue?vue&type=template&id=08a5dc20&\"\nimport script from \"./object-view.vue?vue&type=script&lang=js&\"\nexport * from \"./object-view.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-button-wrap\"},[_c('div',[_c('button',{staticClass:\"add-row\",on:{\"click\":_vm.add}},[_vm._v(\"Добавить новую характеристику\")])]),_c('div',{staticClass:\"table-wrapper\"},[_c('table-view',{ref:\"table\",attrs:{\"headers\":_vm.headers,\"data\":_vm.data},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-button-wrap\">\r\n        <div><button class=\"add-row\" v-on:click=\"add\">Добавить новую характеристику</button></div>\r\n        <div class=\"table-wrapper\">\r\n            <table-view ref=\"table\" :headers=\"headers\" @sort=\"sort\" @addRow=\"add\" @update=\"update\" :data=\"data\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../../config';\r\nimport axios from 'axios';\r\n\r\nimport TableView from '../../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers : [\r\n                'Наименование',\r\n                'Значение'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/aboutObjects/',\r\n                'contract_object_id='+this.$router.history.current.params.idObject,\r\n                {headers: { Authorization: this.AuthStr }}).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: {\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            value : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let params = '';\r\n            let paramsNames = [\r\n                'name',\r\n                'value'\r\n            ]\r\n            data.forEach((elem, i) => {\r\n                if(elem != '' & elem != null & elem != undefined){\r\n                    params += '&'+paramsNames[i]+'='+elem;\r\n                }\r\n            });\r\n            axios.put(config.host+'/api/aboutObjects/'+id,\r\n                      params.substring(1),\r\n                      {headers: { Authorization: this.AuthStr }})\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                elem.data.name.value = resp.data.data.name;\r\n                                elem.data.value.value = resp.data.data.value;\r\n                              }\r\n                          });\r\n                        this.lastAddedId = null;\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить эту запись?')){\r\n                axios({\r\n                    method: 'delete',\r\n                    url: config.host+'/api/aboutObjects/'+id,\r\n                    headers: { Authorization: this.AuthStr }})\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i, formatedData){\r\n            axios({\r\n                method: 'get',\r\n                url: link+'?page='+i,\r\n                headers: { Authorization: this.AuthStr }\r\n            }).\r\n            then((resp) => {\r\n                if(formatedData == undefined){\r\n                    formatedData = [];\r\n                }\r\n                \r\n                resp.data.data.about_objects.forEach(about=>{\r\n\r\n                    let tmp = {};\r\n\r\n                    tmp.id = about.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ];\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.name = {};\r\n                    tmp.data.name.value = about.name;\r\n                    tmp.data.name.type = 'text';\r\n                    \r\n                    tmp.data.value = {};\r\n                    tmp.data.value.value = about.value;\r\n                    tmp.data.value.type = 'text';\r\n\r\n                    formatedData.push(tmp);\r\n\r\n                });\r\n\r\n                if(resp.data.data.about_objects.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/objects/'+this.$router.history.current.params.idObject+'/aboutObjects', 1)\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./about.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./about.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./about.vue?vue&type=template&id=00706be2&\"\nimport script from \"./about.vue?vue&type=script&lang=js&\"\nexport * from \"./about.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table-view',{ref:\"table\",attrs:{\"headers\":_vm.headers,\"data\":_vm.data},on:{\"checkboxChange\":_vm.userSelect,\"addRow\":_vm.add,\"update\":_vm.update}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <table-view ref=\"table\" :headers=\"headers\" @checkboxChange=\"userSelect\" @addRow=\"add\" @update=\"update\" :data=\"data\" />    \r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport axios from 'axios';\r\nimport config from '../../../config';\r\n\r\nimport TableView from '../../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers: [\r\n                '',\r\n                'Фамилия Имя',\r\n                'Примечание'\r\n            ],\r\n            data: [],\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        userSelect: function(){\r\n            let tmpUsers = '';\r\n            let i = 0;\r\n            this.data.forEach(elem => {\r\n                if(elem.data.isWatcher.value == true){\r\n                    tmpUsers += '&users_ids['+i+']='+elem.id;\r\n                }\r\n                i++;\r\n            });\r\n\r\n            axios.put(config.host+'/api/objects/'+this.$router.history.current.params.idObject,\r\n                      tmpUsers.substring(1),\r\n                      {headers: { Authorization: this.AuthStr } }).\r\n                      then(resp => {\r\n                        console.log(resp);\r\n                      });\r\n            \r\n        },\r\n        add : function(){\r\n            axios.post(config.host+'/api/travelingCertificates',\r\n            'contract_object_id='+this.$router.history.current.params.idObject,\r\n            {headers: { Authorization: this.AuthStr } }).\r\n            then((resp)=>{\r\n                this.lastAddedId = resp.data.data.id;\r\n                this.data.push({\r\n                    id: resp.data.data.id,\r\n                    options: [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }],\r\n                    data: { \r\n                        namber : {\r\n                            value: '',\r\n                            type: 'text'\r\n                        },\r\n                        name : {\r\n                            value: '',\r\n                            type: 'text'\r\n                        },\r\n                        documentation : {\r\n                            value: '',\r\n                            type: 'text'\r\n                        },\r\n                        date : {\r\n                            value: '',\r\n                            type: 'date'\r\n                        },\r\n                        note : {\r\n                            value: '',\r\n                            type: 'text'\r\n                        },\r\n                        plannedDate : {\r\n                            value: '',\r\n                            type: 'date'\r\n                        },\r\n                        realDate : {\r\n                            value: '',\r\n                            type: 'date'\r\n                        },\r\n                        files : {\r\n                            value: '',\r\n                            type: 'file'\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        },\r\n\r\n        update: function(){\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n                this.lastAddedId = null;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            axios.put(config.host+'/api/travelingCertificates/'+id,\r\n                      'number='+data[0]+\r\n                      '&name='+data[1]+\r\n                      '&documentation='+data[2]+\r\n                      '&date='+data[3]+\r\n                      '&note='+data[4]+\r\n                      '&closing_date_planned='+data[5]+\r\n                      '&closing_date_real='+data[6]+\r\n                      '&files=0',\r\n                      {headers: { Authorization: this.AuthStr } })\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                let date = '';\r\n                                let plannedDate = resp.data.data.closing_date_planned != null ? (new Date(resp.data.data.closing_date_planned)).toLocaleDateString() : '';\r\n                                let realDate = resp.data.data.closing_date_real != null ? (new Date(resp.data.data.closing_date_real)).toLocaleDateString() : '';\r\n\r\n                                elem.data.namber.value = resp.data.data.number;\r\n                                elem.data.name.value = resp.data.data.name;\r\n                                elem.data.documentation.value = '';\r\n                                elem.data.date.value = date;\r\n                                elem.data.note.value = '';\r\n                                elem.data.plannedDate.value = plannedDate;\r\n                                elem.data.realDate.value = realDate;\r\n                                elem.data.files.value = '';\r\n                              }\r\n                          });\r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            axios.delete(config.host+'/api/travelingCertificates/'+id,\r\n                          {headers: { Authorization: this.AuthStr } })\r\n                      .then(()=>{\r\n                          for(let i = 0; i < this.data.length; i++){\r\n                              if(this.data[i].id == id){\r\n                                  this.data.splice(i,1);\r\n                                  return;\r\n                              }\r\n                          }\r\n                      }).catch((error) => {\r\n                          if(error.response.data.error.messages[0] == 'true'){\r\n                            for(let i = 0; i < this.data.length; i++){\r\n                                if(this.data[i].id == id){\r\n                                    this.data.splice(i,1);\r\n                                    return;\r\n                                }\r\n                            }\r\n                          }\r\n                          alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                      });\r\n        },\r\n\r\n        loadData(link){\r\n            link = link == undefined ? config.host+'/api/contracts' : link;\r\n            axios.get(link, {headers: { Authorization: this.AuthStr } }).\r\n            then(resp => {\r\n                let users = resp.data.data;\r\n\r\n                \r\n                axios.get(config.host+'/api/objects/'+this.$router.history.current.params.idObject+'',\r\n                        {headers: { Authorization: this.AuthStr } })\r\n                .then((resp) => {\r\n                    users.forEach(user => {\r\n                        if(user.role == 0){\r\n                            let tmp = {};\r\n\r\n                            tmp.id = user.id;\r\n\r\n                            tmp.data = {};\r\n\r\n                            \r\n                            tmp.data.isWatcher = {};\r\n                            tmp.data.isWatcher.value = false;\r\n                            tmp.data.isWatcher.type = 'checkbox'\r\n\r\n                            for(let i = 0; i < resp.data.data.users.length; i++){\r\n                                if(resp.data.data.users[i].id == user.id){\r\n                                    tmp.data.isWatcher.value = true;\r\n                                }\r\n                            }\r\n                            \r\n                            tmp.data.name = {};\r\n                            tmp.data.name.value = user.fullname;\r\n                            tmp.data.name.type = 'text'\r\n                            \r\n                            tmp.data.note = {};\r\n                            tmp.data.note.value = user.company;\r\n                            tmp.data.note.type = 'text'\r\n\r\n                            this.data.push(tmp);\r\n                        }\r\n                    });\r\n                });\r\n                \r\n                if(resp.data.links.next != null){\r\n                    this.loadData(resp.data.links.next);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/users');\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./watchers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./watchers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./watchers.vue?vue&type=template&id=deb37fc0&\"\nimport script from \"./watchers.vue?vue&type=script&lang=js&\"\nexport * from \"./watchers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(this.role == 1)?_c('button',{staticClass:\"add-row\",on:{\"click\":_vm.addGroupQuery}},[_vm._v(\"Добавить новую группу УП\")]):_vm._e(),_c('scroll-bar',{staticStyle:{\"max-height\":\"50vh\"}},_vm._l((_vm.data),function(group,index){return _c('div',{key:index,staticClass:\"group-wrapper\"},[_c('div',{staticClass:\"group-header\",on:{\"click\":function($event){return _vm.loadUP(index,\n                            'group-checker'+index,\n                            '',\n                            1)}}},[(!group.isEdit)?_c('label',{staticClass:\"group-name\",attrs:{\"for\":'group-checker'+index}},[_vm._v(\" \"+_vm._s(group.name)+\" \")]):_vm._e(),(group.isEdit)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(group.name),expression:\"group.name\"}],ref:'group-name-input-'+index,refInFor:true,staticClass:\"group-name group-name__edit\",attrs:{\"type\":\"text\"},domProps:{\"value\":(group.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(group, \"name\", $event.target.value)}}}):_vm._e(),(group.options.length > 0)?_c('more-tools',{attrs:{\"options\":group.options,\"id\":group.id,\"customStyle\":\"display: flex; flex-direction: row;\"},on:{\"option-click\":_vm.groupTools}}):_vm._e()],1),_c('input',{ref:'group-checker'+index,refInFor:true,staticClass:\"group-checker\",attrs:{\"id\":'group-checker'+index,\"type\":\"checkbox\"}}),_c('div',{staticClass:\"group-content\"},[_c('table-view',{ref:'table'+group.id,refInFor:true,attrs:{\"headers\":group.subTable.headers,\"data\":group.subTable.rows,\"inRowAdd\":true,\"subTableColumns\":\"grid-template-columns: repeat(3, minmax(300px, 1fr)) 500px repeat(2, minmax(300px, 1fr)) 40px;\"},on:{\"addRow\":function($event){return _vm.add(group.id)},\"addRowInSubTable\":_vm.addRaport,\"update\":_vm.update,\"sort\":_vm.sort}})],1)])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <button v-if=\"this.role == 1\" class=\"add-row\" v-on:click=\"addGroupQuery\">Добавить новую группу УП</button>\r\n        <scroll-bar style=\"max-height: 50vh;\">\r\n            <div v-for=\"(group, index) in data\"\r\n                 :key=\"index\"\r\n                class=\"group-wrapper\" >\r\n                <div \r\n                    class=\"group-header\"\r\n                    @click=\"loadUP(index,\r\n                                'group-checker'+index,\r\n                                '',\r\n                                1)\"\r\n                >\r\n\r\n                    <label v-if=\"!group.isEdit\" class=\"group-name\" :for=\"'group-checker'+index\">\r\n                        {{group.name}}\r\n                    </label>\r\n                    <input :ref=\"'group-name-input-'+index\" v-if=\"group.isEdit\" class=\"group-name group-name__edit\"  type=\"text\" v-model=\"group.name\" />\r\n                    <more-tools v-if=\"group.options.length > 0\" @option-click=\"groupTools\" :options=\"group.options\" :id=\"group.id\" customStyle=\"display: flex; flex-direction: row;\" />\r\n                </div>\r\n                <input :id=\"'group-checker'+index\" :ref=\"'group-checker'+index\" type=\"checkbox\" class=\"group-checker\" />\r\n                <div class=\"group-content\">\r\n                    <table-view :ref=\"'table'+group.id\"\r\n                                @addRow=\"add(group.id)\"\r\n                                @addRowInSubTable=\"addRaport\"\r\n                                @update=\"update\"\r\n                                :headers=\"group.subTable.headers\"\r\n                                :data=\"group.subTable.rows\"\r\n                                :inRowAdd=\"true\"\r\n                                @sort=\"sort\"\r\n                                subTableColumns=\"grid-template-columns: repeat(3, minmax(300px, 1fr)) 500px repeat(2, minmax(300px, 1fr)) 40px;\" /> \r\n                </div>\r\n            </div>\r\n        </scroll-bar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../../config';\r\nimport axios from 'axios';\r\n\r\nimport ScrollBar from 'vue-custom-scrollbar' \r\nVue.component('scroll-bar', ScrollBar)\r\n\r\nimport MoreTools from '../../../components/more-tools';\r\nVue.component('more-tools', MoreTools);\r\n\r\nimport TableView from '../../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            data: [],\r\n            groupPreloader: [],\r\n            groupEditId: null,\r\n            role: 0,\r\n            lastAddedId: null,\r\n            lastAddedReportId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data.find((group, i) => {\r\n                if (group.subTable.rows.length != 0) {\r\n                    this.data[i].subTable.rows = [];\r\n\r\n                    this.$nextTick().then(()=>{\r\n                        this.data[i].subTable.rows = sortArray;\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n\r\n        //Группа УП\r\n        addGroupQuery : function(){\r\n            if(this.groupEditId == null){\r\n                axios({\r\n                    method: 'post',\r\n                    url: config.host+'/api/groups',\r\n                    data: 'contract_object_id='+this.$router.history.current.params.idObject,\r\n                    headers: { Authorization: this.AuthStr } }).\r\n                then((resp)=>{\r\n                    this.addGroup(resp.data.data, true);\r\n                });\r\n            }\r\n        },\r\n        groupTools : function(data){\r\n            if(data.data.id == 'edit'){\r\n                this.data.find(elem => {\r\n                    if(elem.id == data.id){\r\n                        elem.isEdit = true;\r\n                        this.groupEditId = elem.id;\r\n                    }\r\n                });\r\n            }\r\n            else{\r\n                this.data.find(elem => {\r\n                    if(elem.id == data.id){\r\n                        if(confirm('Выдействительно хотите удалить группу \"'+elem.name+'\" и все закрытия УП, закреплённые за этой группой?')){\r\n                            axios({\r\n                                method: 'delete',\r\n                                url: config.host+'/api/groups/'+data.id,\r\n                                headers: { Authorization: this.AuthStr }})\r\n                            .then(() => {\r\n                            })\r\n                            .catch(error => {                        \r\n                                if(error.response.data.error.messages[0] == 'true'){\r\n                                    for(let i = 0; i < this.data.length; i++){\r\n                                        if(this.data[i].id == elem.id){\r\n                                            this.data.splice(i, 1);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else{\r\n                                    alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                                }\r\n                            });\r\n                            \r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n\r\n        loadUP(id, ref, link, i, formatedData){\r\n            let currentGroup = this.data[id];\r\n            let checkbox = this.$refs[ref];\r\n            let isOpen = false;\r\n            \r\n            if(checkbox == undefined){\r\n                isOpen = false;\r\n            }\r\n            else{\r\n                if(i == 1){\r\n                    isOpen = !checkbox[0].checked;\r\n                }\r\n                else{\r\n                    isOpen = checkbox[0].checked;\r\n                }\r\n            }\r\n            \r\n            if(isOpen){\r\n                if(link == ''){\r\n                    link = config.host+'/api/groups/'+currentGroup.id+'/constructionCertificates';\r\n                }\r\n\r\n\r\n                if(formatedData == undefined){\r\n                    formatedData = [];\r\n                }\r\n                \r\n                axios({\r\n                    method: 'get',\r\n                    url: link+'?page='+i,\r\n                    headers: { Authorization: this.AuthStr }\r\n                })\r\n                .then(resp => {\r\n                    resp.data.data.construction_certificates.forEach(ccElem => {\r\n                        formatedData.push({\r\n                            id: ccElem.id,\r\n                            options: [\r\n                                {\r\n                                    id: 'edit',\r\n                                    text: 'Редактировать',\r\n                                    event: this.edit\r\n                                }\r\n                            ],\r\n                            data:{\r\n                                number: {\r\n                                    type: 'number',\r\n                                    value: ccElem.number\r\n                                },\r\n                                name: {\r\n                                    type: 'text',\r\n                                    value: ccElem.name\r\n                                },\r\n                                plannedDate: {\r\n                                    type: 'date',\r\n                                    value: ccElem.closing_date_planned != null ? new Date(ccElem.closing_date_planned).toLocaleDateString() : ''\r\n                                },\r\n                                closingDate: {\r\n                                    type: 'date',\r\n                                    value: ccElem.closing_date_real != null ? new Date(ccElem.closing_date_real).toLocaleDateString() : ''\r\n                                },\r\n                                files: {\r\n                                    type: 'files',\r\n                                    value: ccElem.files,\r\n                                    model: 'constructionCertificates'\r\n                                }\r\n                            },\r\n                            subTable: {\r\n                                headers: [\r\n                                    '№ Рапорта/извещения',\r\n                                    'Наименование',\r\n                                    'Действующая документация  ПДСП, РКД',\r\n                                    'Дата предъявления',\r\n                                    'Дата закрытия',\r\n                                    'Фотографии и файлы'\r\n\r\n                                ],\r\n                                rows: {}\r\n                            }\r\n                        });\r\n\r\n                        if(this.role == 1){\r\n                            formatedData[formatedData.length - 1].options.push(\r\n                                {\r\n                                    id: 'delet',\r\n                                    text: 'Удалить',\r\n                                    event: this.delet\r\n                                }\r\n                            );\r\n                        }\r\n\r\n                        formatedData[formatedData.length-1].subTable.rows = [];\r\n                        ccElem.reports.forEach(report => {\r\n                            formatedData[formatedData.length-1].subTable.rows.push({\r\n                                id: report.id,\r\n                                options: [\r\n                                    {\r\n                                        id: 'edit',\r\n                                        text: 'Редактировать',\r\n                                        event: this.editReport\r\n                                    },\r\n                                    {\r\n                                        id: 'editPresentation',\r\n                                        text: 'Редактировать предъявления',\r\n                                        event: this.editPresentation\r\n                                    }\r\n                                ],\r\n                                data: {\r\n                                    number: {\r\n                                        value: report.number,\r\n                                        type: 'text'\r\n                                    },\r\n                                    name: {\r\n                                        value: report.name,\r\n                                        type: 'text'\r\n                                    },\r\n                                    documentation: {\r\n                                        value: report.current_documentation,\r\n                                        type: 'text'\r\n                                    },\r\n                                    presentation: {\r\n                                        value: report.presentations,\r\n                                        type: 'presentation'\r\n                                    },\r\n                                    closingDate: {\r\n                                        value: report.closing_date != null ? new Date(report.closing_date).toLocaleDateString() : '',\r\n                                        type: 'date'\r\n                                    },\r\n                                    files: {\r\n                                        value: report.files,\r\n                                        type: 'files',\r\n                                        model: 'reports'\r\n                                    }\r\n                                }\r\n                            });\r\n                            \r\n                            if(this.role == 1){\r\n                                let position = formatedData[formatedData.length - 1].subTable.rows.length - 1;\r\n                                formatedData[formatedData.length - 1].subTable.rows[position].options.push(\r\n                                    {\r\n                                        id: 'delet',\r\n                                        text: 'Удалить',\r\n                                        event: this.deletReport\r\n                                    }\r\n                                );\r\n                            }\r\n                        });\r\n\r\n                        formatedData[formatedData.length-1].subTable.rows.sort((a,b)=>{\r\n                            if(a.id < b.id){\r\n                                return -1;\r\n                            }\r\n                            if(a.id > b.id){\r\n                                return 1;\r\n                            }\r\n                            if(a.id == b.id){\r\n                                return 0;\r\n                            }\r\n                        })\r\n                    });\r\n                    \r\n                    if(resp.data.data.construction_certificates.length > 0){\r\n                        i = i + 1;\r\n                        this.loadUP(id, ref, link, i, formatedData);\r\n                    }\r\n                    else{\r\n                        formatedData.sort((a,b)=>{\r\n                            if(a.id < b.id){\r\n                                return -1;\r\n                            }\r\n                            if(a.id > b.id){\r\n                                return 1;\r\n                            }\r\n                            if(a.id == b.id){\r\n                                return 0;\r\n                            }\r\n                        });\r\n                        currentGroup.subTable.rows = formatedData;\r\n                    }\r\n                });\r\n            }\r\n            else{\r\n                currentGroup.subTable.rows = [];\r\n            }          \r\n        },\r\n        //УП\r\n        add : function(id){\r\n            if(this.lastAddedId==null){\r\n                axios({\r\n                    method: 'post',\r\n                    url: config.host+'/api/constructionCertificates/',\r\n                    data: 'group_id='+id,\r\n                    headers: { Authorization: this.AuthStr } }).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    this.data.forEach(elem => {\r\n                        if(elem.id == id)\r\n                        {\r\n                            elem.subTable.rows.push({\r\n                                id: resp.data.data.id,\r\n                                options: [\r\n                                    {\r\n                                        id: 'edit',\r\n                                        text: 'Редактировать',\r\n                                        event: this.edit\r\n                                    }\r\n                                ],\r\n                                data:{\r\n                                    number: {\r\n                                        type: 'text',\r\n                                        value: ''\r\n                                    },\r\n                                    name: {\r\n                                        type: 'text',\r\n                                        value: ''\r\n                                    },\r\n                                    plannedDate: {\r\n                                        type: 'date',\r\n                                        value: ''\r\n                                    },\r\n                                    closingDate: {\r\n                                        type: 'date',\r\n                                        value: ''\r\n                                    },\r\n                                    files: {\r\n                                        type: 'files',\r\n                                        value: '',\r\n                                        model: 'constructionCertificates'\r\n                                    }\r\n                                },\r\n                                subTable: {\r\n                                    headers: [\r\n                                        '№ Рапорта/извещения',\r\n                                        'Наименование',\r\n                                        'Действующая документация  ПДСП, РКД',\r\n                                        'Дата предъявления',\r\n                                        'Дата закрытия',\r\n                                        'Фотографии и файлы'\r\n\r\n                                    ],\r\n                                    rows: []\r\n                                }\r\n                            });\r\n\r\n                            if(this.role == 1){\r\n                                elem.subTable.rows[elem.subTable.rows.length - 1].options.push(\r\n                                    {\r\n                                        id: 'delet',\r\n                                        text: 'Удалить',\r\n                                        event: this.delet\r\n                                    }\r\n                                );\r\n                            }\r\n                            \r\n                            elem.subTable.rows[elem.subTable.rows.length-1].subTable.rows = [];\r\n\r\n                            this.lastAddedId = resp.data.data.id;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        },\r\n        edit: function(data, id){\r\n            let paramsList = ['number',\r\n                      'name',\r\n                      'closing_date_planned',\r\n                      'closing_date_real',\r\n                      'files'];\r\n            let paramsString = {};\r\n            data.forEach((elem, i) => {\r\n                if((elem != '' & elem != null & elem != undefined) | (i == 2 | i == 3)){\r\n                    paramsString[paramsList[i]] = elem;\r\n                }\r\n            });\r\n            axios.put(config.host+'/api/constructionCertificates/'+id,\r\n                      paramsString,\r\n                      {headers: { Authorization: this.AuthStr } })\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              elem.subTable.rows.forEach(innerElem => {\r\n                                if(innerElem.id == id){\r\n                                    innerElem.data.number.value = resp.data.data.number;\r\n                                    innerElem.data.name.value = resp.data.data.name;\r\n\r\n                                    let plannedDate = resp.data.data.closing_date_planned != null ? (new Date(resp.data.data.closing_date_planned)).toLocaleDateString() : '';\r\n                                    let realDate = resp.data.data.closing_date_real != null ? (new Date(resp.data.data.closing_date_real)).toLocaleDateString() : '';\r\n\r\n                                    innerElem.data.plannedDate.value = plannedDate;\r\n                                    innerElem.data.closingDate.value = realDate;\r\n\r\n                                    innerElem.data.files.value = resp.data.data.files;\r\n                                    \r\n                                    this.lastAddedId = null;\r\n                                }\r\n                              })\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить эту запись?')){\r\n                axios.delete(config.host+'/api/constructionCertificates/'+id,\r\n                            {headers: { Authorization: this.AuthStr } })\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                for(let i = 0; i < this.data.length; i++){\r\n                                    for(let j = 0; j < this.data[i].subTable.rows.length; j++){\r\n                                        if(this.data[i].subTable.rows[j].id == id){\r\n                                            this.data[i].subTable.rows.splice(j, 1);\r\n                                            const tmp = this.data[i].subTable.rows;\r\n\r\n                                            this.data[i].subTable.rows = [];\r\n\r\n                                            setTimeout(()=>{\r\n                                                this.data[i].subTable.rows = tmp;\r\n                                            },10);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n\r\n        //Рапорты\r\n        addRaport(id){\r\n            if(this.lastAddedReportId==null){\r\n                axios({\r\n                    method: 'post',\r\n                    url: config.host+'/api/reports',\r\n                    data: 'construction_certificate_id='+id,\r\n                    headers: { Authorization: this.AuthStr } \r\n                }).then(resp => {\r\n                    this.data.forEach(elem => {\r\n                        elem.subTable.rows.forEach(innerElem => {\r\n                            if(innerElem.id == id){\r\n                                innerElem.subTable.rows.push({\r\n                                    id: resp.data.data.id,\r\n                                    options: [\r\n                                        {\r\n                                            id: 'edit',\r\n                                            text: 'Редактировать',\r\n                                            event: this.editReport\r\n                                        },\r\n                                        {\r\n                                            id: 'editPresentation',\r\n                                            text: 'Редактировать предъявления',\r\n                                            event: this.editPresentation\r\n                                        }\r\n                                    ],\r\n                                    data: {\r\n                                        number: {\r\n                                            value: '',\r\n                                            type: 'text'\r\n                                        },\r\n                                        name: {\r\n                                            value: '',\r\n                                            type: 'text'\r\n                                        },\r\n                                        documentation: {\r\n                                            value: '',\r\n                                            type: 'text'\r\n                                        },\r\n                                        presentation: {\r\n                                            value: {},\r\n                                            type: 'presentation'\r\n                                        },\r\n                                        closingDate: {\r\n                                            value: null,\r\n                                            type: 'date'\r\n                                        },\r\n                                        files: {\r\n                                            value: [],\r\n                                            type: 'files',\r\n                                            model: 'constructionCertificates'\r\n                                        }\r\n                                    }\r\n                                });\r\n                                \r\n                                if(this.role == 1){\r\n                                    let position = innerElem.subTable.rows.length - 1;\r\n                                    innerElem.subTable.rows[position].options.push(\r\n                                        {\r\n                                            id: 'delet',\r\n                                            text: 'Удалить',\r\n                                            event: this.deletReport\r\n                                        }\r\n                                    );\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                    this.lastAddedReportId = resp.data.data.id;\r\n                    this.update();\r\n                });\r\n            }\r\n        },\r\n        editReport: function(data, id){\r\n            let paramsList = ['number',\r\n                              'name',\r\n                              'current_documentation',\r\n                              'closing_date'];\r\n            let paramsString = {};\r\n            data.forEach((elem, i) => {\r\n                if((elem != '' & elem != null & elem != undefined) | (i == 3)){\r\n                    paramsString[paramsList[i]] = elem;\r\n                }\r\n            });\r\n            \r\n            axios({ method: 'put',\r\n                    url: config.host+'/api/reports/'+id,\r\n                    data:  paramsString,\r\n                    headers: { Authorization: this.AuthStr }})\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              elem.subTable.rows.forEach(innerElem => {\r\n                                  innerElem.subTable.rows.forEach(report => {\r\n                                    if(report.id == id){\r\n                                        report.data.number.value = resp.data.data.number;\r\n                                        report.data.name.value = resp.data.data.name;\r\n                                        report.data.documentation.value = resp.data.data.current_documentation;\r\n                                        report.data.presentation.value = resp.data.data.presentations;\r\n                                        report.data.closingDate.value = resp.data.data.closing_date != null ? new Date(resp.data.data.closing_date).toLocaleDateString() : '';\r\n                                        report.data.files.value = resp.data.data.files;\r\n                                        \r\n                                    }\r\n                                  });\r\n                              });\r\n                          });\r\n                                        this.lastAddedReportId = null;\r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedReportId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n        deletReport(id){\r\n            if(confirm('Вы действительно хотите удалить этот рапорт?')){\r\n                axios({\r\n                    method: 'delete',\r\n                    url: config.host+'/api/reports/'+id,\r\n                    headers: { Authorization: this.AuthStr }\r\n                }).then(()=>{\r\n                }).catch(error=>{\r\n                    if(error.response.data.error.messages[0] == 'true'){\r\n                        for(let i = 0; i < this.data.length; i++){\r\n                            for(let j = 0; j < this.data[i].subTable.rows.length; j++){\r\n                                for(let k = 0; k < this.data[i].subTable.rows[j].subTable.rows.length; k++){\r\n                                    if(this.data[i].subTable.rows[j].subTable.rows[k].id == id){\r\n                                        this.data[i].subTable.rows[j].subTable.rows.splice(k, 1);\r\n                                        const tmp = this.data[i].subTable.rows[j].subTable.rows;\r\n\r\n                                        this.data[i].subTable.rows[j].subTable.rows = [];\r\n\r\n                                        setTimeout(()=>{\r\n                                            this.data[i].subTable.rows[j].subTable.rows = tmp;\r\n                                        },50);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else{\r\n                        alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        editPresentation(id){\r\n            this.$emit('presentation', {id: id, model: 'reports'}, (data)=>{\r\n                this.data.forEach(group=>{\r\n                    group.subTable.rows.forEach(constructionCertificate=>{\r\n                        constructionCertificate.subTable.rows.forEach(report=>{\r\n                            if(report.id == id){\r\n                                report.data.presentation.value = data;\r\n                            }\r\n                        });\r\n                    });\r\n                });\r\n            });\r\n        },\r\n\r\n        update: function(){\r\n            if(this.lastAddedId != null){\r\n                this.data.forEach(elem => {\r\n                    elem.subTable.rows.forEach(innerElem => {\r\n                        if(innerElem.id == this.lastAddedId){\r\n                            this.$refs['table'+elem.id][0].$refs[this.lastAddedId][0].isEdit = true;\r\n                            this.$refs['table'+elem.id][0].$refs[this.lastAddedId][0].event = this.edit;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            \r\n            if(this.lastAddedReportId != null){\r\n                this.data.forEach(elem => {\r\n                    elem.subTable.rows.forEach(innerElem => {\r\n                        innerElem.subTable.rows.forEach(report => {\r\n                            if(report.id == this.lastAddedReportId){\r\n                                setTimeout(()=>{\r\n                                    this.$refs['table'+elem.id][0].$refs[innerElem.id][0].$refs['subTable'+innerElem.id].$refs[this.lastAddedReportId][0].isEdit = true;\r\n                                    this.$refs['table'+elem.id][0].$refs[innerElem.id][0].$refs['subTable'+innerElem.id].$refs[this.lastAddedReportId][0].event = this.editReport;\r\n                                }, 10);\r\n                            }\r\n                        })\r\n                    });\r\n                });\r\n            }\r\n        },\r\n\r\n        addGroup (elem, isEdit) {\r\n            let tmpGroup = {};\r\n\r\n            tmpGroup.id = elem.id;\r\n            tmpGroup.name = elem.name;\r\n            tmpGroup.isEdit = false;\r\n            tmpGroup.options = [];\r\n            \r\n            if(this.role == 1){\r\n                tmpGroup.options.push(\r\n                    {\r\n                        id: 'edit',\r\n                        text: 'Редактировать',\r\n                        event: this.groupTools\r\n                    }\r\n                );\r\n                tmpGroup.options.push(\r\n                    {\r\n                        id: 'delet',\r\n                        text: 'Удалить',\r\n                        event: this.groupTools\r\n                    }\r\n                );\r\n            }\r\n            \r\n\r\n            tmpGroup.subTable = {\r\n                headers : [\r\n                    '№ УП',\r\n                    'Наименование УП',\r\n                    'Плановая дата закрытия УП',\r\n                    'Дата закрытия УП',\r\n                    'Необходимые файлы'\r\n                    ]\r\n            };\r\n\r\n            tmpGroup.subTable.rows = [];\r\n\r\n            this.groupPreloader.push(tmpGroup);\r\n\r\n            if(isEdit){\r\n                this.data[this.data.length - 1].isEdit = true;\r\n                this.groupEditId = this.data[this.data.length - 1].id;\r\n            }\r\n        },\r\n        addToGroup (parrent, id) {\r\n            parrent.subTable.rows = [];\r\n\r\n            axios({\r\n                method: 'get',\r\n                url: config.host+'/api/groups/'+id+'/constructionCertificates',\r\n                headers: { Authorization: this.AuthStr }\r\n            })\r\n            .then(resp => {\r\n                resp.data.data.construction_certificates.forEach(ccElem => {\r\n                    parrent.subTable.rows.splice(parrent.subTable.rows.length,0,{\r\n                        id: ccElem.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            }\r\n                        ],\r\n                        data:{\r\n                            number: {\r\n                                type: 'text',\r\n                                value: ccElem.number\r\n                            },\r\n                            name: {\r\n                                type: 'text',\r\n                                value: ccElem.name\r\n                            },\r\n                            plannedDate: {\r\n                                type: 'date',\r\n                                value: ccElem.closing_date_planned != null ? new Date(ccElem.closing_date_planned).toLocaleDateString() : ''\r\n                            },\r\n                            closingDate: {\r\n                                type: 'date',\r\n                                value: ccElem.closing_date_real != null ? new Date(ccElem.closing_date_real).toLocaleDateString() : ''\r\n                            },\r\n                            files: {\r\n                                type: 'files',\r\n                                value: ccElem.files,\r\n                                model: 'constructionCertificates'\r\n                            }\r\n                        },\r\n                        subTable: {\r\n                            headers: [\r\n                                '№ Рапорта/извещения',\r\n                                'Наименование',\r\n                                'Действующая документация  ПДСП, РКД',\r\n                                'Дата предъявления',\r\n                                'Дата закрытия',\r\n                                'Фотографии и файлы'\r\n\r\n                            ],\r\n                            rows: []\r\n                        }\r\n                    });\r\n\r\n                    if(this.role == 1){\r\n                        parrent.subTable.rows[parrent.subTable.rows.length - 1].options.push(\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }\r\n                        );\r\n                    }\r\n                    \r\n\r\n                    ccElem.reports.forEach(report => {\r\n                        parrent.subTable.rows[parrent.subTable.rows.length-1].subTable.rows = [];\r\n                        parrent.subTable.rows[parrent.subTable.rows.length-1].subTable.rows.push({\r\n                            id: report.id,\r\n                            options: [\r\n                                {\r\n                                    id: 'edit',\r\n                                    text: 'Редактировать',\r\n                                    event: this.editReport\r\n                                }\r\n                                ,\r\n                                {\r\n                                    id: 'editPresentation',\r\n                                    text: 'Редактировать предъявления',\r\n                                    event: this.editPresentation\r\n                                }\r\n                            ],\r\n                            data: {\r\n                                number: {\r\n                                    value: report.number,\r\n                                    type: 'text'\r\n                                },\r\n                                name: {\r\n                                    value: report.name,\r\n                                    type: 'text'\r\n                                },\r\n                                documentation: {\r\n                                    value: report.current_documentation,\r\n                                    type: 'text'\r\n                                },\r\n                                presentation: {\r\n                                    value: report.presentations,\r\n                                    type: 'presentation'\r\n                                },\r\n                                closingDate: {\r\n                                    value: report.closing_date,\r\n                                    type: 'text'\r\n                                },\r\n                                files: {\r\n                                    value: report.files,\r\n                                    type: 'files',\r\n                                    model: 'reports'\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        if(this.role == 1){\r\n                            let firstIndex = parrent.subTable.rows.length - 1;\r\n                            let secondIndex = parrent.subTable.rows[firstIndex].subTable.rows.length -1;\r\n                            parrent.subTable.rows[firstIndex].subTable.rows[secondIndex].options.push(\r\n                                {\r\n                                    id: 'delet',\r\n                                    text: 'Удалить',\r\n                                    event: this.deletReport\r\n                                }\r\n                            );\r\n                        }\r\n                    });\r\n\r\n                    this.lastAddedId = ccElem.id;\r\n                });\r\n            });\r\n        },\r\n\r\n        loadGroups(link, i){\r\n            axios.get(link+'?page='+i,\r\n                    {headers: { Authorization: this.AuthStr } })\r\n            .then((resp) => {\r\n                resp.data.data.groups.forEach(elem => {\r\n                    this.addGroup(elem, false);\r\n                });\r\n                \r\n                if(resp.data.data.groups.length > 0){\r\n                    i = i + 1;\r\n                    this.loadGroups(link, i);\r\n                }\r\n                else{\r\n                    this.groupPreloader.sort((a,b)=>{\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    \r\n                    this.data = this.groupPreloader;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.role = sessionStorage.getItem('role');\r\n\r\n        this.loadGroups(config.host+'/api/objects/'+this.$router.history.current.params.idObject+'/groups', 1);\r\n    },\r\n    updated () {\r\n        \r\n        if(this.affterDeleting != null){\r\n            this.data = [];\r\n            setTimeout(()=>{\r\n                this.data = this.affterDeleting;\r\n                this.affterDeleting = null;\r\n            }, 100);\r\n        }\r\n\r\n        if(this.groupEditId != null){\r\n            this.data.find(elem => {\r\n                if(elem.id == this.groupEditId){\r\n                    document.onkeypress = (e) => {\r\n                        if(e.keyCode == 13){\r\n                            axios({\r\n                                method: 'put',\r\n                                url: config.host+'/api/groups/'+elem.id,\r\n                                data: 'name='+elem.name,\r\n                                headers: { Authorization: this.AuthStr }})\r\n                            .then(() => {\r\n                                elem.isEdit = false;\r\n                                this.groupEditId = null;\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            document.onkeypress = null;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.group-wrapper {\r\n    position: relative;\r\n    margin: 20px 0;\r\n    border: 1px solid #DCDCE8;\r\n    border-radius: 5px;\r\n    width: calc(100vw - 200px);\r\n    // max-height: calc(100vw - 300px);\r\n\r\n    &:hover .table-view_add-row{\r\n        opacity: 1;\r\n    }\r\n}\r\n.group-header {\r\n    display: grid;\r\n    grid-template-columns: 1fr 50px;\r\n    position: relative;\r\n    align-items: center;\r\n    height: 50px;\r\n}\r\n.group-name {\r\n    font-size: 28px;\r\n    color: #2E2E2E;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    user-select: none;\r\n}\r\n.group-name__edit {\r\n    border: none;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    background-color: #F6F7FB;\r\n    cursor: text;\r\n}\r\n.group-checker{\r\n    display: none;\r\n}\r\n.group-checker:not(:checked) + .group-content {\r\n    margin-top: 0px;\r\n    border-top: 1px solid transparent;\r\n    padding-top: 0px;\r\n    overflow: hidden;\r\n    max-height: 0px;\r\n    opacity: 0;\r\n\r\n    transition: all 0.3s;\r\n}\r\n.group-checker:checked + .group-content {\r\n    margin-top: 10px;\r\n    border-top: 1px solid #DCDCE8;\r\n    padding: 10px;\r\n    overflow: hidden;\r\n    max-height: 99999999999px;\r\n\r\n    transition: all 0.3s;\r\n}\r\n.group-content {\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./up.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./up.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./up.vue?vue&type=template&id=5d304ade&\"\nimport script from \"./up.vue?vue&type=script&lang=js&\"\nexport * from \"./up.vue?vue&type=script&lang=js&\"\nimport style0 from \"./up.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table-view',{ref:\"table\",staticStyle:{\"width\":\"auto\",\"height\":\"auto\"},attrs:{\"headers\":_vm.headers,\"columns\":\"grid-template-columns: repeat(3, minmax(300px, 1fr)) 500px repeat(3, minmax(300px, 1fr)) 40px;\",\"data\":_vm.data,\"inRowAdd\":true},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update,\"addInnerDate\":_vm.addInnerDate,\"loadData\":_vm.loadNewData}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <table-view  style=\"width: auto; height: auto;\" \r\n                ref=\"table\"\r\n                :headers=\"headers\"\r\n                @sort=\"sort\"\r\n                @addRow=\"add\"\r\n                @update=\"update\"\r\n                columns=\"grid-template-columns: repeat(3, minmax(300px, 1fr)) 500px repeat(3, minmax(300px, 1fr)) 40px;\"\r\n\r\n                @addInnerDate=\"addInnerDate\"\r\n                @loadData=\"loadNewData\"\r\n\r\n                :data=\"data\"\r\n                :inRowAdd=\"true\" />    \r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../../config';\r\nimport axios from 'axios';\r\n\r\nimport TableView from '../../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers: [\r\n                '№ УШ',\r\n                'Наименование УШ',\r\n                'Действующая документация',\r\n                'Дата предъявления',\r\n                'Плановая дата закрытия УШ',\r\n                'Дата закрытия',\r\n                'Фотографии и необходимые файлы'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            role: 0,\r\n            maxData: 5,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/mooringCertificates/',\r\n                'contract_object_id='+this.$router.history.current.params.idObject,\r\n                {headers: { Authorization: this.AuthStr } }).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'editPresentation',\r\n                                text: 'Редактировать предъявления',\r\n                                event: this.editPresentation\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: { \r\n                            namber : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            documentation : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            presentation : {\r\n                                value: [],\r\n                                type: 'presentation'\r\n                            },\r\n                            plannedDate : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            realDate : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            files : {\r\n                                value: '',\r\n                                type: 'files',\r\n                                model: 'mooringCertificates'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramList = [\r\n                'number',\r\n                'name',\r\n                'current_documentation',\r\n                'closing_date_planned',\r\n                'closing_date_real'\r\n            ];\r\n            \r\n            let params = {};\r\n\r\n            for(let i = 0; i < data.length; i++){\r\n                if((data[i] != '' & data[i] != null & data != undefined) | (i == 3 | i == 4)){\r\n                    params[paramList[i]]=data[i];\r\n                }\r\n            }\r\n            axios.put(config.host+'/api/mooringCertificates/'+id,\r\n                      params,\r\n                      {headers: { Authorization: this.AuthStr } })\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                let plannedDate = resp.data.data.closing_date_planned != null ? (new Date(resp.data.data.closing_date_planned)).toLocaleDateString() : '';\r\n                                let realDate = resp.data.data.closing_date_real != null ? (new Date(resp.data.data.closing_date_real)).toLocaleDateString() : '';\r\n\r\n                                elem.data.namber.value = resp.data.data.number;\r\n                                elem.data.name.value = resp.data.data.name;\r\n                                elem.data.documentation.value = resp.data.data.current_documentation;\r\n                                elem.data.presentation.value = resp.data.data.presentations;\r\n                                elem.data.plannedDate.value = plannedDate;\r\n                                elem.data.realDate.value = realDate;\r\n                                elem.data.files.value = resp.data.data.files;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                      }).catch((error) => {\r\n\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить эту запись?')){\r\n                axios.delete(config.host+'/api/mooringCertificates/'+id,\r\n                            {headers: { Authorization: this.AuthStr } })\r\n                        .then(()=>{\r\n                            for(let i = 0; i < this.data.length; i++){\r\n                                if(this.data[i].id == id){\r\n                                    this.data.splice(i,1);\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }).catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n\r\n\r\n        addInnerDate(id, value){\r\n            if(value != \"\"){\r\n                this.data.forEach(elem => {\r\n                    if(elem.id == id){\r\n                        axios({\r\n                            method: 'post',\r\n                            url: config.host+'/api/presentations',\r\n                            data: {\r\n                                model_id: id,\r\n                                model_type: 'mooring_certificates',\r\n                                date: value\r\n                            },\r\n                            headers: { Authorization: this.AuthStr }\r\n                        }).then(resp => {\r\n                            console.log(resp);\r\n                            \r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            else{\r\n                alert('Ошибка!\\r\\rПожалуйста укажите дату.');\r\n            }\r\n        },\r\n\r\n        editPresentation(id){\r\n            this.$emit('presentation', {id: id, model: 'mooringCertificates'}, (data)=>{\r\n                this.data.forEach(elem=>{\r\n                    if(elem.id == id){\r\n                        elem.data.presentation.value = data;\r\n                    }\r\n                });\r\n\r\n                let tmp = this.data;\r\n                this.data = [];\r\n                this.data = tmp;\r\n            });\r\n        },\r\n\r\n        loadNewData(i){\r\n            this.loadData( config.host+'/api/objects/'+this.$router.history.current.params.idObject+'/mooringCertificates', i, this.data);\r\n        },\r\n\r\n        loadData(link, i, formatedData){\r\n            if(formatedData == undefined){\r\n                formatedData = [];\r\n            }\r\n            axios.get(link+'?page='+i,\r\n                    {headers: { Authorization: this.AuthStr } })\r\n            .then((resp) => {\r\n                resp.data.data.mooring_certificates.forEach(mooringCertificate => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = mooringCertificate.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'editPresentation',\r\n                            text: 'Редактировать предъявления',\r\n                            event: this.editPresentation\r\n                        }\r\n                    ];\r\n\r\n                    if(this.role == 1){\r\n                        tmp.options.push(\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }\r\n                        );\r\n                    }\r\n\r\n                    let plannedDate = mooringCertificate.closing_date_planned != null ? (new Date(mooringCertificate.closing_date_planned)).toLocaleDateString() : '';\r\n                    let realDate = mooringCertificate.closing_date_real != null ? (new Date(mooringCertificate.closing_date_real)).toLocaleDateString() : '';\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.namber = {};\r\n                    tmp.data.namber.value = mooringCertificate.number;\r\n                    tmp.data.namber.type = 'text';\r\n                    \r\n                    tmp.data.name = {};\r\n                    tmp.data.name.value = mooringCertificate.name;\r\n                    tmp.data.name.type = 'text';\r\n                    \r\n                    tmp.data.documentation = {};\r\n                    tmp.data.documentation.value = mooringCertificate.current_documentation;\r\n                    tmp.data.documentation.type = 'text';\r\n                    \r\n                    tmp.data.presentation = {};\r\n                    tmp.data.presentation.type = 'presentation';\r\n                    tmp.data.presentation.value = mooringCertificate.presentations;\r\n                    \r\n                    tmp.data.plannedDate = {};\r\n                    tmp.data.plannedDate.value = plannedDate;\r\n                    tmp.data.plannedDate.type = 'date';\r\n                    \r\n                    tmp.data.realDate = {};\r\n                    tmp.data.realDate.value = realDate;\r\n                    tmp.data.realDate.type = 'date';\r\n                    \r\n                    tmp.data.files = {};\r\n                    tmp.data.files.value = mooringCertificate.files;\r\n                    tmp.data.files.type = 'files';\r\n                    tmp.data.files.model = 'mooringCertificates';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n\r\n                if(resp.data.data.mooring_certificates.length>0 & i != this.maxData){\r\n                    i = i + 1;  \r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    this.maxData += 5;\r\n                    this.$refs.table.manyQueries = i + 1;\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.role = sessionStorage.getItem('role');\r\n        this.loadData(config.host+'/api/objects/'+this.$router.history.current.params.idObject+'/mooringCertificates', 1)\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ush.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ush.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ush.vue?vue&type=template&id=1ec307da&\"\nimport script from \"./ush.vue?vue&type=script&lang=js&\"\nexport * from \"./ush.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table-view',{ref:\"table\",staticStyle:{\"width\":\"auto\",\"height\":\"auto\"},attrs:{\"headers\":_vm.headers,\"data\":_vm.data,\"inRowAdd\":true,\"columns\":\"grid-template-columns: repeat(3, minmax(300px, 1fr)) 500px repeat(3, minmax(300px, 1fr)) 40px;\"},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update,\"loadData\":_vm.loadNewData}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <table-view style=\"width: auto; height: auto;\" \r\n                ref=\"table\"\r\n                :headers=\"headers\" \r\n                @sort=\"sort\"\r\n                @addRow=\"add\"\r\n                @update=\"update\"\r\n                @loadData=\"loadNewData\"\r\n                :data=\"data\"\r\n                :inRowAdd=\"true\"\r\n                columns=\"grid-template-columns: repeat(3, minmax(300px, 1fr)) 500px repeat(3, minmax(300px, 1fr)) 40px;\" />    \r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../../config';\r\nimport axios from 'axios';\r\n\r\nimport TableView from '../../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers: [\r\n                '№ УХ',\r\n                'Наименование УХ',\r\n                'Действующая документация',\r\n                'Дата предъявления',\r\n                'Плановая дата закрытия УХ',\r\n                'Дата закрытия',\r\n                'Фотографии и необходимые файлы'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            role: 0,\r\n            maxData: 5,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/travelingCertificates',\r\n                'contract_object_id='+this.$router.history.current.params.idObject,\r\n                {headers: { Authorization: this.AuthStr } }).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'editPresentation',\r\n                                text: 'Редактировать предъявления',\r\n                                event: this.editPresentation\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: { \r\n                            namber : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            documentation : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            presentation : {\r\n                                value: '',\r\n                                type: 'presentation'\r\n                            },\r\n                            plannedDate : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            realDate : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            files : {\r\n                                value: '',\r\n                                type: 'files',\r\n                                model: 'travelingCertificates'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramList = [\r\n                'number',\r\n                'name',\r\n                'documentation',\r\n                'closing_date_planned',\r\n                'closing_date_real'\r\n            ];\r\n            let params = {};\r\n\r\n            for(let i = 0; i < data.length; i++){\r\n                if((data[i] != '' & data[i] != null & data != undefined) | (i == 3 | i == 4)){\r\n                    params[paramList[i]] = data[i];\r\n                }\r\n            }\r\n\r\n            axios.put(config.host+'/api/travelingCertificates/'+id,\r\n                      params,\r\n                      {headers: { Authorization: this.AuthStr } })\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                let plannedDate = resp.data.data.closing_date_planned != null ? (new Date(resp.data.data.closing_date_planned)).toLocaleDateString() : '';\r\n                                let realDate = resp.data.data.closing_date_real != null ? (new Date(resp.data.data.closing_date_real)).toLocaleDateString() : '';\r\n\r\n                                elem.data.namber.value = resp.data.data.number;\r\n                                elem.data.name.value = resp.data.data.name;\r\n                                elem.data.documentation.value = resp.data.data.current_documentation;\r\n                                elem.data.presentation.value = resp.data.data.presentations;\r\n                                elem.data.plannedDate.value = plannedDate;\r\n                                elem.data.realDate.value = realDate;\r\n                                elem.data.files.value = resp.data.data.files;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        editPresentation(id){\r\n            this.$emit('presentation', {id: id, model: 'travelingCertificates'}, (data)=>{\r\n                this.data.forEach(elem=>{\r\n                    if(elem.id == id){\r\n                        elem.data.presentation.value = data;\r\n                    }\r\n                });\r\n            });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить эту запись?')){\r\n                axios.delete(config.host+'/api/travelingCertificates/'+id,\r\n                            {headers: { Authorization: this.AuthStr } })\r\n                        .then(()=>{\r\n                            for(let i = 0; i < this.data.length; i++){\r\n                                if(this.data[i].id == id){\r\n                                    this.data.splice(i,1);\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }).catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        \r\n\r\n        loadNewData(i){\r\n            this.loadData( config.host+'/api/objects/'+this.$router.history.current.params.idObject+'/travelingCertificates', i, this.data);\r\n        },\r\n\r\n        loadData(link, i, formatedData){\r\n            if(formatedData == undefined){\r\n                formatedData = [];\r\n            }\r\n            axios.get(link+'?page='+i,\r\n                    {headers: { Authorization: this.AuthStr } })\r\n            .then((resp) => {\r\n                resp.data.data.traveling_certificates.forEach(mooringCertificate => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = mooringCertificate.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'editPresentation',\r\n                            text: 'Редактировать предъявления',\r\n                            event: this.editPresentation\r\n                        }\r\n                    ];\r\n\r\n                    if(this.role == 1){\r\n                        tmp.options.push(\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }\r\n                        );\r\n                    }\r\n\r\n                    let plannedDate = mooringCertificate.closing_date_planned != null ? (new Date(mooringCertificate.closing_date_planned)).toLocaleDateString() : '';\r\n                    let realDate = mooringCertificate.closing_date_real != null ? (new Date(mooringCertificate.closing_date_real)).toLocaleDateString() : '';\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.namber = {};\r\n                    tmp.data.namber.value = mooringCertificate.number;\r\n                    tmp.data.namber.type = 'text';\r\n                    \r\n                    tmp.data.name = {};\r\n                    tmp.data.name.value = mooringCertificate.name;\r\n                    tmp.data.name.type = 'text';\r\n                    \r\n                    tmp.data.documentation = {};\r\n                    tmp.data.documentation.value = mooringCertificate.current_documentation;\r\n                    tmp.data.documentation.type = 'text';\r\n                    \r\n                    tmp.data.presentation = {};\r\n                    tmp.data.presentation.value = mooringCertificate.presentations;\r\n                    tmp.data.presentation.type = 'presentation';\r\n                    \r\n                    tmp.data.plannedDate = {};\r\n                    tmp.data.plannedDate.value = plannedDate;\r\n                    tmp.data.plannedDate.type = 'date';\r\n                    \r\n                    tmp.data.realDate = {};\r\n                    tmp.data.realDate.value = realDate;\r\n                    tmp.data.realDate.type = 'date';\r\n                    \r\n                    tmp.data.files = {};\r\n                    tmp.data.files.value = mooringCertificate.files;\r\n                    tmp.data.files.type = 'files';\r\n                    tmp.data.files.model = 'travelingCertificates';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n\r\n                if(resp.data.data.traveling_certificates.length>0 & i != this.maxData){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    this.maxData += 5;\r\n                    if(i != 1){\r\n                        this.$refs.table.manyQueries = i + 1;\r\n                    }\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    \r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.role = sessionStorage.getItem('role');\r\n        this.loadData(config.host+'/api/objects/'+this.$router.history.current.params.idObject+'/travelingCertificates', 1)\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uh.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uh.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uh.vue?vue&type=template&id=9503fc0e&\"\nimport script from \"./uh.vue?vue&type=script&lang=js&\"\nexport * from \"./uh.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"display\":\"grid\",\"grid-template-rows\":\"auto 1fr\"}},[_c('div',[_c('button',{staticClass:\"add-row\",on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"Добавить новый этап\")])]),_c('div',{staticClass:\"table-wrapper\"},[_c('table-view',{ref:\"table\",attrs:{\"headers\":_vm.headers,\"data\":_vm.data,\"groupBy\":\"objectName\",\"sortBy\":\"dateEndPlan\"},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"height: 100%; display: grid; grid-template-rows: auto 1fr;\">\r\n        <div><button class=\"add-row\" v-on:click=\"add()\">Добавить новый этап</button></div>\r\n        <div class=\"table-wrapper\">\r\n            <table-view\r\n                ref=\"table\"\r\n                :headers=\"headers\"\r\n                @sort=\"sort\"\r\n                @addRow=\"add\"\r\n                @update=\"update\"\r\n                :data=\"data\"\r\n                groupBy=\"objectName\"\r\n                sortBy=\"dateEndPlan\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport axios from 'axios';\r\nimport config from '../../config';\r\n\r\nimport TableView from '../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers : [\r\n                'Наименование объекта по ГК',\r\n                'Наименование этапа',\r\n                'Стоимость этапа',\r\n                'Дата начала',\r\n                'Дата окончания (план)',\r\n                'Дата окончания (факт)',\r\n                'Обоснование',\r\n                'Примечание'\r\n            ],\r\n            data: [],\r\n            newKeyEventsId: null,\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/paymentStages',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr }}).\r\n                then((resp)=>{\r\n                    axios.post(config.host+'/api/keyEvents',\r\n                    'contract_id='+this.$router.history.current.params.id,\r\n                    {headers: { Authorization: this.AuthStr }}).\r\n                    then((resp)=>{\r\n                        this.newKeyEventsId = resp.data.data.id;\r\n                    });\r\n\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: {\r\n                            objectName : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            stageName : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            amount : {\r\n                                value: '',\r\n                                type: 'number'\r\n                            },\r\n                            dateStart : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            dateEndPlan : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            dateEndReal : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            rationale : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            note : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramsList=['object_name',\r\n                      'name',\r\n                      'amount',\r\n                      'start_date',\r\n                      'expiration_date_planned',\r\n                      'expiration_date_real',\r\n                      'rationale',\r\n                      'note'];\r\n            let paramsString = {};\r\n            let keyEventsParams = {};\r\n            data.forEach((elem, i) => {\r\n                if((elem != '' & elem != null & elem != undefined) | (i == 3 | i == 4 | i == 5)){\r\n                    paramsString[paramsList[i]] = elem;\r\n                }\r\n\r\n                if(this.newKeyEventsId != null){\r\n                    if(i != 2){\r\n                        if((elem != '' & elem != null & elem != undefined) | (i == 3 | i == 4 | i == 5)){\r\n                            keyEventsParams[paramsList[i]] = elem;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            axios.put(config.host+'/api/paymentStages/'+id,\r\n                      paramsString,\r\n                      {headers: { Authorization: this.AuthStr }})\r\n                      .then((resp)=>{\r\n\r\n                          if(this.newKeyEventsId){\r\n                            axios.put(config.host+'/api/keyEvents/'+this.newKeyEventsId,\r\n                                keyEventsParams,\r\n                                {headers: { Authorization: this.AuthStr }})\r\n                                .then(()=>{\r\n\r\n                                });\r\n                          }\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                elem.data.objectName.value = resp.data.data.object_name;\r\n                                elem.data.stageName.value = resp.data.data.name;\r\n                                elem.data.amount.value = resp.data.data.amount ? parseFloat(resp.data.data.amount).toLocaleString() : '';\r\n\r\n                                let startDate = resp.data.data.start_date != null ? (new Date(resp.data.data.start_date)).toLocaleDateString() : '';\r\n                                let plannedDate = resp.data.data.expiration_date_planned != null ? (new Date(resp.data.data.expiration_date_planned)).toLocaleDateString() : '';\r\n                                let realDate = resp.data.data.expiration_date_real != null ? (new Date(resp.data.data.expiration_date_real)).toLocaleDateString() : '';\r\n\r\n                                elem.data.dateStart.value = startDate;\r\n                                elem.data.dateEndPlan.value = plannedDate;\r\n                                elem.data.dateEndReal.value = realDate;\r\n\r\n                                elem.data.note.value = resp.data.data.note;\r\n                                elem.data.rationale.value = resp.data.data.rationale;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить данную запись?')){\r\n                axios({\r\n                    method: 'delete',\r\n                    url: config.host+'/api/paymentStages/'+id,\r\n                    headers: { Authorization: this.AuthStr }})\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i, formatedData){\r\n            axios({\r\n                method: 'get',\r\n                url: link+'?page='+i,\r\n                headers: { Authorization: this.AuthStr }})\r\n            .then((resp) => {\r\n                if(formatedData == undefined){\r\n                    formatedData =[];\r\n                }\r\n                resp.data.data.payment_stages.forEach(paymentStages => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = paymentStages.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ];\r\n\r\n                    let startDate = paymentStages.start_date != null ? (new Date(paymentStages.start_date)).toLocaleDateString() : '';\r\n                    let plannedDate = paymentStages.expiration_date_planned != null ? (new Date(paymentStages.expiration_date_planned)).toLocaleDateString() : '';\r\n                    let realDate = paymentStages.expiration_date_real != null ? (new Date(paymentStages.expiration_date_real)).toLocaleDateString() : '';\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.objectName = {};\r\n                    tmp.data.objectName.value = paymentStages.object_name;\r\n                    tmp.data.objectName.type = 'text';\r\n                    \r\n                    tmp.data.stageName = {};\r\n                    tmp.data.stageName.value = paymentStages.name;\r\n                    tmp.data.stageName.type = 'text';\r\n                    \r\n                    tmp.data.amount = {};\r\n                    tmp.data.amount.value = paymentStages.amount ? parseFloat(paymentStages.amount).toLocaleString() : '';\r\n                    tmp.data.amount.type = 'number';\r\n                    \r\n                    tmp.data.dateStart = {};\r\n                    tmp.data.dateStart.value = startDate;\r\n                    tmp.data.dateStart.type = 'date';\r\n                    \r\n                    tmp.data.dateEndPlan = {};\r\n                    tmp.data.dateEndPlan.value = plannedDate;\r\n                    tmp.data.dateEndPlan.type = 'date';\r\n                    \r\n                    tmp.data.dateEndReal = {};\r\n                    tmp.data.dateEndReal.value = realDate;\r\n                    tmp.data.dateEndReal.type = 'date';\r\n                    \r\n                    tmp.data.rationale = {};\r\n                    tmp.data.rationale.value = paymentStages.rationale;\r\n                    tmp.data.rationale.type = 'text';\r\n                    \r\n                    tmp.data.note = {};\r\n                    tmp.data.note.value = paymentStages.note;\r\n                    tmp.data.note.type = 'text';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n\r\n                if(resp.data.data.payment_stages.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/contracts/'+this.$router.history.current.params.id+'/paymentStages',1);\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payment-stages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payment-stages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./payment-stages.vue?vue&type=template&id=27b9e608&\"\nimport script from \"./payment-stages.vue?vue&type=script&lang=js&\"\nexport * from \"./payment-stages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"display\":\"grid\",\"grid-template-rows\":\"auto 1fr\"}},[_c('div',[_c('button',{staticClass:\"add-row\",on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"Добавить новое событие\")])]),_c('div',{staticClass:\"table-wrapper\"},[_c('table-view',{ref:\"table\",attrs:{\"headers\":_vm.headers,\"data\":_vm.data,\"groupBy\":\"objectName\",\"sortBy\":\"dateEndPlan\"},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"height: 100%; display: grid; grid-template-rows: auto 1fr;\">\r\n        <div><button class=\"add-row\" v-on:click=\"add()\">Добавить новое событие</button></div>\r\n        <div class=\"table-wrapper\">\r\n            <table-view ref=\"table\"\r\n                        :headers=\"headers\"\r\n                        @sort=\"sort\"\r\n                        @addRow=\"add\"\r\n                        @update=\"update\"\r\n                        :data=\"data\"\r\n                        groupBy=\"objectName\"\r\n                        sortBy=\"dateEndPlan\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../config';\r\nimport axios from 'axios';\r\n\r\nimport TableView from '../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers : [\r\n                'Наименование объекта',\r\n                'Наименование события',\r\n                'Ответственный',\r\n                'Дата начала',\r\n                'Дата окончания (план)',\r\n                'Дата окончания (факт)',\r\n                'Обоснование',\r\n                'Примечание'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/keyEvents',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr }}).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: {\r\n                            objectName : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            responsible : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            dateStart : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            dateEndPlan : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            dateEndReal : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            rationale : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            note : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramsList = ['object_name',\r\n                      'name',\r\n                      'responsible',\r\n                      'start_date',\r\n                      'expiration_date_planned',\r\n                      'expiration_date_real',\r\n                      'rationale',\r\n                      'note'];\r\n            let paramsString = {};\r\n            data.forEach((elem, i) => {\r\n                if((elem != '' & elem != null & elem != undefined) | (i == 3 | i == 4 | i == 5)){\r\n                    paramsString[paramsList[i]] = elem;\r\n                }\r\n            });\r\n            axios.put(config.host+'/api/keyEvents/'+id,\r\n                      paramsString,\r\n                      {headers: { Authorization: this.AuthStr }})\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                elem.data.objectName.value = resp.data.data.object_name;\r\n                                elem.data.name.value = resp.data.data.name;\r\n                                elem.data.responsible.value = resp.data.data.responsible;\r\n\r\n                                let startDate = resp.data.data.start_date != null ? (new Date(resp.data.data.start_date)).toLocaleDateString() : '';\r\n                                let plannedDate = resp.data.data.expiration_date_planned != null ? (new Date(resp.data.data.expiration_date_planned)).toLocaleDateString() : '';\r\n                                let realDate = resp.data.data.expiration_date_real != null ? (new Date(resp.data.data.expiration_date_real)).toLocaleDateString() : '';\r\n\r\n                                elem.data.dateStart.value = startDate;\r\n                                elem.data.dateEndPlan.value = plannedDate;\r\n                                elem.data.dateEndReal.value = realDate;\r\n\r\n                                elem.data.note.value = resp.data.data.note;\r\n                                elem.data.rationale.value = resp.data.data.rationale;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить это событие?')){\r\n                axios({\r\n                    method: 'delete',\r\n                    url: config.host+'/api/keyEvents/'+id,\r\n                    headers: { Authorization: this.AuthStr }})\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i, formatedData){\r\n            axios({\r\n                method: 'get',\r\n                url: link+'?page='+i,\r\n                headers: { Authorization: this.AuthStr }})\r\n            .then((resp) => {\r\n                if(formatedData == undefined){\r\n                    formatedData = [];\r\n                }\r\n                resp.data.data.key_events.forEach(keyEvent => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = keyEvent.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ];\r\n\r\n                    let startDate = keyEvent.start_date != null ? (new Date(keyEvent.start_date)).toLocaleDateString() : '';\r\n                    let plannedDate = keyEvent.expiration_date_planned != null ? (new Date(keyEvent.expiration_date_planned)).toLocaleDateString() : '';\r\n                    let realDate = keyEvent.expiration_date_real != null ? (new Date(keyEvent.expiration_date_real)).toLocaleDateString() : '';\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.objectName = {};\r\n                    tmp.data.objectName.value = keyEvent.object_name;\r\n                    tmp.data.objectName.type = 'text';\r\n                    \r\n                    tmp.data.name = {};\r\n                    tmp.data.name.value = keyEvent.name;\r\n                    tmp.data.name.type = 'text';\r\n                    \r\n                    tmp.data.responsible = {};\r\n                    tmp.data.responsible.value = keyEvent.responsible;\r\n                    tmp.data.responsible.type = 'text';\r\n                    \r\n                    tmp.data.dateStart = {};\r\n                    tmp.data.dateStart.value = startDate;\r\n                    tmp.data.dateStart.type = 'date';\r\n                    \r\n                    tmp.data.dateEndPlan = {};\r\n                    tmp.data.dateEndPlan.value = plannedDate;\r\n                    tmp.data.dateEndPlan.type = 'date';\r\n                    \r\n                    tmp.data.dateEndReal = {};\r\n                    tmp.data.dateEndReal.value = realDate;\r\n                    tmp.data.dateEndReal.type = 'date';\r\n                    \r\n                    tmp.data.rationale = {};\r\n                    tmp.data.rationale.value = keyEvent.rationale;\r\n                    tmp.data.rationale.type = 'text';\r\n                    \r\n                    tmp.data.note = {};\r\n                    tmp.data.note.value = keyEvent.note;\r\n                    tmp.data.note.type = 'text';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n\r\n                if(resp.data.data.key_events.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/contracts/'+this.$router.history.current.params.id+'/keyEvents', 1);\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./key-events.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./key-events.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./key-events.vue?vue&type=template&id=6129a6ec&\"\nimport script from \"./key-events.vue?vue&type=script&lang=js&\"\nexport * from \"./key-events.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-button-wrap\"},[_c('div',[_c('button',{staticClass:\"add-row double-table-button\",on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"Добавить новую претензионную работу\")])]),_c('table-view',{ref:\"table\",staticStyle:{\"width\":\"auto\",\"height\":\"auto\"},attrs:{\"headers\":_vm.headers,\"data\":_vm.data,\"groupBy\":\"object\",\"sortBy\":\"date\"},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-button-wrap\">\r\n        <div><button class=\"add-row double-table-button\" v-on:click=\"add()\">Добавить новую претензионную работу</button></div>\r\n        <table-view style=\"width: auto; height: auto;\" \r\n                    ref=\"table\"\r\n                    :headers=\"headers\"\r\n                    @sort=\"sort\"\r\n                    @addRow=\"add\"\r\n                    @update=\"update\"\r\n                    :data=\"data\"\r\n                    groupBy=\"object\"\r\n                    sortBy=\"date\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../../config';\r\nimport axios from 'axios';\r\n\r\nimport TableView from '../../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers : [\r\n                'Объект',\r\n                'Дата',\r\n                'Номер требования',\r\n                'Причина выставления требования',\r\n                'Сумма требования, руб.',\r\n                'Статус исполнения требования'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/claimWorks/',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr }}).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: {\r\n                            object : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            date : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            number : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            reason : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            amount : {\r\n                                value: '',\r\n                                type: 'number'\r\n                            },\r\n                            status : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramsList = ['object_name',\r\n                      'date',\r\n                      'number',\r\n                      'cause',\r\n                      'amount',\r\n                      'status'];\r\n            let paramsString = {};\r\n            data.forEach((elem, i) => {\r\n                if((elem != '' & elem != null & elem != undefined) | (i == 1)){\r\n                    paramsString[paramsList[i]] = elem;\r\n                }\r\n            });\r\n            axios.put(config.host+'/api/claimWorks/'+id,\r\n                      paramsString,\r\n                      {headers: { Authorization: this.AuthStr }})\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                let date = resp.data.data.date != null ? (new Date(resp.data.data.date)).toLocaleDateString() : '';\r\n\r\n                                elem.data.object.value = resp.data.data.object_name;\r\n                                elem.data.date.value = date;\r\n                                elem.data.number.value = resp.data.data.number;\r\n                                elem.data.reason.value = resp.data.data.cause;\r\n                                elem.data.amount.value = resp.data.data.amount ? parseFloat(resp.data.data.amount).toLocaleString() : '';\r\n                                elem.data.status.value = resp.data.data.status;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить эту запись?')){\r\n                axios({\r\n                    method: 'delete',\r\n                    url: config.host+'/api/claimWorks/'+id,\r\n                    headers: { Authorization: this.AuthStr }})\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i, formatedData){\r\n            axios({\r\n                method: 'get',\r\n                url: link+'?page='+i,\r\n                headers: { Authorization: this.AuthStr }})\r\n            .then((resp) => {\r\n                if(formatedData == undefined){\r\n                    formatedData = [];\r\n                }\r\n\r\n                resp.data.data.claim_works.forEach(claimWork => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = claimWork.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ];\r\n\r\n                    let date = claimWork.date != null ? (new Date(claimWork.date)).toLocaleDateString() : '';\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.object = {};\r\n                    tmp.data.object.value = claimWork.object_name;\r\n                    tmp.data.object.type = 'text';\r\n                    \r\n                    tmp.data.date = {};\r\n                    tmp.data.date.value = date;\r\n                    tmp.data.date.type = 'date';\r\n                    \r\n                    tmp.data.number = {};\r\n                    tmp.data.number.value = claimWork.number;\r\n                    tmp.data.number.type = 'text';\r\n                    \r\n                    tmp.data.reason = {};\r\n                    tmp.data.reason.value = claimWork.cause;\r\n                    tmp.data.reason.type = 'text';\r\n                    \r\n                    tmp.data.amount = {};\r\n                    tmp.data.amount.value = claimWork.amount ? parseFloat(claimWork.amount).toLocaleString() : '';\r\n                    tmp.data.amount.type = 'number';\r\n                    \r\n                    tmp.data.status = {};\r\n                    tmp.data.status.value = claimWork.status;\r\n                    tmp.data.status.type = 'text';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n                \r\n                if(resp.data.data.claim_works.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/contracts/'+this.$router.history.current.params.id+'/claimWorks', 1);\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./claim-work.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./claim-work.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./claim-work.vue?vue&type=template&id=7f525af8&\"\nimport script from \"./claim-work.vue?vue&type=script&lang=js&\"\nexport * from \"./claim-work.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-button-wrap\"},[_c('div',[_c('button',{staticClass:\"add-row double-table-button\",on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"Добавить новую судебную работу\")])]),_c('table-view',{ref:\"table\",staticStyle:{\"width\":\"auto\",\"height\":\"auto\"},attrs:{\"headers\":_vm.headers,\"data\":_vm.data},on:{\"sort\":_vm.sort,\"addRow\":_vm.add,\"update\":_vm.update}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-button-wrap\">\r\n        <div><button class=\"add-row double-table-button\" v-on:click=\"add()\">Добавить новую судебную работу</button></div>\r\n        <table-view style=\"width: auto; height: auto;\"\r\n                    ref=\"table\"\r\n                    :headers=\"headers\"\r\n                    @sort=\"sort\"\r\n                    @addRow=\"add\"\r\n                    @update=\"update\"\r\n                    :data=\"data\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../../config';\r\nimport axios from 'axios';\r\n\r\nimport TableView from '../../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers : [\r\n                'Дата',\r\n                'Номер',\r\n                'Наименование искового заявления',\r\n                'Номер судебного дела',\r\n                'Истец',\r\n                'Ответчик',\r\n                'Третьи лица',\r\n                'Предмет спора',\r\n                'Дата судебного заседания',\r\n                'Стадия рассмотрения искового заявления',\r\n                'Результат рассмотрения искового заявления'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        sort(sortArray){\r\n            this.data = [];\r\n            setTimeout(() => {\r\n            sortArray.forEach(elem => {\r\n                this.data.push(elem);\r\n            });\r\n            }, 5);\r\n        },\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/judicialWorks/',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr }}).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmpData = this.data;\r\n                    tmpData.unshift({\r\n                        id: resp.data.data.id,\r\n                        options: [\r\n                            {\r\n                                id: 'edit',\r\n                                text: 'Редактировать',\r\n                                event: this.edit\r\n                            },\r\n                            {\r\n                                id: 'delet',\r\n                                text: 'Удалить',\r\n                                event: this.delet\r\n                            }],\r\n                        data: {\r\n                            date : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            number : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            name : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            judicalNumber : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            plaintiff : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            defendant : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            thirdParties : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            object : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            judicalDate : {\r\n                                value: '',\r\n                                type: 'date'\r\n                            },\r\n                            stage : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            },\r\n                            result : {\r\n                                value: '',\r\n                                type: 'text'\r\n                            }\r\n                        }\r\n                    });\r\n                    this.affterDeleting = tmpData;\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramsList = ['statement_claim_date',\r\n                      'statement_claim_number',\r\n                      'statement_claim_name',\r\n                      'court_case_number',\r\n                      'plaintiff',\r\n                      'defendant',\r\n                      'third_parties',\r\n                      'matter_dispute',\r\n                      'court_hearing_date',\r\n                      'statement_claim_status',\r\n                      'statement_claim_result'];\r\n            let paramsString = {};\r\n            data.forEach((elem, i) => {\r\n                if((elem != '' & elem != null & elem != undefined) | (i == 0 | i == 8)){\r\n                    paramsString[paramsList[i]] = elem;\r\n                }\r\n            });\r\n            axios.put(config.host+'/api/judicialWorks/'+id,\r\n                      paramsString,\r\n                      {headers: { Authorization: this.AuthStr }})\r\n                      .then((resp)=>{\r\n                          this.data.find((elem) => {\r\n                              if(elem.id == id){\r\n                                let date = resp.data.data.statement_claim_date != null ? (new Date(resp.data.data.statement_claim_date)).toLocaleDateString() : '';\r\n                                let judicalDate = resp.data.data.court_hearing_date != null ? (new Date(resp.data.data.court_hearing_date)).toLocaleDateString() : '';\r\n\r\n                                elem.data.date.value = date;\r\n                                elem.data.number.value = resp.data.data.statement_claim_number;\r\n                                elem.data.name.value = resp.data.data.statement_claim_name;\r\n                                elem.data.judicalNumber.value = resp.data.data.court_case_number;\r\n                                elem.data.plaintiff.value = resp.data.data.plaintiff;\r\n                                elem.data.defendant.value = resp.data.data.defendant;\r\n                                elem.data.thirdParties.value = resp.data.data.third_parties;\r\n                                elem.data.object.value = resp.data.data.matter_dispute;\r\n                                elem.data.judicalDate.value = judicalDate;\r\n                                elem.data.stage.value = resp.data.data.statement_claim_status;\r\n                                elem.data.result.value = resp.data.data.statement_claim_result;\r\n                                \r\n                                this.lastAddedId = null;\r\n                              }\r\n                          });\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить эту запись?')){\r\n                axios({\r\n                    method: 'delete',\r\n                    url: config.host+'/api/judicialWorks/'+id,\r\n                    headers: { Authorization: this.AuthStr }})\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i, formatedData){\r\n            axios({\r\n                method: 'get',\r\n                url: link+'?page='+i,\r\n                headers: { Authorization: this.AuthStr }})\r\n            .then((resp) => {\r\n                if(formatedData == undefined){\r\n                    formatedData = [];\r\n                }\r\n                resp.data.data.judicial_works.forEach(judicalWork => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = judicalWork.id;\r\n\r\n                    tmp.options = [\r\n                        {\r\n                            id: 'edit',\r\n                            text: 'Редактировать',\r\n                            event: this.edit\r\n                        },\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    ];\r\n\r\n                    let date = judicalWork.statement_claim_date != null ? (new Date(judicalWork.statement_claim_date)).toLocaleDateString() : '';\r\n                    let judicalDate = judicalWork.court_hearing_date != null ? (new Date(judicalWork.court_hearing_date)).toLocaleDateString() : '';\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.date = {};\r\n                    tmp.data.date.value = date;\r\n                    tmp.data.date.type = 'date';\r\n                    \r\n                    tmp.data.number = {};\r\n                    tmp.data.number.value = judicalWork.statement_claim_number;\r\n                    tmp.data.number.type = 'text';\r\n                    \r\n                    tmp.data.name = {};\r\n                    tmp.data.name.value = judicalWork.statement_claim_name;\r\n                    tmp.data.name.type = 'text';\r\n                    \r\n                    tmp.data.judicalNumber = {};\r\n                    tmp.data.judicalNumber.value = judicalWork.court_case_number;\r\n                    tmp.data.judicalNumber.type = 'text';\r\n                    \r\n                    tmp.data.plaintiff = {};\r\n                    tmp.data.plaintiff.value = judicalWork.plaintiff;\r\n                    tmp.data.plaintiff.type = 'text';\r\n                    \r\n                    tmp.data.defendant = {};\r\n                    tmp.data.defendant.value = judicalWork.defendant;\r\n                    tmp.data.defendant.type = 'text';\r\n                    \r\n                    tmp.data.thirdParties = {};\r\n                    tmp.data.thirdParties.value = judicalWork.third_parties;\r\n                    tmp.data.thirdParties.type = 'text';\r\n                    \r\n                    tmp.data.object = {};\r\n                    tmp.data.object.value = judicalWork.matter_dispute;\r\n                    tmp.data.object.type = 'text';\r\n                    \r\n                    tmp.data.judicalDate = {};\r\n                    tmp.data.judicalDate.value = judicalDate;\r\n                    tmp.data.judicalDate.type = 'date';\r\n                    \r\n                    tmp.data.stage = {};\r\n                    tmp.data.stage.value = judicalWork.statement_claim_status;\r\n                    tmp.data.stage.type = 'text';\r\n                    \r\n                    tmp.data.result = {};\r\n                    tmp.data.result.value = judicalWork.statement_claim_result;\r\n                    tmp.data.result.type = 'text';\r\n\r\n                    formatedData.push(tmp);\r\n                });\r\n                if(resp.data.data.judicial_works.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i, formatedData);\r\n                }\r\n                else{\r\n                    formatedData.sort((a,b)=>{\r\n                        if(a.id > b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id < b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.data = formatedData;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/contracts/'+this.$router.history.current.params.id+'/claimWorks',1);\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./judical-work.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./judical-work.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./judical-work.vue?vue&type=template&id=061dec7a&\"\nimport script from \"./judical-work.vue?vue&type=script&lang=js&\"\nexport * from \"./judical-work.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-button-wrap\"},[_c('div',[_c('button',{staticClass:\"add-row\",style:(this.data.length > 0 ? 'visibility: hidden' : ''),on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"Добавить новое кассовое исполнение\")])]),_c('div',{staticClass:\"table-wrapper\"},[_c('table-view',{ref:\"table\",attrs:{\"noSort\":\"true\",\"alwaysUpdate\":true,\"headers\":_vm.headers,\"data\":_vm.data},on:{\"addRow\":_vm.add,\"update\":_vm.update}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-button-wrap\">\r\n        \r\n        <div><button class=\"add-row\" :style=\"this.data.length > 0 ? 'visibility: hidden' : ''\" v-on:click=\"add()\">Добавить новое кассовое исполнение</button></div>\r\n        <div class=\"table-wrapper\">\r\n            <table-view noSort=\"true\" :alwaysUpdate=\"true\" ref=\"table\" :headers=\"headers\" @addRow=\"add\" @update=\"update\" :data=\"data\" />    \r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport config from '../../config';\r\nimport axios from 'axios';\r\n\r\nimport TableView from '../../components/table-view';\r\nVue.component('table-view', TableView);\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            headers : [\r\n                'Наименование объекта по ГК',\r\n                'Наименование этапа/аванс',\r\n                'Стоимость этапа/аванс',\r\n                'Оплаченная сумма по КС',\r\n                'Остаток незакрытого аванса по контракту нарастающим итогом',\r\n                'Дата оплаты',\r\n                'Примечание'\r\n            ],\r\n            data: [],\r\n            affterDeleting: null,\r\n            lastAddedId: null,\r\n            AuthStr: (sessionStorage.getItem('token_type')+' ').concat(sessionStorage.getItem('access_token'))\r\n        }\r\n    },\r\n    methods: {\r\n        add : function(){\r\n            if(this.lastAddedId == null){\r\n                axios.post(config.host+'/api/cashExecutions',\r\n                'contract_id='+this.$router.history.current.params.id,\r\n                {headers: { Authorization: this.AuthStr }}).\r\n                then((resp)=>{\r\n                    this.lastAddedId = resp.data.data.id;\r\n                    let tmp;\r\n                    if(this.data.length > 0){\r\n                        tmp = {\r\n                            id: resp.data.data.id,\r\n                            isGrey: false,\r\n                            options: [\r\n                                {\r\n                                    id: 'add',\r\n                                    text: 'Редактировать',\r\n                                    event: this.add\r\n                                },\r\n                                {\r\n                                    id: 'delet',\r\n                                    text: 'Удалить',\r\n                                    event: this.delet\r\n                                }],\r\n                            data: {\r\n                                objectName : {\r\n                                    value: this.data[0].data.objectName.value,\r\n                                    type: 'text'\r\n                                },\r\n                                stageName : {\r\n                                    value: this.data[0].data.stageName.value,\r\n                                    type: 'text'\r\n                                },\r\n                                price : {\r\n                                    value: this.data[0].data.price.value,\r\n                                    type: 'number'\r\n                                },\r\n                                amount_paid : {\r\n                                    value: this.data[0].data.amount_paid.value,\r\n                                    type: 'number'\r\n                                },\r\n                                advance_balance : {\r\n                                    value: this.data[0].data.advance_balance.value,\r\n                                    type: 'number'\r\n                                },\r\n                                date : {\r\n                                    value: this.data[0].data.date.value,\r\n                                    type: 'date'\r\n                                },\r\n                                note : {\r\n                                    value: this.data[0].data.note.value,\r\n                                    type: 'text'\r\n                                }\r\n                            }\r\n                        };\r\n                    }\r\n                    else{\r\n                        tmp = {\r\n                            id: resp.data.data.id,\r\n                            isGrey: false,\r\n                            options: [\r\n                                {\r\n                                    id: 'add',\r\n                                    text: 'Редактировать',\r\n                                    event: this.add\r\n                                },\r\n                                {\r\n                                    id: 'delet',\r\n                                    text: 'Удалить',\r\n                                    event: this.delet\r\n                                }],\r\n                            data: {\r\n                                objectName : {\r\n                                    value: '',\r\n                                    type: 'text'\r\n                                },\r\n                                stageName : {\r\n                                    value: '',\r\n                                    type: 'text'\r\n                                },\r\n                                price : {\r\n                                    value: '',\r\n                                    type: 'number'\r\n                                },\r\n                                amount_paid : {\r\n                                    value: '',\r\n                                    type: 'number'\r\n                                },\r\n                                advance_balance : {\r\n                                    value: '',\r\n                                    type: 'number'\r\n                                },\r\n                                date : {\r\n                                    value: '',\r\n                                    type: 'date'\r\n                                },\r\n                                note : {\r\n                                    value: '',\r\n                                    type: 'text'\r\n                                }\r\n                            }\r\n                        };\r\n                    }\r\n                    this.data.splice(0, 0, tmp);\r\n                    this.data[1].options.splice(0,1);\r\n                    this.data[1].isGrey = true;\r\n                    \r\n                    this.data[0].options = [\r\n                                {\r\n                                    id: 'add',\r\n                                    text: 'Редактировать',\r\n                                    event: this.add\r\n                                },\r\n                                {\r\n                                    id: 'delet',\r\n                                    text: 'Удалить',\r\n                                    event: this.delet\r\n                    }];\r\n\r\n                    tmp = this.data;\r\n\r\n                    this.data = [];\r\n\r\n                    setTimeout(() => {\r\n                        this.data = tmp;\r\n                    }, 10);\r\n                });\r\n            }\r\n        },\r\n\r\n        update: function(){\r\n            console.log(this.affterDeleting);\r\n            \r\n            if(this.affterDeleting != null){\r\n                this.data = [];\r\n                setTimeout(()=>{\r\n                    this.affterDeleting[0].isGrey = false;\r\n                    if(this.affterDeleting[0].options[0].id != 'add'){\r\n                        this.affterDeleting[0].options.splice(0,0,{\r\n                            id: 'add',\r\n                            text: 'Редактирование',\r\n                            event: this.add\r\n                        })\r\n                    }\r\n                    this.data = this.affterDeleting;\r\n                    this.affterDeleting = null;\r\n                }, 100);\r\n            }\r\n\r\n            if(this.lastAddedId != null){\r\n                this.$refs.table.$refs[this.lastAddedId][0].isEdit = true;\r\n                this.$refs.table.$refs[this.lastAddedId][0].event = this.edit;\r\n            }\r\n        },\r\n\r\n        edit: function(data, id){\r\n            let paramsList = ['object_name',\r\n                      'stage_name',\r\n                      'price',\r\n                      'amount_paid',\r\n                      'advance_balance',\r\n                      'payment_date',\r\n                      'note'];\r\n            let paramsString = {};\r\n\r\n            data.forEach((elem, i) => {\r\n                if((elem != null & elem != '' & elem != undefined) | (i == 5)){\r\n                    paramsString[paramsList[i]] = elem;\r\n                }\r\n            });\r\n\r\n            axios.put(config.host+'/api/cashExecutions/'+id,\r\n                      paramsString,\r\n                      {headers: { Authorization: this.AuthStr }})\r\n                      .then((resp)=>{\r\n                        this.data[0].data.objectName.value = resp.data.data.object_name;\r\n                        this.data[0].data.stageName.value = resp.data.data.stage_name;\r\n                        this.data[0].data.price.value = resp.data.data.price ? parseFloat(resp.data.data.price).toLocaleString() : '';\r\n                        this.data[0].data.amount_paid.value = resp.data.data.amount_paid ? parseFloat(resp.data.data.amount_paid).toLocaleString() : '';\r\n                        this.data[0].data.advance_balance.value = resp.data.data.advance_balance ? parseFloat(resp.data.data.advance_balance).toLocaleString() : '';\r\n\r\n                        let date = resp.data.data.payment_date != null ? (new Date(resp.data.data.payment_date)).toLocaleDateString() : '';\r\n                            \r\n                        this.data[0].data.date.value = date;\r\n\r\n                        this.data[0].data.note.value = resp.data.data.note;\r\n                                \r\n                        this.lastAddedId = null;\r\n                          \r\n                      }).catch((error) => {\r\n                          alert('Ошибка!\\r\\rПроверьте введённые данные и повторите попытку.\\r\\rИнформация об ошибке:\\r'+error);\r\n                          this.lastAddedId = id;\r\n                          this.update();\r\n                      });\r\n        },\r\n\r\n        delet: function(id){\r\n            if(confirm('Вы действительно хотите удалить эту запись?')){\r\n                axios({\r\n                    method: 'delete',\r\n                    url:config.host+'/api/cashExecutions/'+id,\r\n                    headers: { Authorization: this.AuthStr }})\r\n                        .catch((error) => {\r\n                            if(error.response.data.error.messages[0] == 'true'){\r\n                                let newData = this.data.slice(0);\r\n                                for(let i = 0; i < newData.length; i++){\r\n                                    if(newData[i].id == id){\r\n                                        newData.splice(i, 1);\r\n                                        \r\n                                        this.affterDeleting = newData;\r\n                                        this.data = newData;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                alert('Ошибка!\\r\\rНе удалось удалить элемент.\\r\\rИнформация об ошибке:\\r'+error);\r\n                            }\r\n                        });\r\n            }\r\n        },\r\n        loadData(link, i){\r\n            axios({\r\n                method: 'get',\r\n                url: link+'?page='+i,\r\n                headers: { Authorization: this.AuthStr }})\r\n            .then((resp) => {\r\n                resp.data.data.cash_executions.forEach(cashExecution => {\r\n                    let tmp = {};\r\n\r\n                    tmp.id = cashExecution.id;\r\n                    tmp.options = [];\r\n                    tmp.isGrey = true;\r\n\r\n                    tmp.options.push(\r\n                        {\r\n                            id: 'delet',\r\n                            text: 'Удалить',\r\n                            event: this.delet\r\n                        }\r\n                    );\r\n\r\n                    let date = cashExecution.payment_date != null ? (new Date(cashExecution.payment_date)).toLocaleDateString() : '';\r\n\r\n                    tmp.data = {};\r\n                    \r\n                    tmp.data.objectName = {};\r\n                    tmp.data.objectName.value = cashExecution.object_name;\r\n                    tmp.data.objectName.type = 'text';\r\n                    \r\n                    tmp.data.stageName = {};\r\n                    tmp.data.stageName.value = cashExecution.stage_name;\r\n                    tmp.data.stageName.type = 'text';\r\n                    \r\n                    tmp.data.price = {};\r\n                    tmp.data.price.value = cashExecution.price ? parseFloat(cashExecution.price).toLocaleString() : '';\r\n                    tmp.data.price.type = 'number';\r\n                    \r\n                    tmp.data.amount_paid = {};\r\n                    tmp.data.amount_paid.value = cashExecution.amount_paid ? parseFloat(cashExecution.amount_paid).toLocaleString() : '';\r\n                    tmp.data.amount_paid.type = 'number';\r\n                    \r\n                    tmp.data.advance_balance = {};\r\n                    tmp.data.advance_balance.value = cashExecution.advance_balance ? parseFloat(cashExecution.advance_balance).toLocaleString() : '';\r\n                    tmp.data.advance_balance.type = 'number';\r\n                    \r\n                    tmp.data.date = {};\r\n                    tmp.data.date.value = date;\r\n                    tmp.data.date.type = 'date';\r\n                    \r\n                    tmp.data.note = {};\r\n                    tmp.data.note.value = cashExecution.note;\r\n                    tmp.data.note.type = 'text';\r\n\r\n                    this.data.push(tmp);\r\n                });\r\n\r\n                if(resp.data.data.cash_executions.length > 0){\r\n                    i = i + 1;\r\n                    this.loadData(link, i);\r\n                }\r\n                else{\r\n                    let tmp = this.data;\r\n\r\n                    this.data = [];\r\n\r\n                    tmp.sort((a,b)=>{\r\n                        if(a.id < b.id){\r\n                            return 1;\r\n                        }\r\n                        if(a.id > b.id){\r\n                            return -1;\r\n                        }\r\n                        if(a.id == b.id){\r\n                            return 0;\r\n                        }\r\n                    });\r\n\r\n                    tmp[0].isGrey = false;\r\n                    tmp[0].options.splice(0, 0,\r\n                        {\r\n                            id: 'add',\r\n                            text: 'Редактировать',\r\n                            event: this.add\r\n                        }\r\n                    );\r\n                    \r\n                    setTimeout(()=>{\r\n                        this.data = tmp;\r\n                    }, 10);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData(config.host+'/api/contracts/'+this.$router.history.current.params.id+'/cashExecutions',1);\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cash-execution.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cash-execution.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cash-execution.vue?vue&type=template&id=d44218a8&\"\nimport script from \"./cash-execution.vue?vue&type=script&lang=js&\"\nexport * from \"./cash-execution.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\n\r\nimport LoginPage from './pages/login-page.vue'\r\n\r\nimport MainPage from './pages/main-page.vue'\r\n    import Users from './pages/users.vue'\r\n    import Deals from './pages/deals.vue'\r\n    import Watcher from './pages/watcher.vue'\r\n        import WatcherObjects from './pages/deal-pages/watcher/objects'\r\n        import WatcherObjectView from './pages/deal-pages/watcher/object-view'\r\n    import DealView from './pages/deal-view.vue'\r\n        import ShipInfo from './pages/deal-pages/ship-info'\r\n        import BankGuaratees from './pages/deal-pages/about/bank-guarantees'\r\n        import Limit from './pages/deal-pages/about/limit'\r\n        import Objects from './pages/deal-pages/objects'\r\n            import ObjectView from './pages/deal-pages/objects/object-view'\r\n                import AboutObject from './pages/deal-pages/objects/about'\r\n                import Whatchers from './pages/deal-pages/objects/watchers'\r\n                import UP from './pages/deal-pages/objects/up'\r\n                import USh from './pages/deal-pages/objects/ush'\r\n                import UH from './pages/deal-pages/objects/uh'\r\n            import PaymentStages from './pages/deal-pages/payment-stages'\r\n            import KeyEvents from './pages/deal-pages/key-events'\r\n            import ClaimWork from './pages/deal-pages/claim-work/claim-work'\r\n            import JudicalWork from './pages/deal-pages/claim-work/judical-work'\r\n            import CashExecution from './pages/deal-pages/cash-execution'\r\n        \r\nVue.use(VueRouter);\r\n\r\nexport default new VueRouter({\r\n  mode: \"history\",\r\n  base: process.env.BASE_URL,\r\n  routes: [\r\n    {\r\n        path: '/login',\r\n        component: LoginPage\r\n    },\r\n    {\r\n        path: '/users',\r\n        component : Users\r\n    },\r\n    {\r\n        path: '/watcher',\r\n        component: Watcher,\r\n        children: [\r\n            {\r\n                path: '/watcher/objects/',\r\n                component: WatcherObjects\r\n            },\r\n            {\r\n                path: '/watcher/objects/:idObject',\r\n                component: WatcherObjectView,\r\n                children: [\r\n                    {\r\n                        path: '/watcher/objects/:idObject/UP',\r\n                        component: UP\r\n                    },\r\n                    {\r\n                        path: '/watcher/objects/:idObject/USh',\r\n                        component: USh\r\n                    },\r\n                    {\r\n                        path: '/watcher/objects/:idObject/UH',\r\n                        component: UH\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        path: '/main',\r\n        component: MainPage,\r\n        children: [\r\n            {\r\n                path: '',\r\n                component: Deals\r\n            },\r\n            {\r\n                path: '/deal/:id',\r\n                component: DealView,\r\n                children: [\r\n                    {\r\n                        path : '/deal/:id/ship-info',\r\n                        component : ShipInfo\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/bank-guarantees',\r\n                        component : BankGuaratees\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/limits',\r\n                        component : Limit\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/objects',\r\n                        component : Objects\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/objects/:idObject/',\r\n                        component : ObjectView,\r\n                        children : [\r\n                            {\r\n                                path: '/deal/:id/objects/:idObject/about',\r\n                                component: AboutObject\r\n                            },\r\n                            {\r\n                                path: '/deal/:id/objects/:idObject/watchers',\r\n                                component: Whatchers\r\n                            },\r\n                            {\r\n                                path: '/deal/:id/objects/:idObject/UP',\r\n                                component: UP\r\n                            },\r\n                            {\r\n                                path: '/deal/:id/objects/:idObject/USh',\r\n                                component: USh\r\n                            },\r\n                            {\r\n                                path: '/deal/:id/objects/:idObject/UH',\r\n                                component: UH\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/payment-stages',\r\n                        component : PaymentStages\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/key-events',\r\n                        component : KeyEvents\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/claim-work',\r\n                        component : ClaimWork\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/judical-work',\r\n                        component : JudicalWork\r\n                    },\r\n                    {\r\n                        path : '/deal/:id/cash-execution',\r\n                        component : CashExecution\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n  ]\r\n});\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('app-header',[(_vm.headerButtons)?_c('header-buttons',{attrs:{\"isAdmin\":_vm.isAdmin},on:{\"buttonPressed\":_vm.headerButtonsPressed}}):_vm._e()],1),_c('router-view',{on:{\"update\":_vm.update}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"header\"},[_c('h1',{staticClass:\"logo\"},[_vm._v(\" CLERC \")]),_c('div',{staticClass:\"header-wrapper\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <header class=\"header\">\r\n    <h1 class=\"logo\">\r\n        CLERC\r\n    </h1>\r\n    <div class=\"header-wrapper\">\r\n        <slot></slot>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nexport default {}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.header{\r\n  min-height: 62px;\r\n  background-color: #ffffff;\r\n  border-bottom: 1px solid #DCDCE8;\r\n  display: grid;\r\n  grid-template-columns: auto 1fr;\r\n  align-items: center;\r\n\r\n  .logo{\r\n    padding: 0 60px;\r\n    color: #5361FF;\r\n    font-size: 38px;\r\n    font-weight: bold;\r\n    cursor: default;\r\n    user-select: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-header.vue?vue&type=template&id=c6b0c510&\"\nimport script from \"./app-header.vue?vue&type=script&lang=js&\"\nexport * from \"./app-header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-header.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header_buttons\"},[(this.isAdmin)?_c('button',{staticClass:\"header_button header_button__admin\",attrs:{\"title\":\"Пользователи\"},on:{\"click\":function($event){return _vm.admin()}}}):_vm._e(),(this.isAdmin)?_c('span',{staticClass:\"header_separator\"}):_vm._e(),_c('button',{staticClass:\"header_button header_button__logout\",attrs:{\"title\":\"Выйти\"},on:{\"click\":function($event){return _vm.logOut()}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"header_buttons\">\r\n        <button v-if=\"this.isAdmin\" v-on:click=\"admin()\" class=\"header_button header_button__admin\" title=\"Пользователи\"></button>\r\n        <span v-if=\"this.isAdmin\" class=\"header_separator\"></span>\r\n        <button v-on:click=\"logOut()\" class=\"header_button header_button__logout\" title=\"Выйти\"></button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    props : ['isAdmin'],\r\n    data () {\r\n        return {\r\n            \r\n        }\r\n    },\r\n    methods: {\r\n        admin: function(){\r\n            this.$emit('buttonPressed', 'admin');\r\n        },\r\n        logOut: function(){\r\n            this.$emit('buttonPressed', 'logOut');\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.header{\r\n    &_buttons{\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        align-items: center;\r\n        margin: 0 60px;\r\n    }\r\n\r\n    &_separator{\r\n        width: 1px;\r\n        height: 17px;\r\n        background-color: #2E2E2E;\r\n        margin: 0 20px;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    &_button{\r\n        border: none;\r\n        background-color: transparent;\r\n        width: 17px;\r\n        height: 17px;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        background-size: contain;\r\n\r\n        &__logout{\r\n            background-image: url('../assets/logout.svg');\r\n        }\r\n        \r\n        &__admin{\r\n            background-image: url('../assets/user.svg');\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header-buttons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header-buttons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./header-buttons.vue?vue&type=template&id=0ac9f55e&\"\nimport script from \"./header-buttons.vue?vue&type=script&lang=js&\"\nexport * from \"./header-buttons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header-buttons.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <app-header>\r\n      <header-buttons @buttonPressed=\"headerButtonsPressed\" :isAdmin=\"isAdmin\" v-if=\"headerButtons\" />\r\n    </app-header>\r\n    <router-view @update=\"update\"></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport router from './router'\r\n\r\nimport AppHeader from './components/app-header'\r\nVue.component('app-header', AppHeader)\r\n\r\nimport HeaderButtons from './components/header-buttons'\r\nVue.component('header-buttons', HeaderButtons)\r\n\r\nexport default {\r\n  name: 'app',\r\n  data () {\r\n    return {\r\n      headerButtons: false,\r\n      isAdmin: false\r\n    }\r\n  },\r\n  methods: {\r\n    update: function(state){\r\n      switch(state){\r\n        case 'logIn':\r\n          this.headerButtons = true;\r\n          this.isAdmin = true;\r\n        break;\r\n        case 'watcher':\r\n          this.headerButtons = true;\r\n          this.isAdmin = false;\r\n          break;\r\n        case 'logOut':\r\n          sessionStorage.clear();\r\n          this.headerButtons = false;\r\n        break;\r\n      }\r\n    },\r\n    headerButtonsPressed: function(button){\r\n      switch(button){\r\n        case 'admin':\r\n          router.push('/users')\r\n          break;\r\n\r\n        case 'logOut':\r\n          this.update('logOut');\r\n          router.push('/login');\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    if (sessionStorage.getItem('role')) {\r\n      this.headerButtons = true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n*{\r\n  box-sizing: border-box;\r\n  font-family: sans-serif;\r\n  outline: none;\r\n  color: #2E2E2E;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\nbody{\r\n  background-color: #F6F7FB;\r\n}\r\n#app{\r\n  display: grid;\r\n  grid-template-rows: auto 1fr;\r\n  width: 100vw;\r\n  height: 100vh;\r\n}\r\nbutton{\r\n  cursor: pointer;\r\n}\r\n.link{\r\n  text-decoration: none;\r\n  color: #5067FF;\r\n}\r\n.back-link{\r\n  text-decoration: none;\r\n  color: #5067FF;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n}\r\n.back-link::before{\r\n  content: '';\r\n  width: 4px;\r\n  height: 6px;\r\n  background-image: url('./assets/back-arrow.svg');\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  margin-right: 5px;\r\n}\r\n.scroll-area {\r\n    height: calc(100vh - 250px) !important;\r\n    width: 100% !important;\r\n    overflow: hidden;\r\n    background-color: #ffffff;\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-rows: auto 1fr;\r\n}\r\n\r\n.ps__rail-x{\r\n  width: calc(100% - 15px) !important;\r\n\r\n  div{\r\n    margin-bottom: 7.5px;\r\n    height: 15px !important;\r\n  }\r\n}\r\n.ps__rail-y{\r\n  height: calc(100% - 15px) !important;\r\n  width: 30px;\r\n  z-index: 1000;\r\n  \r\n  div{\r\n    margin-right: 7.5px;\r\n    width: 15px !important;\r\n  }\r\n}\r\n.ps__rail-x{\r\n  height: 30px;\r\n}\r\n.ps__rail-x, .ps__rail-y{\r\n    background-color: #EFEFF4;\r\n    border-radius: 7px;\r\n    padding: 3px;\r\n    overflow: hidden;\r\n\r\n    div{\r\n        background-color: #5361FF !important;\r\n        border-radius: 7.5px;\r\n        cursor: pointer;\r\n    }\r\n}\r\n\r\n.add-row {\r\n    background-color: #5361FF;\r\n    border: none;\r\n    color: #ffffff;\r\n    padding: 10px 30px;\r\n    border-radius: 5px;\r\n    width: max-content;\r\n}\r\n.input-dialog{\r\n    display: none;\r\n}\r\n\r\nsection{\r\n  padding-right: 30px !important;\r\n  padding-bottom: 30px !important;\r\n  position: relative;\r\n\r\n  .ps__rail-y{\r\n    // margin-right: -30px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=56e98846&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport router from './router'\r\n\r\nimport App from './App.vue'\r\n\r\n    if (sessionStorage.getItem('token_type') == null) {\r\n      router.push('/login');\r\n    }\r\n    else {\r\n      if (window.location.pathname == '/') {\r\n        if (sessionStorage.getItem('role') == 1) {\r\n          router.push('/main');\r\n        }\r\n        else {\r\n          router.push('/watcher');\r\n        }\r\n      }\r\n      else {\r\n        if (sessionStorage.getItem('role') == 1) {\r\n          if(window.location.pathname.indexOf('watcher') >= 0) {\r\n            router.push('/main');\r\n          }\r\n        }\r\n        else {\r\n          if(window.location.pathname.indexOf('watcher') == -1) {\r\n            router.push('/watcher');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  render: h => h(App)\r\n});\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-view.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-view.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tables-view.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tables-view.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./breadcrumbs.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./breadcrumbs.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./more-tools.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./more-tools.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./presentation-form.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./presentation-form.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./up.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./up.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login-page.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login-page.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-page.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-page.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./limit.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./limit.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deals.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deals.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./objects.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./objects.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./row-view.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./row-view.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./limit-view.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./limit-view.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./presentation.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./presentation.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form-input.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form-input.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header-buttons.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header-buttons.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}